/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x2b8c70}from'ckeditor5/src/core.js';import{CKEditorError as _0x24f30c}from'ckeditor5/src/utils.js';import{ButtonView as _0x3fe5f4,SplitButtonView as _0x2de62c,createDropdown as _0x2ba80a,MenuBarMenuListItemButtonView as _0x1e58fe}from'ckeditor5/src/ui.js';import _0x3accd4 from'./ui/multilevellistview.js';import _0x37a2f8 from'../theme/icons/multi-level-list.svg';export default class l extends _0x2b8c70{static get['pluginName'](){return'MultiLevelListUI';}constructor(_0x1dfa50){super(_0x1dfa50),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x1b81b2=this['editor'],t=_0x1b81b2['locale']['t'];_0x1b81b2['ui']['componentFactory']['add']('multiLevelList',function({editor:_0x19a67c,parentCommandName:_0x46e9d7,buttonLabel:_0x319460,buttonIcon:_0x4b1170,styleGridAriaLabel:_0x313cae,styleDefinitions:_0x162c19}){const _0x5cd1f3=_0x19a67c['commands']['get'](_0x46e9d7),_0x2743b3=_0x19a67c['config']['get']('list.properties')||{},_0x46253b=_0x19a67c['plugins']['has']('ListProperties'),_0x126915=_0x2743b3['startIndex'];if(!_0x46253b||!_0x126915)return _0x5835b5=>{const _0xa7d83b=new _0x3fe5f4(_0x5835b5);return _0xa7d83b['set']({'label':_0x319460,'icon':_0x4b1170,'tooltip':!0x0,'isToggleable':!0x0}),_0xa7d83b['bind']('isOn')['to'](_0x5cd1f3,'value',_0x3d4020=>!!_0x3d4020),_0xa7d83b['on']('execute',()=>{_0x19a67c['execute'](_0x46e9d7),_0x19a67c['editing']['view']['focus']();}),_0xa7d83b;};return _0x5365fd=>{const _0x527b6b=_0x2ba80a(_0x5365fd,_0x2de62c),_0x5cc312=_0x527b6b['buttonView'];return _0x527b6b['bind']('isEnabled')['to'](_0x5cd1f3),_0x527b6b['class']='ck-list-styles-dropdown',_0x5cc312['on']('execute',()=>{_0x19a67c['execute'](_0x46e9d7),_0x19a67c['editing']['view']['focus']();}),_0x5cc312['set']({'label':_0x319460,'icon':_0x4b1170,'tooltip':!0x0,'isToggleable':!0x0}),_0x5cc312['bind']('isOn')['to'](_0x5cd1f3,'value',_0x2dbb0d=>!!_0x2dbb0d),_0x527b6b['once']('change:isOpen',()=>{const _0x3e3fc1=function({editor:_0x5a9d7f,dropdownView:_0x9f594f,styleDefinitions:_0x49d3e2,styleGridAriaLabel:_0x1e65c8}){const _0x52a1bc=_0x5a9d7f['locale'],_0x24940a=_0x5a9d7f['config']['get']('list.properties'),_0xc77aef=null;_0x24940a['reversed']=!0x1,_0x49d3e2['length']||(_0x24940a['styles']=!0x1);const _0x2c0315=new _0x3accd4(_0x52a1bc,{'styleGridAriaLabel':_0x1e65c8,'enabledProperties':_0x24940a,'styleButtonViews':_0xc77aef});if(_0x24940a['startIndex']){const _0x587a9e=_0x5a9d7f['commands']['get']('listStart');_0x2c0315['startIndexFieldView']['bind']('isEnabled')['to'](_0x587a9e),_0x2c0315['startIndexFieldView']['fieldView']['bind']('value')['to'](_0x587a9e),_0x2c0315['on']('listStart',(_0x3a6693,_0x5d3810)=>_0x5a9d7f['execute']('listStart',_0x5d3810));}return _0x2c0315['delegate']('execute')['to'](_0x9f594f),_0x2c0315;}({'editor':_0x19a67c,'dropdownView':_0x527b6b,'parentCommandName':_0x46e9d7,'styleGridAriaLabel':_0x313cae,'styleDefinitions':_0x162c19});_0x527b6b['panelView']['children']['add'](_0x3e3fc1);}),_0x527b6b['on']('execute',()=>{_0x19a67c['editing']['view']['focus']();}),_0x527b6b;};}({'editor':_0x1b81b2,'parentCommandName':'multiLevelList','buttonLabel':t('Multi-level\x20List'),'buttonIcon':_0x37a2f8,'styleGridAriaLabel':t('Multi-level\x20list\x20styles\x20toolbar'),'styleDefinitions':[]})),_0x1b81b2['ui']['componentFactory']['add']('menuBar:multiLevelList',()=>{const _0x5de96b=_0x1b81b2['commands']['get']('multiLevelList'),_0x455813=new _0x1e58fe(_0x1b81b2['locale']);return _0x455813['set']({'label':t('Multi-level\x20List'),'icon':_0x37a2f8}),_0x455813['bind']('isEnabled')['to'](_0x5de96b),_0x455813['bind']('isOn')['to'](_0x5de96b,'value',_0x5452bc=>!!_0x5452bc),_0x455813['on']('execute',()=>{_0x1b81b2['execute']('multiLevelList'),_0x1b81b2['editing']['view']['focus']();}),_0x455813;}),this['licenseKey']=_0x1b81b2['config']['get']('licenseKey');const _0x5b3d59=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x120274;for(const _0x472f87 in _0x5b3d59){const _0x4e3752=_0x472f87,_0x4f0608=_0x5b3d59[_0x4e3752];if('multiLevelListLicenseKeyTrial'===_0x4f0608||'multiLevelListLicenseKeyInvalid'===_0x4f0608||'multiLevelListLicenseKeyValid'===_0x4f0608||'multiLevelListLicenseKeyTrialLimit:operations'===_0x4f0608){delete _0x5b3d59[_0x4e3752],_0x120274=_0x4f0608;break;}}if('multiLevelListLicenseKeyInvalid'===_0x120274)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x24f30c('multi-level-list-invalid-license-key',null);if('multiLevelListLicenseKeyTrial'===_0x120274&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20multi\x20level\x20list\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'multiLevelListLicenseKeyTrialLimit:operations'===_0x120274)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x24f30c('multi-level-list-trial-license-key-reached-limit-changes',null);'multiLevelListLicenseKeyValid'===_0x120274&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}['destroy'](){this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as ts,Plugin as _0xb043f8,PendingActions as _0x3884e7,icons as _0x3b06df}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x45589d,ObservableMixin as _0x25052f,uid as _0x28a03f,insertToPriorityArray as _0x297d2e,priorities as _0x372317,logWarning as _0x2418e7,Collection as Wt}from'@ckeditor/ckeditor5-utils/dist/index.js';import{normalizeColorOptions as _0x49a9d5,View as _0x53ccf7,ButtonView as _0x422088,ViewModel as te,createDropdown as zt,SplitButtonView as Zt,addListToDropdown as qt,MenuBarMenuView as Kt,MenuBarMenuListView as Qt,ListSeparatorView as Jt,MenuBarMenuListItemView as Xt,MenuBarMenuListItemButtonView as Yt}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x41dc47,hashObject as _0x363ea6,surroundingMarkersDetector as _0x47c132,trimHtml as _0x1b0cb7,UserView as _0x4bbdec,getDateTimeFormatter as _0x29d890,getAllMarkersDomElementsSorted as _0xaff61b,sanitizeEditorConfig as _0x525b78}from'ckeditor5-collaboration/dist/index.js';import{Element as _0x54d8d1,LiveRange as _0x4b333b,LivePosition as _0x3b8735}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0x18523e,toWidget as _0x1d2c9b}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x231b12,set as _0x2bdead,isEqual as _0x4e6dbd,unset as _0x584bd9,omit as Bt}from'lodash-es';import{Delete as _0xcdef9d,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x63f173,ShiftEnter as _0x58baa5}from'@ckeditor/ckeditor5-enter/dist/index.js';class M extends ts{['_enabledCommands'];constructor(_0x53059d,_0x4b8836){super(_0x53059d),this['_enabledCommands']=_0x4b8836,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0xa5e575 of this['editor']['commands']['commands']())_0xa5e575['affectsData']&&!this['_enabledCommands']['has'](_0xa5e575)&&_0xa5e575['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x471c01 of this['editor']['commands']['commands']())_0x471c01['affectsData']&&!this['_enabledCommands']['has'](_0x471c01)&&_0x471c01['clearForceDisabled']('TrackChangesCommand');}}class $ extends ts{['_suggestions'];constructor(_0x2be9fa,_0x10ff54){super(_0x2be9fa),this['_suggestions']=_0x10ff54,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x4c6c7c){const _0x5870f3=this['_suggestions']['get'](_0x4c6c7c);if(!_0x5870f3)throw new _0x45589d('track-changes-accept-suggestion-not-found',this);const _0x3297d3=_0x5870f3['getRanges']();this['editor']['model']['canEditAt'](_0x3297d3)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x5870f3);}}class B extends ts{['_suggestions'];constructor(_0x3c79bc,_0x34c271){super(_0x3c79bc),this['_suggestions']=_0x34c271,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x2ae0d9){const _0x3412cb=this['_suggestions']['get'](_0x2ae0d9);if(!_0x3412cb)throw new _0x45589d('track-changes-discard-suggestion-not-found',this);const _0x9b995=_0x3412cb['getRanges']();this['editor']['model']['canEditAt'](_0x9b995)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x3412cb);}}function ss(_0x19802a){return _0x19802a['sort']((_0x404267,_0x1049e9)=>'deletion'==_0x404267['type']&&'deletion'!=_0x1049e9['type']?-0x1:'deletion'!=_0x404267['type']&&'deletion'==_0x1049e9['type']?0x1:0x0);}function to(_0x52fc8a,_0x4bef6a){let _0x452dd1,_0x511783=0x0;const _0x34433a=[],_0x273be2=_0x4bef6a['schema'];for(;_0x511783<_0x52fc8a['length'];){const _0x3db426=_0x52fc8a[_0x511783],_0x448ed4=_0x52fc8a[_0x511783+0x1];_0x452dd1||(_0x452dd1=_0x4bef6a['createPositionBefore'](_0x3db426)),co(_0x4bef6a,_0x3db426,_0x448ed4)||(_0x34433a['push'](_0x4bef6a['createRange'](_0x452dd1,_0x273be2['isObject'](_0x3db426)?_0x4bef6a['createPositionAfter'](_0x3db426):_0x4bef6a['createPositionAt'](_0x3db426,'end'))),_0x452dd1=null),_0x511783++;}return _0x34433a;}function co(_0x24cb3b,_0x487090,_0x4586e6){if(!_0x4586e6)return!0x1;const _0x480c92=_0x24cb3b['createPositionAfter'](_0x487090),_0x92ac2a=_0x24cb3b['createPositionBefore'](_0x4586e6);return _0x480c92['isTouching'](_0x92ac2a);}function rs(_0x178377,_0x315980,_0x3db89f){for(;_0x3db89f['length'];){const _0x9e62f5=_0x3db89f['splice'](0x0,0x64);_0x178377['change'](()=>{for(const _0x3974f1 of _0x9e62f5)_0x3974f1['isInContent']&&_0x315980['execute'](_0x3974f1['id']);});}}class x extends ts{['_command'];['_suggestions'];constructor(_0x13cde0,_0x281344,_0x5cfca8){super(_0x13cde0),this['_command']=_0x281344,this['_suggestions']=_0x5cfca8,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x26fcf=Array['from'](this['_suggestions']['values']())['some'](_0x47953c=>_0x47953c['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x26fcf;}['execute'](){const _0x3d3bd8=ss(Array['from'](this['_suggestions']['values']()));for(const _0x3be5b6 of _0x3d3bd8){const _0x427e5f=_0x3be5b6['getRanges']();if(!this['editor']['model']['canEditAt'](_0x427e5f))return;}rs(this['editor']['model'],this['_command'],_0x3d3bd8);}}class R extends ts{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x36ad79,_0xf5cac1,_0x2b1247){super(_0x36ad79),this['_command']=_0xf5cac1,this['_suggestions']=_0x2b1247,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x24cd8a=this['editor']['model']['document']['selection'],_0x50343b=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x31ece4,_0x1fa5d7){const _0x2aa63f=Array['from'](_0x31ece4['getRanges']()),_0x2f7234=new Set();for(const _0x100c44 of _0x1fa5d7)if(_0x100c44['isInContent']){for(const _0x1b6861 of _0x2aa63f)for(const _0x33d31b of _0x100c44['getRanges']())(_0x1b6861['isIntersecting'](_0x33d31b)||_0x31ece4['isCollapsed']&&!_0x100c44['isMultiRange']&&_0x100c44['next']&&_0x33d31b['end']['isTouching'](_0x1b6861['start']))&&_0x2f7234['add'](_0x100c44);}return _0x2f7234;}(_0x24cd8a,_0x50343b),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0xd35713=ss(Array['from'](this['_selectedSuggestions']));for(const _0x4b267d of _0xd35713){const _0x4291de=_0x4b267d['getRanges']();if(!this['editor']['model']['canEditAt'](_0x4291de))return;}rs(this['editor']['model'],this['_command'],_0xd35713);}}class u extends/* #__PURE__ -- @preserve */
_0x25052f(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x5cfa37,_0x407fa1){super(),this['id']=_0x407fa1['id'],this['type']=_0x407fa1['type'],this['subType']=_0x407fa1['subType']||null,this['author']=_0x407fa1['author'],this['creator']=_0x407fa1['creator']||_0x407fa1['author'],this['isExternal']=Boolean(_0x407fa1['attributes']&&_0x407fa1['attributes']['@external']),this['data']=null,this['_model']=_0x5cfa37,this['_onAccept']=_0x407fa1['onAccept'],this['_onDiscard']=_0x407fa1['onDiscard'],this['_onAttributesChange']=_0x407fa1['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x407fa1['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0x3e69e2=this;for(;_0x3e69e2['previous'];)_0x3e69e2=_0x3e69e2['previous'];return _0x3e69e2;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0x426126){this['_markerNames']['add'](_0x426126);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x191f4d=>this['_model']['markers']['get'](_0x191f4d))['filter'](_0x156f26=>_0x156f26);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x5dbfb8=>{for(const _0x548918 of this['getMarkers']())_0x5dbfb8['removeMarker'](_0x548918);}),this['_markerNames']['clear']();}['removeMarker'](_0x11a78c){this['_model']['change'](_0x1666d7=>{_0x1666d7['removeMarker'](_0x11a78c);}),this['_markerNames']['delete'](_0x11a78c);}['addRange'](_0x3a9fdd){const _0x381ec3='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+u['getMultiRangeId']();this['addMarkerName'](_0x381ec3),this['_model']['change'](_0x557d58=>{_0x557d58['addMarker'](_0x381ec3,{'range':_0x3a9fdd,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x1bdb82){for(const _0x316f91 of this['getRanges']())if(_0x316f91['isIntersecting'](_0x1bdb82))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0x295cc5=>_0x295cc5['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x5bfffd,_0x3d9ee0)=>[..._0x5bfffd,..._0x3d9ee0['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x1ac1e1=this['getRanges']();if(0x1!=_0x1ac1e1['length'])return null;const _0x2f0b36=_0x1ac1e1[0x0],_0x392933=_0x2f0b36['start']['nodeAfter'],_0x43b933=_0x2f0b36['end']['nodeBefore'];return _0x392933 instanceof _0x54d8d1?_0x392933!=_0x43b933?null:_0x392933:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x3df7d9=[];let _0x50093c=this['head'];for(;_0x50093c;)_0x3df7d9['push'](_0x50093c),_0x50093c=_0x50093c['next'];return _0x3df7d9;}['setAttribute'](_0xbf364d,_0x5c36f3){const _0x524471=_0x231b12(this['attributes']);_0x2bdead(_0x524471,_0xbf364d,_0x5c36f3),_0x4e6dbd(_0x524471,this['attributes'])||(this['attributes']=_0x524471,this['_onAttributesChange'](_0x524471));}['removeAttribute'](_0x4179a3){const _0x5ae6d4=_0x231b12(this['attributes']);_0x584bd9(_0x5ae6d4,_0x4179a3),_0x4e6dbd(_0x5ae6d4,this['attributes'])||(this['attributes']=_0x5ae6d4,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x28a03f()['substr'](0x1,0x5);}}function o(_0x4acf33,_0x2110bc,_0x1c75fb){const t=_0x4acf33['t'];switch(_0x2110bc){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x1c75fb);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x1c75fb);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x1c75fb);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x1c75fb);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x1c75fb);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x1c75fb);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x1c75fb);case'*Replace\x20image\x20URL*':return t('*Replace\x20image\x20URL*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x1c75fb);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x1c75fb);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x1c75fb);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x1c75fb);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x1c75fb);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x1c75fb);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x1c75fb);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x1c75fb);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x1c75fb);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x1c75fb);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x1c75fb);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x1c75fb);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x1c75fb);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x1c75fb);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x1c75fb);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x1c75fb);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x1c75fb);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x1c75fb);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x1c75fb);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x1c75fb);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x1c75fb);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x1c75fb);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x1c75fb);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x1c75fb);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x1c75fb);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x1c75fb);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x1c75fb);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x1c75fb);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x1c75fb);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x1c75fb);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x1c75fb);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x1c75fb);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x1c75fb);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x1c75fb);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x1c75fb);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x1c75fb);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x1c75fb);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return t({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x1c75fb);case'EXTERNAL_IMPORT_WORD_AVATAR':return t({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x1c75fb);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});default:return _0x2110bc;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x148d3d,_0x4ed225){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x148d3d,this['_locale']=_0x4ed225;}['getDescriptions'](_0x2c1b9a){const _0x2ecf44=[],_0x775d55=new Set(),_0x4b0002=new Set();for(let _0x1ab2e6=0x0;_0x1ab2e6<_0x2c1b9a['length'];_0x1ab2e6++){const _0x17f461=_0x2c1b9a[_0x1ab2e6];if(!_0x17f461['isInContent'])continue;const _0x4dbb03=this['_handleCustomCallbackDescription'](_0x17f461);if(_0x4dbb03){if(null!=_0x17f461['subType']){if(_0x775d55['has'](_0x17f461['subType']))continue;_0x775d55['add'](_0x17f461['subType']);}_0x2ecf44['push'](_0x4dbb03);}else{if('attribute'!=_0x17f461['type'])'insertion'!=_0x17f461['type']&&'deletion'!=_0x17f461['type']||this['_handleInsertRemoveSuggestionDescription'](_0x2ecf44,_0x17f461,_0x2c1b9a[_0x1ab2e6+0x1]);else{const _0x5e5eb6=_0x17f461['data']['key'];if(_0x4b0002['has'](_0x5e5eb6))continue;_0x4b0002['add'](_0x17f461['data']['key']),_0x5e5eb6==m?this['_handleRenameSuggestionDescription'](_0x2ecf44,_0x17f461):this['_handleAttributeSuggestionDescription'](_0x2ecf44,_0x17f461);}}}return this['_resolveDescriptionItems'](_0x2ecf44);}['registerDescriptionCallback'](_0x4689bf){this['_customCallbacks']['push'](_0x4689bf);}['registerElementLabel'](_0xf504a8,_0x7cf5d9,_0x57a9e3=_0x372317['normal']){'function'==typeof _0xf504a8?_0x297d2e(this['_itemLabelsCallbacks'],{'matchingCallback':_0xf504a8,'label':_0x7cf5d9,'priority':_0x57a9e3}):this['_itemLabels']['set'](_0xf504a8,_0x7cf5d9);}['registerAttributeLabel'](_0x1ecb3b,_0x36a841){this['_attributeLabels']['set'](_0x1ecb3b,_0x36a841);}['getItemLabel'](_0x48829a,_0xf32a7a=0x1){let _0x36f2b2;for(const _0x2cad04 of this['_itemLabelsCallbacks'])if(_0x2cad04['matchingCallback'](_0x48829a)){_0x36f2b2=_0x2cad04['label'];break;}return _0x36f2b2||(_0x36f2b2=this['_itemLabels']['get'](_0x48829a['name'])),_0x36f2b2?_0x36f2b2(_0xf32a7a):0x1!==_0xf32a7a?_0xf32a7a+'\x20'+_0x48829a['name']+'s':''+_0x48829a['name'];}['_addDescriptionItems'](_0xf638a4,_0x441614){const _0x3ad0cc=_0x441614['getFirstRange']()['getWalker'](),_0x309b6e='insertion'==_0x441614['type']?'add':'remove';for(const _0x5d2aa4 of _0x3ad0cc){const _0x5d7888=_0x5d2aa4['item'],_0x56d3bd=_0xf638a4[_0xf638a4['length']-0x1];if(_0x5d7888['is']('$textProxy'))_0x56d3bd&&_0x56d3bd['type']['indexOf']('Container')>-0x1&&_0xf638a4['pop'](),_0x56d3bd&&'text'==_0x56d3bd['type']?_0x56d3bd[_0x309b6e]+=_0x5d7888['data']:_0xf638a4['push']({'type':'text','add':'add'==_0x309b6e?_0x5d7888['data']:'','remove':'remove'==_0x309b6e?_0x5d7888['data']:''});else{if(this['_schema']['isObject'](_0x5d7888)){const _0x37aee1=_0x5d7888;if(_0x56d3bd&&_0x56d3bd['type']['indexOf']('Container')>-0x1&&_0xf638a4['pop'](),'elementEnd'==_0x5d2aa4['type'])continue;_0x56d3bd&&_0x56d3bd['type']==_0x309b6e+'Object'&&_0x56d3bd['element']['name']==_0x37aee1['name']?_0x56d3bd['quantity']++:_0xf638a4['push']({'type':_0x309b6e+'Object','element':_0x37aee1,'quantity':0x1}),_0x3ad0cc['skip'](_0x1b6c99=>!('elementEnd'==_0x1b6c99['type']&&_0x1b6c99['item']==_0x5d7888));}else{if(this['_schema']['checkChild'](_0x5d7888,'$text')||_0x5d7888['is']('element','softBreak')){const _0x41beb9=_0x5d7888;if('add'==_0x309b6e&&'elementStart'==_0x5d2aa4['type']||'remove'==_0x309b6e&&'elementEnd'==_0x5d2aa4['type'])continue;if(_0x56d3bd&&-0x1==_0x56d3bd['type']['indexOf']('Container')){'text'==_0x56d3bd['type']&&(_0x56d3bd[_0x309b6e]+='\x0a');continue;}let _0x14b126;if(_0x14b126='add'==_0x309b6e?_0x41beb9['nextSibling']&&!this['_schema']['isObject'](_0x41beb9['nextSibling'])?_0x41beb9['nextSibling']:null:_0x41beb9['previousSibling']&&!this['_schema']['isObject'](_0x41beb9['previousSibling'])?_0x41beb9['previousSibling']:null,_0x41beb9['isEmpty']||_0x14b126&&_0x14b126['isEmpty']){const _0x1ea8b8=_0x14b126&&_0x14b126['isEmpty']?_0x14b126:_0x41beb9;_0x56d3bd&&_0x56d3bd['type']==_0x309b6e+'EmptyContainer'&&_0x56d3bd['element']['name']==_0x1ea8b8['name']?_0x56d3bd['quantity']++:_0xf638a4['push']({'type':_0x309b6e+'EmptyContainer','element':_0x1ea8b8,'quantity':0x1});}else _0xf638a4['push']({'type':_0x309b6e+'Container','element':_0x41beb9});}}}}}['_resolveDescriptionItems'](_0x13bf99){const _0x5de28c=this['_locale'],_0x109d8e=[],_0x14bf5b=[],_0x1efcd4=[];for(const _0x3c9d66 of _0x13bf99)switch(_0x3c9d66['type']){case'text':if(_0x3c9d66['add']=_0x3c9d66['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x3c9d66['remove']=_0x3c9d66['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x3c9d66['add']&&''!=_0x3c9d66['remove']){_0x109d8e['push']({'type':'replace','content':o(_0x5de28c,'REPLACE_TEXT',['\x22'+_0x3c9d66['remove']+'\x22','\x22'+_0x3c9d66['add']+'\x22'])});continue;}if(null!=_0x3c9d66['add']['match'](/^ +$/)){_0x109d8e['push']({'type':'insertion','content':o(_0x5de28c,'*Insert:*\x20%0',o(_0x5de28c,'ELEMENT_SPACE',_0x3c9d66['add']['length']))});continue;}if(null!=_0x3c9d66['remove']['match'](/^ +$/)){_0x109d8e['push']({'type':'deletion','content':o(_0x5de28c,'*Remove:*\x20%0',o(_0x5de28c,'ELEMENT_SPACE',_0x3c9d66['remove']['length']))});continue;}if(''!=_0x3c9d66['add']){_0x109d8e['push']({'type':'insertion','content':o(_0x5de28c,'*Insert:*\x20%0','\x22'+_0x3c9d66['add']+'\x22')});continue;}_0x109d8e['push']({'type':'deletion','content':o(_0x5de28c,'*Remove:*\x20%0','\x22'+_0x3c9d66['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x109d8e['push']({'type':'insertion','content':o(_0x5de28c,'*Insert:*\x20%0',this['getItemLabel'](_0x3c9d66['element'],_0x3c9d66['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x109d8e['push']({'type':'deletion','content':o(_0x5de28c,'*Remove:*\x20%0',this['getItemLabel'](_0x3c9d66['element'],_0x3c9d66['quantity']))});continue;case'addContainer':_0x109d8e['push']({'type':'insertion','content':o(_0x5de28c,'*Split:*\x20%0',this['getItemLabel'](_0x3c9d66['element'],_0x3c9d66['quantity']))});continue;case'removeContainer':_0x109d8e['push']({'type':'deletion','content':o(_0x5de28c,'*Merge:*\x20%0',this['getItemLabel'](_0x3c9d66['element'],_0x3c9d66['quantity']))});continue;case'addFormat':_0x14bf5b['push'](_0x3c9d66['key']);continue;case'removeFormat':_0x1efcd4['push'](_0x3c9d66['key']);continue;default:_0x109d8e['push'](_0x3c9d66);}if(_0x14bf5b['length']){const _0x2926ab=_0x14bf5b['map'](_0x45f8eb=>this['_attributeLabels']['has'](_0x45f8eb)?this['_attributeLabels']['get'](_0x45f8eb):_0x45f8eb)['join'](',\x20');_0x109d8e['push']({'type':'format','content':o(this['_locale'],'*Set\x20format:*\x20%0',_0x2926ab)});}if(_0x1efcd4['length']){const _0xa6b35a=_0x1efcd4['map'](_0xdaf3f1=>this['_attributeLabels']['has'](_0xdaf3f1)?this['_attributeLabels']['get'](_0xdaf3f1):_0xdaf3f1)['join'](',\x20');_0x109d8e['push']({'type':'format','content':o(this['_locale'],'*Remove\x20format:*\x20%0',_0xa6b35a)});}return _0x109d8e;}['_handleCustomCallbackDescription'](_0x37429c){for(const _0x37007f of this['_customCallbacks']){const _0x4af961=_0x37007f(_0x37429c);if(_0x4af961&&'type'in _0x4af961)return _0x4af961;}}['_handleAttributeSuggestionDescription'](_0x1273dc,_0x284a07){const _0x52925b=_0x284a07['data'],_0x1ff06b=void 0x0===_0x52925b['newValue']?'removeFormat':'addFormat';_0x1273dc['push']({'type':_0x1ff06b,'key':_0x52925b['key']});}['_handleRenameSuggestionDescription'](_0x58900a,_0x211524){_0x58900a['push']({'type':'format','content':o(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x211524['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0xc3a736,_0x509742,_0x20c185){if(this['_addDescriptionItems'](_0xc3a736,_0x509742),_0x20c185&&_0x20c185['getFirstRange']()&&!_0x509742['getFirstRange']()['end']['isEqual'](_0x20c185['getFirstRange']()['start'])){const _0x5be33d=_0xc3a736[_0xc3a736['length']-0x1],_0x4bedf8='insertion'==_0x509742['type']?'add':'remove';_0x5be33d&&'text'==_0x5be33d['type']&&(_0x5be33d[_0x4bedf8]+='\x0a');}}}class E extends _0xb043f8{['afterInit'](){const _0x3a8645=this['editor'],_0x165acc=_0x3a8645['plugins']['get']('TrackChangesEditing');_0x3a8645['commands']['get']('showAIAssistant')&&_0x165acc['enableCommand']('showAIAssistant');}}class V extends _0xb043f8{['afterInit'](){const _0x575ef6=this['editor'],_0x4a5348=_0x575ef6['locale'];if(!_0x575ef6['plugins']['has']('AlignmentEditing'))return;const _0x3488c5=_0x575ef6['plugins']['get']('TrackChangesEditing');_0x3488c5['enableDefaultAttributesIntegration']('alignment'),_0x3488c5['registerBlockAttribute']('alignment'),_0x3488c5['descriptionFactory']['registerAttributeLabel']('alignment',o(_0x4a5348,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x419aa5=this['editor'],_0x6e05bc=_0x419aa5['locale'];_0x419aa5['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x595944=>{if('formatBlock'!=_0x595944['type'])return;const {data:_0x4a68b3}=_0x595944;if(_0x4a68b3&&'alignment'==_0x4a68b3['commandName']){const _0x8ad624=_0x4a68b3['commandParams'][0x0]['value'];return{'type':'format','content':o(_0x6e05bc,'*Format:*\x20%0',function(_0x5af25d){switch(_0x5af25d){case'left':return o(_0x6e05bc,'FORMAT_ALIGN_TO_LEFT');case'right':return o(_0x6e05bc,'FORMAT_ALIGN_TO_RIGHT');case'center':return o(_0x6e05bc,'FORMAT_ALIGN_TO_CENTER');case'justify':return o(_0x6e05bc,'FORMAT_JUSTIFY_TEXT');}}(_0x8ad624))};}});}}const ti=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class U extends _0xb043f8{['afterInit'](){const _0x3ed65f=this['editor'],_0x50dfe1=_0x3ed65f['plugins']['get']('TrackChangesEditing'),_0x53e731=_0x3ed65f['locale'];for(const _0x252472 of ti){if(!_0x3ed65f['plugins']['has'](_0x252472))continue;const _0x84de20=_0x252472['slice'](0x0,-0x7)['toLowerCase'](),_0x27eb66='FORMAT_'+_0x84de20['toUpperCase']();_0x50dfe1['enableDefaultAttributesIntegration'](_0x84de20),_0x50dfe1['registerInlineAttribute'](_0x84de20),_0x50dfe1['descriptionFactory']['registerAttributeLabel'](_0x84de20,o(_0x53e731,_0x27eb66));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x499959=this['editor'],_0x338cfc=_0x499959['locale'],_0x26e1f5=_0x499959['plugins']['get']('TrackChangesEditing');function _0x3fac4c(_0x40d577,_0x24956d){_0x26e1f5['descriptionFactory']['registerDescriptionCallback'](_0xc95652=>{if('formatInline'!=_0xc95652['type'])return;const {data:_0xa7dcad}=_0xc95652;return _0xa7dcad&&_0xa7dcad['commandName']===_0x40d577?_0xa7dcad['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x338cfc,'*Format:*\x20%0',_0x24956d)}:{'type':'format','content':o(_0x338cfc,'*Remove\x20format:*\x20%0',_0x24956d)}:void 0x0;});}_0x3fac4c('bold',o(_0x338cfc,'FORMAT_BOLD')),_0x3fac4c('italic',o(_0x338cfc,'FORMAT_ITALIC')),_0x3fac4c('underline',o(_0x338cfc,'FORMAT_UNDERLINE')),_0x3fac4c('code',o(_0x338cfc,'FORMAT_CODE')),_0x3fac4c('strikethrough',o(_0x338cfc,'FORMAT_STRIKETHROUGH')),_0x3fac4c('subscript',o(_0x338cfc,'FORMAT_SUBSCRIPT')),_0x3fac4c('superscript',o(_0x338cfc,'FORMAT_SUPERSCRIPT'));}}class O extends _0xb043f8{['afterInit'](){const _0x122ecb=this['editor'],_0x38023a=_0x122ecb['locale'];if(!_0x122ecb['plugins']['has']('BlockQuoteEditing'))return;const _0x2b65fc=_0x122ecb['plugins']['get']('TrackChangesEditing'),_0x1f2c57=this['editor']['commands']['get']('blockQuote');_0x2b65fc['enableCommand']('blockQuote',(_0x2b57f2,_0x1e5222={})=>{const _0x2f4f75=this['editor']['model']['document']['selection'],_0x37d858=_0x1e5222&&void 0x0!==_0x1e5222['forceValue']?_0x1e5222['forceValue']:!_0x1f2c57['value'];let _0xd77471=[];if(_0x37d858){const _0x2cf192=Array['from'](_0x2f4f75['getSelectedBlocks']())['filter'](_0x18c560=>oo(_0x18c560)||function(_0xb54bf0,_0x105f8c){const _0x3da3ee=_0x105f8c['checkChild'](_0xb54bf0['parent'],'blockQuote'),_0x5ebf8b=_0x105f8c['checkChild'](['$root','blockQuote'],_0xb54bf0);return _0x3da3ee&&_0x5ebf8b;}(_0x18c560,this['editor']['model']['schema']));_0xd77471=to(_0x2cf192,_0x122ecb['model']);}else{const _0x48b906=Array['from'](_0x2f4f75['getSelectedBlocks']())['filter'](_0x466bb9=>oo(_0x466bb9));_0xd77471=to(_0x48b906,_0x122ecb['model']);}_0x122ecb['model']['change'](()=>{for(const _0x20bc6a of _0xd77471)_0x2b65fc['markBlockFormat'](_0x20bc6a,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x37d858}]});});}),_0x2b65fc['descriptionFactory']['registerDescriptionCallback'](_0x525e1d=>{const {data:_0x7e2d15}=_0x525e1d;if(_0x7e2d15&&'blockQuote'==_0x7e2d15['commandName']){const _0x32d2cb=o(_0x38023a,'ELEMENT_BLOCK_QUOTE');return _0x7e2d15['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x38023a,'*Set\x20format:*\x20%0',_0x32d2cb)}:{'type':'format','content':o(_0x38023a,'*Remove\x20format:*\x20%0',_0x32d2cb)};}});}}function oo(_0x422c2a){return'blockQuote'==_0x422c2a['parent']['name'];}class G extends _0xb043f8{['afterInit'](){const _0xa7ebb9=this['editor'];_0xa7ebb9['plugins']['has']('CaseChange')&&(_0xa7ebb9['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0xa7ebb9['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0xa7ebb9['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class F extends _0xb043f8{['afterInit'](){const _0x29a5f8=this['editor'];_0x29a5f8['commands']['get']('ckbox')&&_0x29a5f8['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class L extends _0xb043f8{['afterInit'](){const _0x2ff439=this['editor'];if(!_0x2ff439['plugins']['has']('CodeBlock'))return;const _0x38d0a6=_0x2ff439['plugins']['get']('TrackChangesEditing'),_0x2844f4=_0x2ff439['locale'],_0x424c15=_0x2ff439['config']['get']('codeBlock')['languages'],_0xb77d65=_0x2ff439['commands']['get']('codeBlock');_0x38d0a6['enableCommand']('indentCodeBlock'),_0x38d0a6['enableCommand']('outdentCodeBlock'),_0x38d0a6['enableCommand']('codeBlock',(_0x3a4246,_0x253a68={})=>{const _0x17f866=_0x2ff439['model'],_0x2a6df4=_0x2ff439['model']['document']['selection'],_0x11fe6e=_0x253a68&&void 0x0!==_0x253a68['forceValue']?_0x253a68['forceValue']:!_0xb77d65['value'];let _0x10fc3e;_0x253a68['language']||(_0x253a68['language']=_0x424c15[0x0]['language']),_0x10fc3e=_0x11fe6e?Array['from'](_0x2a6df4['getSelectedBlocks']())['filter'](_0x524a51=>eo(_0x524a51)||function(_0x36929c,_0x2110e0){if(_0x36929c['is']('rootElement')||_0x2110e0['isLimit'](_0x36929c))return!0x1;return _0x2110e0['checkChild'](_0x36929c['parent'],'codeBlock');}(_0x524a51,_0x17f866['schema'])):Array['from'](_0x2a6df4['getSelectedBlocks']())['filter'](_0x39d293=>eo(_0x39d293));const _0x373608=to(_0x10fc3e,_0x17f866);_0x17f866['change'](()=>{for(const _0x38838a of _0x373608)_0x38d0a6['markBlockFormat'](_0x38838a,{'commandName':'codeBlock','commandParams':[{..._0x253a68,'forceValue':_0x11fe6e}],'formatGroupId':'blockName'});});}),(_0x38d0a6['descriptionFactory']['registerElementLabel']('codeBlock',_0xe9fc8c=>o(_0x2844f4,'ELEMENT_CODE_BLOCK',_0xe9fc8c)),_0x38d0a6['descriptionFactory']['registerDescriptionCallback'](_0x31ea50=>{if('formatBlock'!=_0x31ea50['type'])return;const _0x4161f7=_0x2844f4['t'],{data:_0x5ef641}=_0x31ea50;if(!_0x5ef641||'codeBlock'!=_0x5ef641['commandName'])return;const _0x540e01=_0x5ef641['commandParams'][0x0]['language'],_0x20e2b8=_0x4161f7(_0x424c15['find'](_0x147db3=>_0x147db3['language']===_0x540e01)['label'])['toLowerCase']();return _0x5ef641['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x2844f4,'*Set\x20format:*\x20%0',o(_0x2844f4,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0x20e2b8+')')}:{'type':'format','content':o(_0x2844f4,'*Remove\x20format:*\x20%0',o(_0x2844f4,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0x10be01){return'codeBlock'==_0x10be01['name'];}class H extends _0xb043f8{['afterInit'](){const _0x372572=this['editor'];if(!_0x372572['plugins']['has']('CommentsEditing'))return;_0x372572['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x45a8fd,_0x218ad6,_0x6704){const _0x2aba3a=[];for(const _0x3118b0 of _0x218ad6['getItems']())_0x3118b0['hasAttribute'](_0x45a8fd)&&_0x2aba3a['push'](_0x6704['createRangeOn'](_0x3118b0));return _0x2aba3a;}function _e(_0x7bbd59,_0x3e7c01,{showActiveMarker:_0x37f00e=!0x0}={}){const _0x439215=_0x7bbd59['plugins']['get']('TrackChangesEditing');return(_0x56f615,_0x3957a1,_0x44ffb6)=>{if(!_0x44ffb6['consumable']['test'](_0x3957a1['markerRange'],_0x56f615['name']))return;const _0x5d6c06=_0x3957a1['markerRange']['getWalker'](),_0x91d98=_0x3957a1['markerRange']['start'],_0x41439c=_0x7bbd59['model']['schema'];let _0x33861e=null,_0x274e1d=null,_0x454194=!0x1,_0x23deba=!0x1;for(const _0x559fd0 of _0x5d6c06){const _0x4e1edd=_0x559fd0['item'];_0x454194=_0x454194||_0x41439c['isContent'](_0x4e1edd);const _0x1626e0=_0x44ffb6['mapper']['toViewElement'](_0x4e1edd);if(_0x1626e0&&_0x1626e0['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x559fd0['type']&&(_0x41439c['isBlock'](_0x4e1edd)&&!_0x41439c['isLimit'](_0x4e1edd)&&(_0x4e1edd['nextSibling']||_0x91d98['isAtEnd']?_0x33861e&&_0x33861e['parent']==_0x4e1edd||(_0x33861e=_0x4e1edd,_0x44781f(_0x559fd0['previousPosition']),_0x23deba=!0x0):_0x274e1d=_0x274e1d||_0x559fd0['previousPosition']));}function _0x44781f(_0x428675){const _0x323cb5=_0x44ffb6['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x3e7c01}),_0x3b4c52=_0x44ffb6['mapper']['toViewPosition'](_0x428675);_0x37f00e&&_0x439215['activeMarkers']['includes'](_0x3957a1['markerName'])&&_0x44ffb6['writer']['addClass']('ck-suggestion-marker--active',_0x323cb5),_0x44ffb6['writer']['insert'](_0x3b4c52,_0x323cb5),_0x44ffb6['mapper']['bindElementToMarker'](_0x323cb5,_0x3957a1['markerName']);}_0x454194||_0x23deba||!_0x274e1d||_0x44781f(_0x274e1d);};}class q extends _0xb043f8{static get['requires'](){return[_0xcdef9d];}['init'](){const _0x2596a2=this['editor'],_0x34db89=_0x2596a2['plugins']['get']('TrackChangesEditing');_0x34db89['enableCommand']('delete');const _0x2dc32f=_0x2596a2['commands']['get']('deleteForward');_0x34db89['enableCommand']('deleteForward',(_0x2d9d49,_0x272f9f={})=>{const _0x392a58=_0x2596a2['model']['createSelection'](_0x2596a2['model']['document']['selection']);_0x392a58['isCollapsed']&&_0x2596a2['model']['modifySelection'](_0x392a58,{'direction':'forward','unit':_0x272f9f['unit']});const _0xe5cb37=_0x392a58['getFirstRange'](),_0x43d17f=_0x4b333b['fromRange'](_0xe5cb37);let _0x4b8a1c;_0x2d9d49(_0x272f9f),_0x4b8a1c='$graveyard'==_0x43d17f['root']['rootName']?_0x2596a2['model']['createRange'](_0xe5cb37['start']):_0x2596a2['model']['createRange'](_0x43d17f['start'],_0x43d17f['end']),_0x43d17f['detach'](),_0x2596a2['model']['enqueueChange'](_0x2dc32f['buffer']['batch'],_0x56e547=>{_0x2dc32f['buffer']['lock'](),_0x56e547['setSelection'](_0x56e547['createRange'](_0x4b8a1c['end'])),_0x2dc32f['buffer']['unlock']();});}),_0x2596a2['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',_e(_0x2596a2,'merge'),{'priority':'high'}),_0x2596a2['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x59e5ea,_0x6a9b8e,_0x57f805)=>{_0x57f805['options']['showSuggestionHighlights']&&_e(_0x2596a2,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x59e5ea,_0x6a9b8e,_0x57f805);},{'priority':'high'}),_0x2596a2['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x57219f,_0x546f6e,_0x6430b4)=>{const _0x1e0859=_0x6430b4['mapper']['markerNameToElements'](_0x546f6e['markerName']);if(_0x1e0859){for(const _0x7f574d of _0x1e0859)_0x7f574d['is']('uiElement')&&(_0x6430b4['mapper']['unbindElementFromMarkerName'](_0x7f574d,_0x546f6e['markerName']),_0x6430b4['writer']['remove'](_0x7f574d));}},{'priority':'high'});}}class z extends _0xb043f8{['afterInit'](){const _0x418fc4=this['editor'];if(!_0x418fc4['plugins']['has']('ListEditing'))return;const _0x183862=_0x418fc4['locale'],_0x43325c=_0x418fc4['plugins']['get']('TrackChangesEditing'),_0x3825b2=_0x418fc4['plugins']['has']('TodoListEditing'),_0x13c09=!!_0x418fc4['config']['get']('list.multiBlock');function _0x20668c(_0x218679){return{'type':'format','content':''+o(_0x183862,'*Set\x20format:*\x20%0',_0x218679)};}function _0x2e553a(_0x4f063b){return{'type':'format','content':''+o(_0x183862,'*Remove\x20format:*\x20%0',_0x4f063b)};}_0x43325c['enableDefaultAttributesIntegration']('numberedList'),_0x43325c['enableDefaultAttributesIntegration']('bulletedList'),_0x43325c['enableDefaultAttributesIntegration']('customNumberedList'),_0x43325c['enableDefaultAttributesIntegration']('customBulletedList'),_0x43325c['enableDefaultAttributesIntegration']('indentList'),_0x43325c['enableDefaultAttributesIntegration']('outdentList'),_0x43325c['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x43325c['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x43325c['registerBlockAttribute']('listItemId'),_0x43325c['registerBlockAttribute']('listType'),_0x43325c['registerBlockAttribute']('listIndent'),_0x13c09&&(_0x43325c['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x43325c['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x3825b2&&(_0x43325c['enableDefaultAttributesIntegration']('todoList'),_0x43325c['enableDefaultAttributesIntegration']('checkTodoList'),_0x43325c['registerBlockAttribute']('todoListChecked'),_0x43325c['descriptionFactory']['registerDescriptionCallback'](_0x4451c0=>{const {data:_0x1062c5}=_0x4451c0;if(_0x1062c5&&'todoListChecked'==_0x1062c5['key'])return{'type':'format','content':_0x1062c5['newValue']?o(_0x183862,'*Check\x20item*'):o(_0x183862,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x10e29d=>{if(_0x10e29d['batch']['isUndo'])return!0x1;let _0x5c0e55=!0x1;const _0x12318d=_0x43325c['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x206864=>'todoListChecked'===_0x43325c['_getAttributeKey'](_0x206864));for(const _0x4659fb of _0x12318d){'todo'!=_0x4659fb['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x43325c['_findSuggestions'](_0x4659fb['getFirstRange'](),'attribute')['find'](_0x569fb3=>'listType'===_0x43325c['_getAttributeKey'](_0x569fb3['suggestion']))||(_0x10e29d['removeMarker'](_0x4659fb['getFirstMarker']()),_0x5c0e55=!0x0));}return _0x5c0e55;})),_0x43325c['descriptionFactory']['registerAttributeLabel']('listIndent',o(_0x183862,'FORMAT_INDENT'));const _0x80955b={'type':'format','content':''};_0x43325c['descriptionFactory']['registerDescriptionCallback'](_0x581f9d=>{const {data:_0x36cdd2}=_0x581f9d;if(!_0x36cdd2||'listType'!=_0x36cdd2['key'])return;let _0x172cc1=_0x581f9d['head'];for(;_0x172cc1;){if(_0x172cc1['data']&&(('listStyle'==_0x172cc1['data']['key']||'listMarkerStyle'==_0x172cc1['data']['key'])&&(_0x172cc1['data']['newValue']&&'default'!=_0x172cc1['data']['newValue']||'default'!=_0x172cc1['data']['oldValue']&&!_0x36cdd2['newValue'])||!_0x13c09&&_0x172cc1['data']['key']==m))return _0x80955b;_0x172cc1=_0x172cc1['next'];}if(null==_0x36cdd2['newValue'])switch(_0x36cdd2['oldValue']){case'bulleted':return _0x2e553a(o(_0x183862,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x2e553a(o(_0x183862,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x2e553a(o(_0x183862,'ELEMENT_TODO_LIST'));}switch(_0x36cdd2['newValue']){case'bulleted':return _0x20668c(o(_0x183862,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x20668c(o(_0x183862,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x20668c(o(_0x183862,'ELEMENT_TODO_LIST'));}}),_0x43325c['descriptionFactory']['registerDescriptionCallback'](_0x430933=>{const {data:_0x5b6bdb}=_0x430933;if(_0x5b6bdb&&'listIndent'==_0x5b6bdb['key'])return null==_0x5b6bdb['newValue']||null==_0x5b6bdb['oldValue']&&0x0==_0x5b6bdb['newValue']?_0x80955b:void 0x0;}),_0x43325c['descriptionFactory']['registerDescriptionCallback'](_0x474ef3=>{if('attribute'!=_0x474ef3['type'])return;const {data:_0x4610eb}=_0x474ef3;if(!_0x4610eb||'listItemId'!=_0x4610eb['key'])return;const _0xc60b41=le(_0x474ef3);return'newValue'==_0xc60b41?{'type':'format','content':o(_0x183862,'*Merge:*\x20list\x20item')}:'oldValue'==_0xc60b41?{'type':'format','content':o(_0x183862,'*Split:*\x20list\x20item')}:_0x80955b;}),_0x418fc4['model']['document']['registerPostFixer'](_0x357347=>this['listItemIdFixer'](_0x357347)),_0x418fc4['model']['document']['registerPostFixer'](_0x306420=>this['noTrackChangesFixer'](_0x306420)),_0x418fc4['model']['document']['registerPostFixer'](_0x188020=>this['assureChains'](_0x188020)),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x49d22e){if(_0x49d22e['batch']['isUndo']||!_0x49d22e['batch']['isLocal'])return!0x1;let _0x2d4154=!0x1;const _0x1fe9c0=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x1d822b=>_0x1d822b['data']&&'listItemId'==_0x1d822b['data']['key'])['filter'](_0x538a7c=>_0x538a7c['data']['newValue']&&_0x538a7c['data']['oldValue']);for(const _0x55f8e0 of _0x1fe9c0)le(_0x55f8e0)||(_0x49d22e['removeMarker'](_0x55f8e0['getFirstMarker']()),_0x2d4154=!0x0);return _0x2d4154;}['noTrackChangesFixer'](_0x4df805){if(_0x4df805['batch']['isUndo']||!_0x4df805['batch']['isLocal'])return!0x1;const _0x3e8b62=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x3e8b62['trackChangesCommand']['value'])return!0x1;let _0x1ea134=!0x1;const _0x59f9f1=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x44383c=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x2cbb2f=>'attribute'==_0x2cbb2f['type'])['filter'](_0x9d2fa6=>_0x59f9f1['includes'](_0x9d2fa6['attributeKey']));if(0x0==_0x44383c['length'])return _0x1ea134;for(const _0x547cd2 of _0x44383c){const _0x45df4e=_0x3e8b62['_findSuggestions'](_0x547cd2['range'],'attribute')['filter'](_0x4650a1=>!_0x4650a1['meta']['isNextTo'])['map'](_0x280798=>_0x280798['suggestion'])['filter'](_0x24faf9=>{const _0x3e1f02=_0x3e8b62['_getAttributeKey'](_0x24faf9);return _0x59f9f1['includes'](_0x3e1f02);});if(_0x45df4e['length']){for(const _0x23cd1e of _0x45df4e)_0x4df805['removeMarker'](_0x23cd1e['getFirstMarker']());_0x1ea134=!0x0;}}return _0x1ea134;}['assureChains'](_0x248bbe){if(_0x248bbe['batch']['isUndo']||!_0x248bbe['batch']['isLocal'])return!0x1;const _0x3d4983=this['editor']['plugins']['get']('TrackChangesEditing');let _0x14ab0f=!0x1;const _0x1d111a=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];for(const _0x3f2978 of _0x3d4983['getSuggestions']({'skipNotAttached':!0x0})){const _0x3d89fe=_0x3d4983['_findSuggestions'](_0x3f2978['getFirstRange'](),'attribute')['map'](_0x336687=>_0x336687['suggestion'])['filter'](_0x2d59c1=>_0x2d59c1['data']&&_0x1d111a['includes'](_0x2d59c1['data']['key']));if(!_0x3d89fe['length'])continue;const _0x29ebae=_0x3d89fe[0x0]['head']['attributes']['groupId'];if(!_0x3d89fe['every'](_0x4b0f32=>_0x4b0f32['attributes']['groupId']===_0x29ebae)){for(const _0x4db7c1 of _0x3d89fe)_0x4707bd(_0x4db7c1,_0x29ebae)&&(_0x14ab0f=!0x0);}}return _0x14ab0f;function _0x296ec4(_0x23cc7b,_0xdf46d0){for(const _0x48a9d8 of _0x3d4983['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0xc92c1a=>'attribute'==_0xc92c1a['type']&&_0xc92c1a['attributes']['groupId']==_0x23cc7b))_0x48a9d8['setAttribute']('groupId',_0xdf46d0);}function _0x4707bd(_0x233310,_0x315d81){let _0x5bd4b8=_0x233310['head'],_0x47660a=!0x1;for(;_0x5bd4b8;)_0x5bd4b8['attributes']['groupId']!=_0x315d81&&(_0x296ec4(_0x5bd4b8['attributes']['groupId'],_0x315d81),_0x5bd4b8['setAttribute']('groupId',_0x315d81),_0x47660a=!0x0),_0x5bd4b8=_0x5bd4b8['next'];return _0x47660a;}}['_supportLegacySuggestions'](){const _0x4b50a2=this['editor'],_0x27c95b=_0x4b50a2['locale'],_0xa5725f=_0x4b50a2['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0xa5725f['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0xd893e5,_0x575443){const _0x3ee320=[];for(let _0x39a703 of _0xd893e5)_0x39a703['start']['nodeAfter']===_0x39a703['end']['parent']&&(_0x39a703=_0x4b50a2['model']['createRange'](_0x4b50a2['model']['createPositionAt'](_0x39a703['start']['nodeAfter'],0x0))),_0x3ee320['push'](_0x39a703);_0x4b50a2['model']['change'](_0xe8284=>{const _0x2401f2=_0x4b50a2['model']['document']['selection'],_0x580c87=Array['from'](_0x2401f2['getRanges']())['map'](_0x34e77e=>_0x4b333b['fromRange'](_0x34e77e));_0xe8284['setSelection'](_0x3ee320),_0x4b50a2['commands']['get'](_0x575443['commandName'])['refresh'](),_0x575443['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x4b50a2['execute'](_0x575443['commandName'],..._0x575443['commandParams']),_0xe8284['setSelection'](_0x580c87);for(const _0x9ef978 of _0x580c87)_0x9ef978['detach']();});}),_0xa5725f['descriptionFactory']['registerElementLabel'](function(_0x32b994){const _0x4e65ef=!_0x4b50a2['model']['schema']['isObject'](_0x32b994),_0x2a7899=_0x32b994['previousSibling'],_0x3617bb=_0x32b994['nextSibling'],_0x34f88e=_0x32b994['getAttribute']('listItemId'),_0x5be7ab=!_0x2a7899||_0x2a7899['getAttribute']('listItemId')!==_0x34f88e,_0x37e9f8=!_0x3617bb||_0x3617bb['getAttribute']('listItemId')!==_0x34f88e;return _0x4e65ef&&Boolean(_0x34f88e)&&_0x5be7ab&&_0x37e9f8;},_0x4dd5af=>o(_0x27c95b,'ELEMENT_LIST_ITEM',_0x4dd5af));}['_registerLegacyDescription'](){const _0x2c5883=this['editor'],_0x35cf04=_0x2c5883['locale'];function _0x919678(_0x4b792a){const _0x429645=_0x2c5883['commands']['get']('bulletedList')['value'],_0x3e96ec=_0x2c5883['commands']['get']('numberedList')['value'];return'numberedList'===_0x4b792a?_0x429645:_0x3e96ec;}_0x2c5883['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x4ff0b3){if('formatBlock'!=_0x4ff0b3['type'])return;const {data:_0x31aec8}=_0x4ff0b3;if(!_0x31aec8)return;let _0x132ccd,_0x30a4a6,_0x28809b,_0x3cfc65;switch(_0x31aec8['commandName']){case'bulletedList':_0x28809b=_0x31aec8['commandParams'][0x0]['forceValue'],_0x3cfc65=_0x919678(_0x31aec8['commandName']),_0x132ccd=_0x28809b?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3cfc65&&_0x2c5883['config']['get']('list.multiBlock')||(_0x132ccd='*Change\x20to:*\x20%0'),_0x30a4a6={'type':'format','content':o(_0x35cf04,_0x132ccd,o(_0x35cf04,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x28809b=_0x31aec8['commandParams'][0x0]['forceValue'],_0x3cfc65=_0x919678(_0x31aec8['commandName']),_0x132ccd=_0x28809b?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3cfc65&&_0x2c5883['config']['get']('list.multiBlock')||(_0x132ccd='*Change\x20to:*\x20%0'),_0x30a4a6={'type':'format','content':o(_0x35cf04,_0x132ccd,o(_0x35cf04,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x132ccd='*Indent:*\x20%0',_0x30a4a6={'type':'format','content':o(_0x35cf04,_0x132ccd,o(_0x35cf04,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x132ccd=function(_0x33257b){const _0xee851f=_0x33257b['getFirstRange']();let _0x419b96=_0xee851f['start']['nodeAfter'];for(;_0x419b96&&_0xee851f['containsItem'](_0x419b96);){if(_0x419b96['getAttribute']('listIndent')>0x0)return!0x1;_0x419b96=_0x419b96['nextSibling'];}return!0x0;}(_0x4ff0b3)?o(_0x35cf04,'*Format:*\x20remove\x20from\x20%0',o(_0x35cf04,function(_0x3fd3fa){return'ELEMENT_'+_0x3fd3fa['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x4ff0b3))):o(_0x35cf04,'*Outdent:*\x20%0',o(_0x35cf04,'ELEMENT_LIST_ITEM')),_0x30a4a6={'type':'format','content':_0x132ccd};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x31aec8['multipleBlocks']&&(_0x132ccd='*Merge:*\x20%0',_0x30a4a6={'type':'deletion','content':o(_0x35cf04,_0x132ccd,o(_0x35cf04,'ELEMENT_LIST_ITEM'))});}return _0x30a4a6;});}}function le(_0x138360){let _0x159d11=_0x138360['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x159d11;){const _0x4949d5=_0x159d11['getAttribute']('listItemId');if(!_0x4949d5)return!0x1;if(_0x4949d5==_0x138360['data']['newValue'])return'newValue';if(_0x4949d5==_0x138360['data']['oldValue'])return'oldValue';_0x159d11=_0x159d11['previousSibling'];}return!0x1;}class ue extends _0xb043f8{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x2b4d71=this['editor']['config']['get']('list.properties'),_0x48797f=this['editor']['plugins']['get']('TrackChangesEditing');_0x2b4d71['styles']&&(_0x48797f['enableDefaultAttributesIntegration']('listStyle'),_0x48797f['registerBlockAttribute']('listStyle')),_0x2b4d71['reversed']&&(_0x48797f['enableDefaultAttributesIntegration']('listReversed'),_0x48797f['registerBlockAttribute']('listReversed')),_0x2b4d71['startIndex']&&(_0x48797f['enableDefaultAttributesIntegration']('listStart'),_0x48797f['registerBlockAttribute']('listStart'));const _0x375ba2={'type':'format','content':''};_0x48797f['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0xd8bd4e=this['editor']['locale'];_0x48797f['descriptionFactory']['registerAttributeLabel']('listReversed',o(_0xd8bd4e,'FORMAT_LIST_REVERSED')),_0x48797f['descriptionFactory']['registerDescriptionCallback'](_0x298625=>{const {data:_0x14738e}=_0x298625;if(_0x14738e&&'listReversed'==_0x14738e['key'])return null==_0x14738e['newValue']||0x0==_0x14738e['newValue']&&null==_0x14738e['oldValue']?_0x375ba2:void 0x0;}),_0x48797f['descriptionFactory']['registerAttributeLabel']('listStart',o(_0xd8bd4e,'FORMAT_LIST_START')),_0x48797f['descriptionFactory']['registerDescriptionCallback'](_0x247118=>{const {data:_0x2f7669}=_0x247118;if(_0x2f7669&&'listStart'==_0x2f7669['key'])return null==_0x2f7669['newValue']||0x1==_0x2f7669['newValue']&&null==_0x2f7669['oldValue']?_0x375ba2:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x369180=>{if(_0x369180['batch']['isUndo'])return!0x1;let _0x2de6e6=!0x1;const _0x241f21=_0x48797f['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x410dad=>{const _0x44f572=_0x48797f['_getAttributeKey'](_0x410dad);return'listStart'==_0x44f572||'listReversed'==_0x44f572;});for(const _0x5b06ca of _0x241f21){const _0x34dcb2=_0x5b06ca['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x34dcb2||'customNumbered'==_0x34dcb2)continue;_0x48797f['_findSuggestions'](_0x5b06ca['getFirstRange'](),'attribute')['find'](_0x232e12=>'listType'==_0x48797f['_getAttributeKey'](_0x232e12['suggestion']))||(_0x369180['removeMarker'](_0x5b06ca['getFirstMarker']()),_0x2de6e6=!0x0);}return _0x2de6e6;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x47547a){const _0x60c713=this['editor']['locale'],{data:_0x15a781}=_0x47547a,_0x2016dc={'type':'format','content':''};if(!_0x15a781||'listStyle'!=_0x15a781['key'])return;if(!_0x15a781['oldValue'])return'default'==_0x15a781['newValue']?_0x2016dc:{'type':'format','content':''+o(_0x60c713,'*Set\x20format:*\x20%0',o(_0x60c713,this['_getTranslationKeyForListStyle'](_0x15a781['newValue'])))};if(!_0x15a781['newValue']){if('default'==_0x15a781['oldValue'])return _0x2016dc;let _0x121630=_0x47547a['head'];for(;_0x121630;){if(_0x121630['data']&&'listType'==_0x121630['data']['key']&&_0x121630['data']['newValue'])return _0x2016dc;_0x121630=_0x121630['next'];}return{'type':'format','content':''+o(_0x60c713,'*Remove\x20format:*\x20%0',o(_0x60c713,this['_getTranslationKeyForListStyle'](_0x15a781['oldValue'])))};}if('default'!=_0x15a781['newValue'])return{'type':'format','content':''+o(_0x60c713,'*Set\x20format:*\x20%0',o(_0x60c713,this['_getTranslationKeyForListStyle'](_0x15a781['newValue'])))};let _0x2f9ab5=_0x47547a['head'];for(;_0x2f9ab5;){if(_0x2f9ab5['data']&&'listType'==_0x2f9ab5['data']['key']&&_0x2f9ab5['data']['newValue']&&_0x2f9ab5['data']['oldValue'])return _0x2016dc;_0x2f9ab5=_0x2f9ab5['next'];}return{'type':'format','content':o(_0x60c713,'*Set\x20format:*\x20%0',o(_0x60c713,'ELEMENT_'+_0x47547a['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x3a073f=this['editor'],_0x467ac1=_0x3a073f['locale'];_0x3a073f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2b3950=>{if('formatBlock'!=_0x2b3950['type'])return;const {data:_0x355dc2}=_0x2b3950;if(!_0x355dc2)return;let _0x2cdb83,_0x4d9e88;switch(_0x355dc2['commandName']){case'listStyle':_0x2cdb83='*Change\x20to:*\x20%0',_0x4d9e88={'type':'format','content':o(_0x467ac1,_0x2cdb83,o(_0x467ac1,this['_getTranslationKeyForListStyle'](_0x355dc2['commandParams'][0x0]['type'])))};break;case'listReversed':_0x2cdb83=_0x355dc2['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x4d9e88={'type':'format','content':o(_0x467ac1,_0x2cdb83)};break;case'listStart':_0x2cdb83='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x4d9e88={'type':'format','content':o(_0x467ac1,_0x2cdb83,_0x355dc2['commandParams'][0x0]['startIndex'])};}return _0x4d9e88;});}['_getTranslationKeyForListStyle'](_0x3ca51b){return'ELEMENT_'+function(_0x43d90c){if(pe['includes'](_0x43d90c))return'bulleted';if(ye['includes'](_0x43d90c))return'numbered';return null;}(_0x3ca51b)['toUpperCase']()+'_LIST_'+_0x3ca51b['toUpperCase']()['replace'](/-/g,'_');}}const pe=['disc','circle','square'],ye=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class W extends _0xb043f8{static get['requires'](){return[_0x63f173];}['init'](){const _0x3e3bb7=this['editor'],_0x35a01d=_0x3e3bb7['plugins']['get']('TrackChangesEditing'),_0xba0211=_0x3e3bb7['commands']['get']('enter');_0x35a01d['enableCommand']('enter',()=>{_0x3e3bb7['model']['change'](_0x44401e=>{const _0x26c033=_0x3e3bb7['model']['document']['selection'],_0x53f4e3=_0x26c033['getFirstPosition'](),_0x1d809e=_0x4b333b['fromRange'](_0x26c033['getFirstRange']());if(_0xba0211['enterBlock'](_0x44401e)){const _0x50706d=_0x3e3bb7['model']['createPositionAt'](_0x53f4e3['parent']['nextSibling'],0x0),_0x2db1ed=_0x44401e['createRange'](_0x53f4e3,_0x50706d);_0x35a01d['markInsertion'](_0x2db1ed);}else _0x44401e['setSelection'](_0x44401e['createRange'](_0x1d809e['end']));_0x1d809e['detach'](),_0xba0211['fire']('afterExecute',{'writer':_0x44401e});});}),_0x3e3bb7['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',_e(_0x3e3bb7,'split'),{'priority':'high'}),_0x3e3bb7['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0x558a57,_0x45109f,_0x18cd3b)=>{const _0x98360b=_0x18cd3b['mapper']['markerNameToElements'](_0x45109f['markerName']);if(_0x98360b){for(const _0x232e72 of _0x98360b)_0x232e72['hasClass']('ck-suggestion-marker-split')&&(_0x18cd3b['mapper']['unbindElementFromMarkerName'](_0x232e72,_0x45109f['markerName']),_0x18cd3b['writer']['remove'](_0x232e72));}},{'priority':'high'}),_0x3e3bb7['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x23a9c0,_0x2652e5,_0x193bf2)=>{_0x193bf2['options']['showSuggestionHighlights']&&_e(_0x3e3bb7,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x23a9c0,_0x2652e5,_0x193bf2);},{'priority':'high'});}}class J extends _0xb043f8{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x30df14=this['editor']['plugins']['get']('TrackChangesEditing');_0x30df14['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x30df14['enableCommand']('findNext'),_0x30df14['enableCommand']('findPrevious'),_0x30df14['enableCommand']('replace'),_0x30df14['enableCommand']('replaceAll');}['handleFindCommand'](_0x48cdf3,_0x41b322,_0x20cbbc={}){const _0x41b89b=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x48cdf3(_0x4bbd5f=>('string'==typeof _0x41b322?_0x41b89b['findByTextCallback'](_0x41b322,_0x20cbbc):_0x41b322)(_0x4bbd5f)['filter'](_0x21f365=>!0x1===this['_isInDeletionRange'](_0x21f365,_0x4bbd5f['item'])),_0x20cbbc);}['_isInDeletionRange'](_0x5b2687,_0x32e7de){const _0x54d185=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x32e7de,_0x5b2687['start']),this['editor']['model']['createPositionAt'](_0x32e7de,_0x5b2687['end']));for(const _0x3b6b9b of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x54d185['getIntersection'](_0x3b6b9b['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class Q extends _0xb043f8{['afterInit'](){const _0x2aa47d=this['editor']['locale'],_0x19b946=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x5e383b,commandName:_0x513ad1}of ro)this['editor']['plugins']['has'](_0x5e383b)&&(_0x19b946['enableDefaultAttributesIntegration'](_0x513ad1),_0x19b946['registerInlineAttribute'](_0x513ad1));_0x2aa47d['t'],_0x19b946['descriptionFactory']['registerAttributeLabel']('fontSize',o(_0x2aa47d,'FORMAT_FONT_SIZE')),_0x19b946['descriptionFactory']['registerAttributeLabel']('fontFamily',o(_0x2aa47d,'FORMAT_FONT_FAMILY')),_0x19b946['descriptionFactory']['registerAttributeLabel']('fontColor',o(_0x2aa47d,'FORMAT_FONT_COLOR')),_0x19b946['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',o(_0x2aa47d,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2968d3=this['editor'],_0x4af9ae=_0x2968d3['locale'];_0x2968d3['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x291041=>{const _0x261498=_0x4af9ae['t'];if('formatInline'!=_0x291041['type'])return;const {data:_0x1f88bf}=_0x291041;if(null!=_0x1f88bf){if('fontSize'==_0x1f88bf['commandName']){const _0x1851c3=_0x1f88bf['commandParams'][0x0]['value'];if(_0x1851c3){const _0x128c5c=_0x261498(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x3b781d=>_0x3b781d['model']==_0x1851c3)['title'])['toLowerCase']();return{'type':'format','content':o(_0x4af9ae,'*Set\x20font\x20size:*\x20%0',_0x128c5c)};}return{'type':'format','content':o(_0x4af9ae,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x1f88bf['commandName']){const _0x4b8b57=_0x1f88bf['commandParams'][0x0]['value'];return _0x4b8b57?{'type':'format','content':o(_0x4af9ae,'*Set\x20font\x20family:*\x20%0',_0x4b8b57)}:{'type':'format','content':o(_0x4af9ae,'*Reset\x20font\x20family*')};}if('fontColor'==_0x1f88bf['commandName']){const _0x483da1=_0x1f88bf['commandParams'][0x0]['value'];if(_0x483da1){const _0xe54b49=_0x49a9d5(this['editor']['config']['get']('fontColor.colors'))['find'](_0x3eab48=>_0x3eab48['model']==_0x483da1);let _0x5bd25a=_0x483da1,_0x412752='';return _0xe54b49&&(_0x5bd25a=_0xe54b49['label'],_0x412752=_0x261498(_0x5bd25a)['toLowerCase']()),{'type':'format','content':o(_0x4af9ae,'*Set\x20font\x20color:*\x20%0',_0x412752)['trim'](),'color':{'value':_0x483da1,'title':_0x412752||_0x5bd25a}};}return{'type':'format','content':o(_0x4af9ae,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x1f88bf['commandName']){const _0x55aa63=_0x1f88bf['commandParams'][0x0]['value'];if(_0x55aa63){const _0x537f1d=_0x49a9d5(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x501b02=>_0x501b02['model']==_0x55aa63);let _0x2e13bd=_0x55aa63,_0x48c67d='';return _0x537f1d&&(_0x2e13bd=_0x537f1d['label'],_0x48c67d=_0x261498(_0x2e13bd)['toLowerCase']()),{'type':'format','content':o(_0x4af9ae,'*Set\x20font\x20background\x20color:*\x20%0',_0x48c67d)['trim'](),'color':{'value':_0x55aa63,'title':_0x48c67d||_0x2e13bd}};}return{'type':'format','content':o(_0x4af9ae,'*Reset\x20font\x20background\x20color*')};}}});}}class X extends _0xb043f8{['afterInit'](){const _0x2e5cd1=this['editor'],_0x2854fa=_0x2e5cd1['plugins']['get']('TrackChangesEditing'),_0x1955e9=_0x2e5cd1['commands']['get']('copyFormat'),_0x4879dc=_0x2e5cd1['commands']['get']('pasteFormat');_0x1955e9&&_0x4879dc&&(_0x2854fa['enableDefaultAttributesIntegration']('pasteFormat'),_0x2854fa['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x29b241=this['editor'],_0x3103b9=_0x29b241['locale'];_0x29b241['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x160467=>{if('formatBlock'!=_0x160467['type']&&'formatInline'!=_0x160467['type'])return;const {data:_0x5bd590}=_0x160467;if(_0x5bd590&&'pasteFormat'===_0x5bd590['commandName']){const _0x570745=[],_0x148319=_0x5bd590['commandParams'][0x0];for(const [_0x21a0e0,_0x5d321b]of Object['entries'](_0x148319))_0x570745['push'](so(_0x29b241,_0x21a0e0,_0x5d321b));return _0x570745['length']?{'type':'format','content':o(_0x3103b9,'*Set\x20format\x20to:*\x20%0',_0x570745['join'](',\x20'))}:{'type':'format','content':o(_0x3103b9,'*Remove\x20all\x20formatting*')};}});}}function so(_0x58436e,_0x238cf4,_0x214f11){const _0x5ea52d=_0x58436e['locale']['t'],_0x52d04c=_0x238cf4['split'](/(?=[A-Z])/)['join']('\x20'),_0x107762=_0x5ea52d(_0x52d04c['charAt'](0x0)['toUpperCase']()+_0x52d04c['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x214f11)return _0x107762;if('fontColor'===_0x238cf4||'fontBackgroundColor'===_0x238cf4){const _0x518c93=_0x49a9d5(_0x58436e['config']['get']('fontColor.colors'))['find'](_0x354529=>_0x354529['model']==_0x214f11);return _0x107762+'\x20('+(_0x518c93?_0x5ea52d(_0x518c93['label'])['toLowerCase']():_0x214f11)+')';}if('fontSize'===_0x238cf4&&isNaN(parseFloat(_0x214f11))){const _0x38b1c9=_0x58436e['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x58436e['config']['get']('fontSize.options'))['find'](_0x46e4cd=>_0x46e4cd['model']==_0x214f11);return _0x107762+'\x20('+(_0x38b1c9?_0x5ea52d(_0x38b1c9['title'])['toLowerCase']():_0x214f11)+')';}return _0x107762+'\x20('+_0x214f11+')';}class Y extends _0xb043f8{['_headingOptions'];['afterInit'](){const _0x42b3ad=this['editor'];if(!_0x42b3ad['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x42b3ad['config']['get']('heading.options');const _0x6b8e31=_0x42b3ad['locale'],_0x403e75=_0x42b3ad['plugins']['get']('TrackChangesEditing');_0x403e75['enableDefaultAttributesIntegration']('heading');for(const _0x38250c of this['_headingOptions'])'paragraph'!=_0x38250c['model']&&_0x403e75['descriptionFactory']['registerElementLabel'](_0x38250c['model'],_0x38b48e=>{const _0x1a9174=this['_getHeadingLevel'](_0x38250c['model']);return null!==_0x1a9174?_0x4717f5(_0x38b48e,_0x1a9174):_0xd78dca(_0x38b48e,_0x38250c['title']);});function _0x4717f5(_0x1cd235,_0x17de9c){return o(_0x6b8e31,'ELEMENT_HEADING',[_0x1cd235,_0x17de9c]);}function _0xd78dca(_0x14b86f,_0x4481f7){return o(_0x6b8e31,'ELEMENT_HEADING_CUSTOM',[_0x14b86f,_0x4481f7]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2e0ef3=this['editor'],_0x57b8bd=_0x2e0ef3['locale'];function _0x367965(_0x433969,_0x2d749e){return o(_0x57b8bd,'ELEMENT_HEADING_CUSTOM',[_0x433969,_0x2d749e]);}_0x2e0ef3['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x367781=>{if('formatBlock'!=_0x367781['type'])return;const {data:_0x450ffe}=_0x367781;if(_0x450ffe&&'heading'==_0x450ffe['commandName']){const _0x51b526=_0x450ffe['commandParams'][0x0]['value'],_0x2b3f22=this['_getHeadingLevel'](_0x51b526);if(null!==_0x2b3f22)return{'type':'format','content':o(_0x57b8bd,'*Change\x20to:*\x20%0',(_0xaeed3c=0x1,_0x5ccbe9=_0x2b3f22,o(_0x57b8bd,'ELEMENT_HEADING',[_0xaeed3c,_0x5ccbe9])))};const _0x75d2e8=this['_headingOptions']['find'](_0x1fddbd=>_0x1fddbd['model']===_0x51b526)['title'];return{'type':'format','content':o(_0x57b8bd,'*Change\x20to:*\x20%0',_0x367965(0x1,_0x75d2e8))};}var _0xaeed3c,_0x5ccbe9;});}['_getHeadingLevel'](_0x5d15d5){const _0x3c4f7d=_0x5d15d5['match'](/^heading(\d+)/);if(_0x3c4f7d)return _0x3c4f7d[0x1];const _0x173c97=this['_headingOptions']?.['find'](_0xa15b9f=>_0xa15b9f['model']==_0x5d15d5);if(_0x173c97&&_0x173c97['view']){const _0x5431d0=_0x173c97['view'],_0x54f374=(_0x5431d0['name']??_0x5431d0)['match'](/^h(\d+)/);if(_0x54f374)return _0x54f374[0x1];}return null;}}class Z extends _0xb043f8{['afterInit'](){const _0x59663a=this['editor'];if(!_0x59663a['plugins']['has']('HighlightEditing'))return;const _0x3e79f9=_0x59663a['plugins']['get']('TrackChangesEditing'),_0x415eb3=_0x59663a['locale'];_0x3e79f9['enableDefaultAttributesIntegration']('highlight'),_0x3e79f9['registerInlineAttribute']('highlight'),_0x3e79f9['descriptionFactory']['registerAttributeLabel']('highlight',o(_0x415eb3,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x150013=this['editor'],_0x75e094=_0x150013['locale'];_0x150013['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x44c7e4=>{if('formatInline'!=_0x44c7e4['type'])return;const {data:_0x3bfb1c}=_0x44c7e4;if(_0x3bfb1c&&'highlight'==_0x3bfb1c['commandName']){const _0x3bbed2=_0x75e094['t'],_0x15e3e1=_0x3bfb1c['commandParams'][0x0]['value'];if(_0x15e3e1){const _0x541d2d=_0x150013['config']['get']('highlight.options')['find'](_0x1e4c37=>_0x1e4c37['model']==_0x15e3e1),_0x5c3b83=_0x3bbed2(_0x541d2d['title'])['toLowerCase']();return{'type':'format','content':o(_0x75e094,'*Set\x20highlight:*\x20%0',_0x5c3b83),'color':{'value':_0x541d2d['color'],'title':_0x541d2d['title']}};}return{'type':'format','content':o(_0x75e094,'*Remove\x20highlight*',o(_0x75e094,'FORMAT_HIGHLIGHT'))};}});}}class tt extends _0xb043f8{['afterInit'](){const _0x374ded=this['editor'];if(!_0x374ded['plugins']['has']('HorizontalLineEditing'))return;_0x374ded['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x108312=_0x374ded['plugins']['get']('TrackChangesEditing'),_0x4938d1=_0x374ded['locale'];_0x108312['descriptionFactory']['registerElementLabel']('horizontalLine',_0x29a6a3=>o(_0x4938d1,'ELEMENT_HORIZONTAL_LINE',_0x29a6a3)),_0x374ded['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x544386,{writer:_0x2d24d2,options:_0x2e1cba})=>{if(!_0x2e1cba['showSuggestionHighlights'])return null;const _0x707292=_0x2d24d2['createContainerElement']('div'),_0x358dcd=_0x2d24d2['createEmptyElement']('hr');return _0x2d24d2['addClass']('ck-horizontal-line',_0x707292),_0x2d24d2['insert'](_0x2d24d2['createPositionAt'](_0x707292,0x0),_0x358dcd),_0x707292;},'converterPriority':'high'});}}class et extends _0xb043f8{['afterInit'](){const _0x5513e2=this['editor'];if(!_0x5513e2['plugins']['has']('HtmlEmbed'))return;const _0x26426c=_0x5513e2['plugins']['get']('TrackChangesEditing'),_0x4c87e1=_0x5513e2['locale'];_0x26426c['descriptionFactory']['registerElementLabel']('rawHtml',_0x430ad7=>o(_0x4c87e1,'ELEMENT_HTML_EMBED',_0x430ad7)),_0x26426c['enableDefaultAttributesIntegration']('htmlEmbed'),_0x26426c['registerBlockAttribute']('value'),_0x26426c['descriptionFactory']['registerDescriptionCallback'](_0x5eeede=>{if('attribute'!=_0x5eeede['type'])return;const {data:_0xcd86f5}=_0x5eeede;if(_0xcd86f5&&'value'==_0xcd86f5['key']&&_0x5eeede['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x35bdd0=o(_0x4c87e1,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x4c87e1,'*Change\x20%0\x20content*',_0x35bdd0)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x45f0bc=this['editor'],_0x1a4913=_0x45f0bc['locale'];_0x45f0bc['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4d3bf4=>{if('formatBlock'!=_0x4d3bf4['type'])return;const {data:_0x5b16c9}=_0x4d3bf4;if(_0x5b16c9&&'htmlEmbed'==_0x5b16c9['commandName']){const _0x4d3635=o(_0x1a4913,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x1a4913,'*Change\x20%0\x20content*',_0x4d3635)};}});}}class it extends _0xb043f8{['afterInit'](){const _0x3cd9ff=this['editor'];if(!_0x3cd9ff['plugins']['has']('ImageEditing'))return;const _0x108bce=_0x3cd9ff['plugins']['get']('TrackChangesEditing'),_0x52cbcc=_0x3cd9ff['plugins']['get']('ImageUtils'),_0x79e08a=_0x3cd9ff['locale'];_0x108bce['enableCommand']('insertImage'),_0x108bce['descriptionFactory']['registerElementLabel']('imageBlock',_0x1cf01f=>o(_0x79e08a,'ELEMENT_IMAGE',_0x1cf01f)),_0x108bce['descriptionFactory']['registerElementLabel']('imageInline',_0x4506f5=>o(_0x79e08a,'ELEMENT_INLINE_IMAGE',_0x4506f5)),_0x108bce['descriptionFactory']['registerElementLabel']('caption',()=>o(_0x79e08a,'ELEMENT_CAPTION')),_0x3cd9ff['plugins']['has']('ImageUploadEditing')&&_0x108bce['enableCommand']('uploadImage'),_0x3cd9ff['plugins']['has']('ImageBlockEditing')&&_0x3cd9ff['plugins']['has']('ImageInlineEditing')&&(_0x108bce['enableCommand']('imageTypeInline',(_0x4126be,_0x3ddddf)=>{const _0xc1364b=_0x52cbcc['getClosestSelectedImageElement'](_0x3cd9ff['model']['document']['selection']);_0x3cd9ff['model']['change'](()=>{_0x108bce['markBlockFormat'](_0xc1364b,{'commandName':'imageTypeInline','commandParams':[_0x3ddddf]},[],'convertBlockImageToInline');});}),_0x108bce['enableCommand']('imageTypeBlock',(_0x3b0d52,_0x4cde22)=>{_0x3cd9ff['model']['change'](_0x5edfa6=>{let _0x467450=_0x52cbcc['getClosestSelectedImageElement'](_0x3cd9ff['model']['document']['selection']),_0x128fe2=_0x5edfa6['createRangeOn'](_0x467450);const _0x59751f=_0x3b8735['fromPosition'](_0x128fe2['start'],'toPrevious'),_0x398cf1=_0x3b8735['fromPosition'](_0x128fe2['end'],'toNext');_0x108bce['forceDefaultExecution'](()=>_0x3b0d52(_0x4cde22)),_0x467450=_0x52cbcc['getClosestSelectedImageElement'](_0x3cd9ff['model']['document']['selection']),_0x128fe2=_0x5edfa6['createRangeOn'](_0x467450);const _0x2ba2b7=_0x5edfa6['createRange'](_0x59751f,_0x398cf1);_0x59751f['detach'](),_0x398cf1['detach'](),_0x108bce['markBlockFormat'](_0x467450,{'commandName':'imageTypeInline','commandParams':[_0x4cde22]},[],'convertInlineImageToBlock'),_0x2ba2b7['start']['isBefore'](_0x128fe2['start'])&&_0x108bce['markInsertion'](_0x5edfa6['createRange'](_0x2ba2b7['start'],_0x128fe2['start']),'convertInlineImageToBlock'),_0x128fe2['end']['isBefore'](_0x2ba2b7['end'])&&_0x108bce['markInsertion'](_0x5edfa6['createRange'](_0x128fe2['end'],_0x2ba2b7['end']),'convertInlineImageToBlock');});}),_0x108bce['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0x108bce['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0x108bce['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0x108bce['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0x108bce['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0x108bce['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x25aedc])=>{const _0x41d3c6=_0x108bce['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x214cde=_0x25aedc['start'],_0x52dbd6=_0x25aedc['end'];const _0x53c282=_0x3cd9ff['model']['schema']['getNearestSelectionRange'](_0x214cde,'backward'),_0x550477=_0x3cd9ff['model']['schema']['getNearestSelectionRange'](_0x52dbd6,'forward');_0x53c282['isCollapsed']&&(_0x214cde=_0x53c282['start']),_0x550477['isCollapsed']&&(_0x52dbd6=_0x550477['end']),_0x41d3c6([_0x3cd9ff['model']['createRange'](_0x214cde,_0x52dbd6)]);}),_0x108bce['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x434b4b),_0x108bce['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x434b4b)),_0x3cd9ff['plugins']['has']('ImageCaptionEditing')&&(_0x108bce['enableCommand']('toggleImageCaption',(_0x2a71d0,_0x407b37)=>{const _0x264b64=_0x3cd9ff['plugins']['get']('ImageCaptionUtils');let _0x13c89b=_0x52cbcc['getClosestSelectedImageElement'](_0x3cd9ff['model']['document']['selection']),_0x2b37b0=_0x264b64['getCaptionFromImageModelElement'](_0x13c89b);_0x3cd9ff['model']['change'](()=>{if(_0x2b37b0)return void _0x108bce['markDeletion'](_0x3cd9ff['model']['createRangeOn'](_0x2b37b0));const _0x4f7184=_0x52cbcc['isBlockImage'](_0x13c89b);_0x2a71d0(_0x407b37),_0x13c89b=_0x52cbcc['getClosestSelectedImageElement'](_0x3cd9ff['model']['document']['selection']),_0x2b37b0=_0x264b64['getCaptionFromImageModelElement'](_0x13c89b),_0x108bce['markInsertion'](_0x3cd9ff['model']['createRangeOn'](_0x2b37b0),_0x4f7184?null:'imageCaption');});}),_0x108bce['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x434b4b));const _0x25fd2d=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x5d2c30(_0x500fb8,_0x1a70df){const _0x306eea=_0x25fd2d['findIndex'](({type:_0x4ff9ae,subType:_0x4d1163})=>_0x500fb8['type']==_0x4ff9ae&&_0x500fb8['subType']==_0x4d1163),_0x533072=_0x25fd2d['findIndex'](({type:_0x1a66a8,subType:_0x3144e3})=>_0x1a70df['type']==_0x1a66a8&&_0x1a70df['subType']==_0x3144e3);if(_0x306eea<0x0||_0x533072<0x0)return!0x1;const _0x552bab=_0x500fb8['getFirstRange'](),_0x32e9ec=_0x1a70df['getFirstRange']();if((0x0==_0x306eea||0x1==_0x306eea)&&0x2==_0x533072&&_0x552bab['isIntersecting'](_0x32e9ec))return!0x0;if(0x2==_0x306eea&&0x3==_0x533072){const _0x2fb06e=_0x108bce['_findSuggestions'](_0x552bab,'insertion')['filter'](({suggestion:_0x2b2ef1,meta:_0x51ccb3})=>_0x51ccb3['isOwn']&&'convertInlineImageToBlock'==_0x2b2ef1['subType']);if(_0x2fb06e['length']>0x1&&_0x32e9ec['end']['isEqual'](_0x552bab['start']))return!0x0;if(0x1==_0x2fb06e['length']&&(_0x552bab['start']['isEqual'](_0x32e9ec['end'])||_0x552bab['end']['isEqual'](_0x32e9ec['start'])))return!0x0;}if(0x3==_0x306eea&&0x3==_0x533072&&_0x552bab['start']['isBefore'](_0x32e9ec['start'])){const _0x4de593=_0x552bab['end']['nodeAfter'],_0x376d14=_0x32e9ec['start']['nodeBefore'];return _0x52cbcc['isBlockImage'](_0x4de593)&&_0x4de593===_0x376d14;}return!0x1;}function _0x434b4b(_0x54e6eb,_0x3e692f){return _0x5d2c30(_0x54e6eb,_0x3e692f)?[_0x54e6eb,_0x3e692f]:_0x5d2c30(_0x3e692f,_0x54e6eb)?[_0x3e692f,_0x54e6eb]:null;}_0x3cd9ff['plugins']['has']('ImageResize')&&(_0x108bce['enableDefaultAttributesIntegration']('resizeImage'),_0x108bce['registerBlockAttribute']('resizedWidth'),_0x108bce['descriptionFactory']['registerAttributeLabel']('resizedWidth',o(_0x79e08a,'FORMAT_IMAGE_SIZE'))),_0x3cd9ff['plugins']['has']('ImageTextAlternativeEditing')&&(_0x108bce['enableDefaultAttributesIntegration']('imageTextAlternative'),_0x108bce['registerBlockAttribute']('alt')),_0x108bce['descriptionFactory']['registerDescriptionCallback'](_0x1e8cbb=>{if(!!_0x25fd2d['find'](({type:_0x10f997,subType:_0x581d85})=>_0x1e8cbb['type']==_0x10f997&&_0x1e8cbb['subType']==_0x581d85))return _0x1e8cbb['previous']?{}:void 0x0;}),_0x108bce['descriptionFactory']['registerDescriptionCallback'](_0x4165c7=>{if('insertion'==_0x4165c7['type']||'deletion'==_0x4165c7['type']){const _0x53cc0d=_0x4165c7['getContainedElement']();if(_0x53cc0d&&_0x53cc0d['is']('element','caption'))return{'type':'insertion'==_0x4165c7['type']?'addObject':'removeObject','element':_0x53cc0d,'quantity':0x1};}}),_0x108bce['descriptionFactory']['registerDescriptionCallback'](_0xabbd25=>'formatBlock'==_0xabbd25['type']&&'convertInlineImageToBlock'==_0xabbd25['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0xabbd25['type']&&'convertBlockImageToInline'==_0xabbd25['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0x108bce['descriptionFactory']['registerDescriptionCallback'](_0x2f830e=>{if('attribute'!=_0x2f830e['type'])return;const {data:_0x162b86}=_0x2f830e;if(!_0x162b86||'alt'!=_0x162b86['key'])return;const _0x313ba9=_0x162b86['newValue'];return _0x313ba9?{'type':'format','content':o(_0x79e08a,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x313ba9+'\x22')}:{'type':'format','content':o(_0x79e08a,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3a8b62=this['editor'],_0x54e361=_0x3a8b62['locale'];_0x3a8b62['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2981f0=>{if('formatBlock'!=_0x2981f0['type']&&'formatInline'!=_0x2981f0['type'])return;const {data:_0x658ea2}=_0x2981f0;if(_0x658ea2){if('imageTextAlternative'==_0x658ea2['commandName']){const _0x4bb674=_0x658ea2['commandParams'][0x0]['newValue'];return _0x4bb674?{'type':'format','content':o(_0x54e361,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x4bb674+'\x22')}:{'type':'format','content':o(_0x54e361,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x658ea2['commandName']){const _0x3769cd=_0x658ea2['commandParams'][0x0]['width'];return _0x3769cd?{'type':'format','content':o(_0x54e361,'*Set\x20image\x20width:*\x20%0',_0x3769cd)}:{'type':'format','content':o(_0x54e361,'*Reset\x20image\x20width*')};}}});}}class st extends _0xb043f8{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x328cce=this['editor']['locale'],_0x4f151e=this['editor']['plugins']['get']('TrackChangesEditing');_0x4f151e['enableDefaultAttributesIntegration']('replaceImageSource'),_0x4f151e['registerBlockAttribute']('src'),_0x4f151e['descriptionFactory']['registerDescriptionCallback'](_0x264781=>{if('attribute'!=_0x264781['type'])return;const {data:_0x495d09}=_0x264781;return _0x495d09&&'src'==_0x495d09['key']?_0x495d09['newValue']&&_0x495d09['oldValue']?{'type':'format','content':o(_0x328cce,'*Replace\x20image\x20URL*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x14bef5=this['editor']['plugins']['get']('TrackChangesEditing');_0x14bef5['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x14bef5['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x14bef5['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x14bef5['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x7b190e=this['editor'],_0x5c4202=_0x7b190e['locale'];_0x7b190e['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x5f4cdc=>{if('formatBlock'!=_0x5f4cdc['type']&&'formatInline'!=_0x5f4cdc['type'])return;const {data:_0x122ffe}=_0x5f4cdc;if(!_0x122ffe||'replaceImageSource'!=_0x122ffe['commandName'])return;return{'type':'format','content':o(_0x5c4202,'*Format:*\x20replace\x20image\x20URL')};});}}class nt extends _0xb043f8{['afterInit'](){const _0x450688=this['editor'];if(!_0x450688['plugins']['has']('ImageStyleEditing'))return;const _0x4f5f51=_0x450688['plugins']['get']('TrackChangesEditing'),_0x5178f3=_0x450688['plugins']['get']('ImageUtils'),_0x3bbc3c={};_0x4f5f51['enableCommand']('imageStyle',(_0x56a97a,_0x2d8489)=>{const _0x12d34a=_0x450688['plugins']['get']('Users')['me'],_0x2fb33b=_0x450688['commands']['get']('imageStyle');let _0x24a3c3=_0x5178f3['getClosestSelectedImageElement'](_0x450688['model']['document']['selection']),_0x20de85=_0x450688['model']['createRangeOn'](_0x24a3c3),_0x383e59=_0x2fb33b['value'];if(_0x383e59==_0x2d8489['value'])return;const _0x579cf3={'commandName':'imageStyle','commandParams':[_0x2d8489],'formatGroupId':_0x28a03f()};_0x450688['model']['change'](()=>{if(_0x4f5f51['getSuggestions']()['filter'](_0x1187d6=>_0x1187d6['isInContent']&&_0x12d34a==_0x1187d6['author']&&('formatBlock'==_0x1187d6['type']||'formatInline'==_0x1187d6['type'])&&('imageStylePreApply'==_0x1187d6['subType']||'imageStylePostApply'==_0x1187d6['subType'])&&_0x1187d6['getFirstRange']()['isEqual'](_0x20de85))['forEach'](_0x28b15d=>_0x4f5f51['discardSuggestion'](_0x28b15d['head'])),_0x24a3c3=_0x5178f3['getClosestSelectedImageElement'](_0x450688['model']['document']['selection']),_0x20de85=_0x450688['model']['createRangeOn'](_0x24a3c3),_0x2fb33b['refresh'](),_0x450688['commands']['get']('imageTypeInline')['refresh'](),_0x450688['commands']['get']('imageTypeBlock')['refresh'](),_0x383e59=_0x2fb33b['value'],_0x383e59!=_0x2d8489['value'])return _0x5178f3['isInlineImage'](_0x24a3c3)&&_0x2fb33b['shouldConvertImageType'](_0x2d8489['value'],_0x24a3c3)?(_0x56a97a({..._0x2d8489,'setImageSizes':!0x1}),_0x24a3c3=_0x5178f3['getClosestSelectedImageElement'](_0x450688['model']['document']['selection']),void _0x4f5f51['markBlockFormat'](_0x24a3c3,{..._0x579cf3,'commandReversedParams':[{'value':_0x383e59||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x5178f3['isBlockImage'](_0x24a3c3)?_0x4f5f51['markBlockFormat'](_0x24a3c3,_0x579cf3,[],'imageStylePostApply'):_0x4f5f51['markInlineFormat'](_0x20de85,_0x579cf3,'imageStylePostApply'));});});for(const _0x40ee0a of _0x450688['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x3bbc3c[_0x40ee0a['name']]=_0x40ee0a['title']['toLowerCase']();_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0x35e877])=>{_0x5178f3['setImageNaturalSizeAttributes'](_0x35e877['getContainedElement']());}),_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x107a80,_0x4547a3)=>{_0x4f5f51['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x107a80,{'commandName':_0x4547a3['commandName'],'commandParams':_0x4547a3['commandReversedParams']});}),_0x4f5f51['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x3fbb42,_0x117b93){if(_0x3b76a4(_0x3fbb42,_0x117b93))return[_0x3fbb42,_0x117b93];if(_0x3b76a4(_0x117b93,_0x3fbb42))return[_0x117b93,_0x3fbb42];return null;});const _0x544e37=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x3b76a4(_0x373206,_0x5e1b09){const _0x410bd3=_0x544e37['findIndex'](({type:_0x561633,subType:_0x3abf98})=>_0x373206['type']==_0x561633&&_0x373206['subType']==_0x3abf98),_0xc1553d=_0x544e37['findIndex'](({type:_0x4f4a9c,subType:_0x16d1fa})=>_0x5e1b09['type']==_0x4f4a9c&&_0x5e1b09['subType']==_0x16d1fa);if(_0x410bd3<0x0||_0xc1553d<0x0)return!0x1;const _0x316cb4=_0x373206['getFirstRange'](),_0x2047c5=_0x5e1b09['getFirstRange']();if((0x0==_0x410bd3||0x1==_0x410bd3)&&0x2==_0xc1553d&&_0x316cb4['isIntersecting'](_0x2047c5))return!0x0;if(0x2==_0x410bd3&&0x3==_0xc1553d){const _0x597089=_0x4f5f51['_findSuggestions'](_0x316cb4,'insertion')['filter'](({suggestion:_0x45b81c,meta:_0x3e49b1})=>_0x3e49b1['isOwn']&&'convertInlineImageToBlock'==_0x45b81c['subType']);if(_0x597089['length']>0x1&&_0x2047c5['end']['isEqual'](_0x316cb4['start']))return!0x0;if(0x1==_0x597089['length']&&(_0x316cb4['start']['isEqual'](_0x2047c5['end'])||_0x316cb4['end']['isEqual'](_0x2047c5['start'])))return!0x0;}if(0x3==_0x410bd3&&0x3==_0xc1553d&&_0x316cb4['start']['isBefore'](_0x2047c5['start'])){const _0x1113d9=_0x316cb4['end']['nodeAfter'],_0x3e9eca=_0x2047c5['start']['nodeBefore'];return _0x5178f3['isBlockImage'](_0x1113d9)&&_0x1113d9===_0x3e9eca;}return!0x1;}_0x450688['model']['document']['registerPostFixer'](()=>{let _0x395db7=!0x1;const _0x3d2eb0=Array['from'](_0x450688['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x26cffa,data:_0x28f84f}of _0x3d2eb0){const {group:_0x424db2,type:_0x25645e,subType:_0x43d45e,id:_0x5713cd}=_0x4f5f51['_splitMarkerName'](_0x26cffa);if('suggestion'==_0x424db2&&_0x4f5f51['hasSuggestion'](_0x5713cd)){if('formatBlock'==_0x25645e&&('imageStylePreApply'==_0x43d45e||'imageStylePostApply'==_0x43d45e)){const _0x3cd52a=_0x4f5f51['getSuggestion'](_0x5713cd);if(_0x28f84f['newRange']){const _0x47d6ff=_0x3cd52a['getFirstRange']()['getContainedElement']();if(_0x5178f3['isBlockImage'](_0x47d6ff))continue;_0x4f5f51['discardSuggestion'](_0x3cd52a),_0x395db7=!0x0;}}if('insertion'==_0x25645e&&'imageCaption'==_0x43d45e&&!_0x28f84f['newRange']){const _0x47e210=_0x4f5f51['getSuggestion'](_0x5713cd);_0x47e210['next']&&_0x47e210['next']['isInContent']&&(_0x4f5f51['discardSuggestion'](_0x47e210['next']),_0x395db7=!0x0);}}}return _0x395db7;}),this['_registerLegacyDescription'](_0x3bbc3c);}['_registerLegacyDescription'](_0xe795e0){const _0x486912=this['editor'],_0x2e395c=_0x486912['locale'];_0x486912['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x43e4a7=>{if('formatBlock'!=_0x43e4a7['type']&&'formatInline'!=_0x43e4a7['type'])return;const {data:_0x17198f}=_0x43e4a7;if(!_0x17198f||'imageStyle'!=_0x17198f['commandName'])return;const _0x8ae3d5=_0x17198f['commandParams'][0x0]['value'];return _0xde2353('side'===_0x8ae3d5?o(_0x2e395c,'FORMAT_SIDE_IMAGE'):_0xe795e0[_0x8ae3d5]||_0x8ae3d5);function _0xde2353(_0x452ef5){return{'type':'format','content':o(_0x2e395c,'*Format:*\x20%0',_0x452ef5)};}});}}class ot extends _0xb043f8{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x47f9b0){super(_0x47f9b0),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x475f8f=this['editor'],_0x61b5c6=_0x475f8f['commands']['get']('importWord'),_0x4e2aff=_0x475f8f['commands']['get']('trackChanges');_0x61b5c6&&(_0x61b5c6['on']('execute',(_0x3907ae,[,_0x81e604])=>{this['_trackChangesValueDuringImport']=_0x4e2aff['value'],_0x81e604['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x61b5c6,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x61b5c6,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x4e2aff['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x475f8f['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x2e0387,_0x235f3a){const {suggestions:_0xf90a34}=_0x235f3a,_0x5b6291=this['editor']['commands']['get']('trackChanges'),_0xc6a5ad=_0x5b6291['value'];this['_trackChangesValueDuringImport']!==_0xc6a5ad&&(_0x5b6291['execute'](),this['_trackChangesExecuted']=!0x0),_0xf90a34&&_0xf90a34['forEach'](({id:_0x256555,type:_0x1e3b97,author:_0x19ba92,created_at:_0xbf9525})=>{const _0x4b7449={'id':_0x256555,'type':_0x1e3b97,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0x19ba92,'createdAt':_0xbf9525?new Date(_0xbf9525):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x4b7449);});}}class rt extends _0xb043f8{['afterInit'](){const _0x27b5ff=this['editor'],_0x1c8732=_0x27b5ff['plugins']['get']('TrackChangesEditing');if(_0x27b5ff['plugins']['has']('IndentEditing')&&(_0x1c8732['enableCommand']('indent'),_0x1c8732['enableCommand']('outdent')),_0x27b5ff['plugins']['has']('IndentBlock')){for(const _0x10e605 of['indentBlock','outdentBlock'])_0x1c8732['enableDefaultAttributesIntegration'](_0x10e605);}const _0x55ed3a=_0x27b5ff['locale'];_0x1c8732['registerBlockAttribute']('blockIndent'),_0x1c8732['descriptionFactory']['registerAttributeLabel']('blockIndent',o(_0x55ed3a,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x539edb=this['editor'],_0x4af354=_0x539edb['locale'],_0x205ce7=_0x539edb['plugins']['get']('TrackChangesEditing');_0x205ce7['descriptionFactory']['registerDescriptionCallback'](_0x61773e=>{if('formatBlock'!=_0x61773e['type'])return;const {data:_0x32fbbf}=_0x61773e;if(!_0x32fbbf)return;if('indentBlock'!=_0x32fbbf['commandName']&&'outdentBlock'!=_0x32fbbf['commandName'])return;const _0x28a1be=_0x61773e['getItems']()[0x0],_0x4ec2f6=_0x205ce7['descriptionFactory']['getItemLabel'](_0x28a1be);return'indentBlock'==_0x32fbbf['commandName']?{'type':'format','content':o(_0x4af354,'*Indent:*\x20%0',_0x4ec2f6)}:'outdentBlock'==_0x32fbbf['commandName']?{'type':'format','content':o(_0x4af354,'*Outdent:*\x20%0',_0x4ec2f6)}:void 0x0;});}}class at extends _0xb043f8{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class ct extends _0xb043f8{['afterInit'](){const _0x1b644d=this['editor'];if(!_0x1b644d['plugins']['has']('LinkEditing'))return;const _0x482598=_0x1b644d['plugins']['get']('TrackChangesEditing'),_0x4b2344=_0x1b644d['commands']['get']('link');_0x482598['enableDefaultAttributesIntegration']('link'),_0x482598['enableDefaultAttributesIntegration']('unlink'),_0x482598['registerInlineAttribute']('linkHref');for(const _0x7fa17b of _0x4b2344['manualDecorators'])_0x482598['registerInlineAttribute'](_0x7fa17b['id']),_0x482598['descriptionFactory']['registerAttributeLabel'](_0x7fa17b['id'],'link\x20('+_0x7fa17b['label']['toLowerCase']()+')');_0x482598['descriptionFactory']['registerDescriptionCallback'](_0x1cb04a=>{if('attribute'!=_0x1cb04a['type'])return;const {data:_0x5a6641}=_0x1cb04a;if(!_0x5a6641||'linkHref'!=_0x5a6641['key'])return;const _0x168955=_0x5a6641['newValue'],_0x32d47d=_0x1b644d['locale'];return{'type':'format','content':null==_0x168955?o(_0x32d47d,'*Remove\x20link*'):o(_0x32d47d,'*Set\x20link:*\x20%0','\x22'+_0x168955+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1ea6f9=this['editor'],_0x3da0fe=_0x1ea6f9['locale'];_0x1ea6f9['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x25207a=>{if('formatInline'!=_0x25207a['type'])return;const {data:_0x30b525}=_0x25207a;if(_0x30b525){if('link'==_0x30b525['commandName']){const _0xd723f=_0x30b525['commandParams'][0x0];return{'type':'format','content':o(_0x3da0fe,'*Set\x20link:*\x20%0','\x22'+_0xd723f+'\x22')};}return'unlink'==_0x30b525['commandName']?{'type':'format','content':o(_0x3da0fe,'*Remove\x20link*')}:void 0x0;}});}}class ut extends _0xb043f8{['afterInit'](){const _0xed2337=this['editor'],_0x5d3fd3=_0xed2337['locale'];if(!_0xed2337['plugins']['has']('LegacyListEditing'))return;const _0x3d4fa0=_0xed2337['plugins']['get']('TrackChangesEditing'),_0x5b1466=_0xed2337['plugins']['has']('LegacyTodoListEditing');function _0x70d097(_0x20426b){return()=>{const _0x4ec7c8=_0xed2337['model']['document']['selection'],_0x2ce435=_0xed2337['commands']['get'](_0x20426b);if(_0x2ce435['value'])return void _0xed2337['execute']('paragraph',{});const _0x5efeca=_0x20426b['slice'](0x0,-0x4),_0xba24d9=function(_0x40814c,_0x15c626,_0x48cc4f){let _0x268f59=Array['from'](_0x40814c)['filter'](_0x3c13ba=>function(_0x2b3eef,_0x1cd17b){return _0x1cd17b['checkChild'](_0x2b3eef['parent'],'listItem')&&!_0x1cd17b['isObject'](_0x2b3eef);}(_0x3c13ba,_0x48cc4f));_0x268f59=_0x268f59['filter'](_0x228a4c=>!_0x228a4c['is']('element','listItem')||_0x228a4c['getAttribute']('listType')!=_0x15c626);const _0x225186=new Set();for(const _0x3628a2 of _0x268f59)_0x3628a2['is']('element','listItem')?_0x225186['add'](me(_0x3628a2)):_0x225186['add'](_0x3628a2);return Array['from'](_0x225186);}(_0x4ec7c8['getSelectedBlocks'](),_0x5efeca,_0xed2337['model']['schema']);_0xed2337['model']['change'](()=>{for(const _0x468fe4 of _0xba24d9)_0x3d4fa0['markBlockFormat'](_0x468fe4,{'commandName':_0x20426b,'commandParams':[{'forceValue':!_0x2ce435['value']}],'formatGroupId':'blockName'},fe(_0x468fe4));});};}function _0x56be62(_0x4072d4){return()=>{const _0x130073=function(_0x3e3fff){let _0x207974=Array['from'](_0x3e3fff);const _0x5d6885=_0x207974['findIndex'](_0x595610=>'listItem'!=_0x595610['name']);return _0x5d6885>-0x1&&(_0x207974=_0x207974['slice'](0x0,_0x5d6885)),_0x207974;}(_0xed2337['model']['document']['selection']['getSelectedBlocks']()),_0x261412=_0xed2337['model']['createRange'](_0xed2337['model']['createPositionAt'](_0x130073[0x0],'before'),_0xed2337['model']['createPositionAt'](_0x130073[_0x130073['length']-0x1],'end'));_0xed2337['model']['change'](()=>{_0x3d4fa0['markBlockFormat'](_0x261412,{'commandName':_0x4072d4,'commandParams':[],'formatGroupId':'listIndent'},function(_0x218ea7){const _0x212480=new Set();for(const _0x21ff6a of _0x218ea7){let _0x19da4a=_0x21ff6a['nextSibling'];for(;_0x19da4a&&_0x19da4a['getAttribute']('listIndent')>_0x21ff6a['getAttribute']('listIndent');)_0x212480['add'](_0x19da4a),_0x19da4a=_0x19da4a['nextSibling'];}return Array['from'](_0x212480);}(_0x130073));});};}_0x3d4fa0['enableCommand']('numberedList',_0x70d097('numberedList')),_0x3d4fa0['enableCommand']('bulletedList',_0x70d097('bulletedList')),_0x5b1466&&_0x3d4fa0['enableCommand']('todoList',_0x70d097('todoList')),_0x3d4fa0['enableCommand']('indentList',_0x56be62('indentList')),_0x3d4fa0['enableCommand']('outdentList',_0x56be62('outdentList')),_0x5b1466&&_0x3d4fa0['enableCommand']('checkTodoList',()=>{const _0x1e5b9f=_0xed2337['commands']['get']('checkTodoList'),_0xa7c1ef=Array['from'](_0x1e5b9f['_selectedElements']);_0xa7c1ef['filter'](_0xcabd98=>_0xcabd98['getAttribute']('todoListChecked')!=_0x1e5b9f['value']),_0xed2337['model']['change'](()=>{for(const _0x183b1b of _0xa7c1ef)_0x3d4fa0['markBlockFormat'](_0x183b1b,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x1e5b9f['value']}]});});}),_0x3d4fa0['descriptionFactory']['registerElementLabel']('listItem',_0x461077=>o(_0x5d3fd3,'ELEMENT_LIST_ITEM',_0x461077)),_0x3d4fa0['descriptionFactory']['registerDescriptionCallback'](_0xbcce5e=>{if('formatBlock'!=_0xbcce5e['type']&&'formatInline'!=_0xbcce5e['type'])return;const {data:_0xc77779}=_0xbcce5e;if(_0xc77779){if('numberedList'==_0xc77779['commandName']||'bulletedList'==_0xc77779['commandName']||'todoList'==_0xc77779['commandName'])switch(_0xc77779['commandName']['replace']('List','')){case'bulleted':return _0x4b5fe2(o(_0x5d3fd3,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x4b5fe2(o(_0x5d3fd3,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x4b5fe2(o(_0x5d3fd3,'ELEMENT_TODO_LIST'));}if('indentList'==_0xc77779['commandName'])return{'type':'format','content':o(_0x5d3fd3,'*Indent:*\x20%0',o(_0x5d3fd3,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0xc77779['commandName'])return{'type':'format','content':o(_0x5d3fd3,'*Outdent:*\x20%0',o(_0x5d3fd3,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0xc77779['commandName'])return _0xc77779['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x5d3fd3,'*Check\x20item*')}:{'type':'format','content':o(_0x5d3fd3,'*Uncheck\x20item*')};}function _0x4b5fe2(_0x362631){return{'type':'format','content':o(_0x5d3fd3,'*Change\x20to:*\x20%0',_0x362631)};}});}}function me(_0x39faab){const _0x252c0b=_0x39faab['getAttribute']('listIndent');if(0x0==_0x252c0b)return _0x39faab;let _0x1547c5=_0x39faab;for(;_0x39faab['previousSibling']&&_0x39faab['previousSibling']['is']('element','listItem');){const _0x2433a8=_0x39faab['previousSibling']['getAttribute']('listIndent');if(_0x2433a8==_0x252c0b)_0x1547c5=_0x39faab['previousSibling'];else{if(_0x2433a8<_0x252c0b)break;}_0x39faab=_0x39faab['previousSibling'];}return _0x1547c5;}function fe(_0x3d9860){const _0x3730c3=[];if(_0x3d9860['is']('element','listItem')&&_0x3d9860['getAttribute']('listIndent')>0x0){let _0x4ce9d4=_0x3d9860['nextSibling'];for(;_0x4ce9d4&&'listItem'==_0x4ce9d4['name']&&_0x4ce9d4['getAttribute']('listIndent')==_0x3d9860['getAttribute']('listIndent');)_0x3730c3['push'](_0x4ce9d4),_0x4ce9d4=_0x4ce9d4['nextSibling'];}return _0x3730c3;}class K extends _0xb043f8{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x504d56=this['editor']['config']['get']('list.properties'),_0x22ba8d=this['editor']['plugins']['get']('TrackChangesEditing');_0x504d56['styles']&&_0x22ba8d['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x504d56['reversed']&&_0x22ba8d['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x504d56['startIndex']&&_0x22ba8d['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0x22ba8d['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x434b94,_0x3081cb={}){const _0x27a596=this['editor']['plugins']['get']('TrackChangesEditing'),_0x236ef1=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0x27a596['markMultiRangeBlockFormat'](_0x236ef1,{'commandName':'listStyle','commandParams':[{'type':_0x3081cb['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x4a9a52,_0x526145={}){const _0x54a1d0=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3f1eff=this['_getSuggestionBlocks'](_0x5f2d76=>_0x5f2d76['is']('element','listItem')&&'numbered'===_0x5f2d76['getAttribute']('listType'));if(_0x3f1eff['length']<0x1)return;const _0xadb6df=_0x3f1eff['map'](_0x2933a9=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x2933a9,'before'),this['editor']['model']['createPositionAt'](_0x2933a9,0x0)));this['editor']['model']['change'](()=>{_0x54a1d0['markMultiRangeBlockFormat'](_0xadb6df,{'commandName':'listReversed','commandParams':[{'reversed':_0x526145['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x3b6607,_0x115753={}){const _0xda9953=this['editor']['plugins']['get']('TrackChangesEditing'),_0x25cdd8=this['_getSuggestionBlocks'](_0x32207e=>_0x32207e['is']('element','listItem')&&'numbered'===_0x32207e['getAttribute']('listType'));if(_0x25cdd8['length']<0x1)return;const _0x19ca84=_0x25cdd8['map'](_0x2de688=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x2de688,'before'),this['editor']['model']['createPositionAt'](_0x2de688,0x0)));this['editor']['model']['change'](()=>{_0xda9953['markMultiRangeBlockFormat'](_0x19ca84,{'commandName':'listStart','commandParams':[{'startIndex':_0x115753['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x1a53d1){if('formatBlock'!=_0x1a53d1['type']&&'formatInline'!=_0x1a53d1['type'])return;const _0x6b6ffa=this['editor']['locale'],{data:_0x3a5c47}=_0x1a53d1;if(!_0x3a5c47)return;let _0x4230a9,_0x372ac7;switch(_0x3a5c47['commandName']){case'listStyle':_0x4230a9='*Change\x20to:*\x20%0',_0x372ac7={'type':'format','content':o(_0x6b6ffa,_0x4230a9,o(_0x6b6ffa,this['_getTranslationKeyForListStyle'](_0x3a5c47['commandParams'][0x0]['type'])))};break;case'listReversed':_0x4230a9=_0x3a5c47['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x372ac7={'type':'format','content':o(_0x6b6ffa,_0x4230a9)};break;case'listStart':_0x4230a9='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x372ac7={'type':'format','content':o(_0x6b6ffa,_0x4230a9,_0x3a5c47['commandParams'][0x0]['startIndex'])};}return _0x372ac7;}['_getSuggestionBlocksForListStyle'](){const _0x317fa4=this['editor']['plugins']['get']('LegacyListUtils');let _0xdde937=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0xdde937[0x0]?.['is']('element','listItem')&&_0xdde937['unshift'](..._0x317fa4['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0xdde937[_0xdde937['length']-0x1]?.['is']('element','listItem')&&_0xdde937['push'](..._0x317fa4['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0xdde937=[...new Set(_0xdde937)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0xdde937=_0xdde937['filter'](_0x230d4d=>_0x230d4d['is']('element','listItem'))),_0xdde937;}['_getSuggestionBlocks'](_0x2521ef){const _0xda2083=this['editor']['plugins']['get']('LegacyListUtils');let _0x1b5496=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x2521ef)['map'](_0x292296=>{const _0x5b3236=this['editor']['model']['createPositionAt'](_0x292296,0x0);return[..._0xda2083['getSiblingNodes'](_0x5b3236,'backward'),..._0xda2083['getSiblingNodes'](_0x5b3236,'forward')];})['flat']();return _0x1b5496=[...new Set(_0x1b5496)],_0x1b5496;}['_getTranslationKeyForListStyle'](_0x174a5e){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x174a5e)||'default')['toUpperCase']()+'_LIST_'+_0x174a5e['toUpperCase']()['replace'](/-/g,'_');}}class ft extends _0xb043f8{['afterInit'](){const _0x3ef27c=this['editor'];if(!_0x3ef27c['plugins']['has']('MediaEmbedEditing'))return;const _0x18e071=_0x3ef27c['plugins']['get']('TrackChangesEditing'),_0x3eb7dc=_0x3ef27c['locale'];_0x18e071['enableCommand']('mediaEmbed'),_0x18e071['descriptionFactory']['registerElementLabel']('media',_0x28d075=>o(_0x3eb7dc,'ELEMENT_MEDIA',_0x28d075)),_0x3ef27c['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x3065d8,{writer:_0x3827cb,options:_0x365804})=>{if(_0x365804['showSuggestionHighlights'])return _0x3827cb['createEmptyElement']('div');},'converterPriority':'high'}),_0x3ef27c['data']['downcastDispatcher']['on']('attribute:url:media',(_0x14cc66,_0x43cadb,_0x198a48)=>{_0x198a48['options']['showSuggestionHighlights']&&_0x14cc66['stop']();},{'priority':'high'});}}class gt extends _0xb043f8{['afterInit'](){const _0x423177=this['editor'];_0x423177['plugins']['has']('MentionEditing')&&_0x423177['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class lt extends _0xb043f8{['afterInit'](){const _0x26dbae=this['editor'],_0x488457=_0x26dbae['plugins']['get']('TrackChangesEditing');_0x26dbae['plugins']['has']('MultiLevelList')&&(_0x488457['enableDefaultAttributesIntegration']('multiLevelList'),_0x488457['registerBlockAttribute']('listMarkerStyle'),_0x488457['descriptionFactory']['registerDescriptionCallback'](_0x74d331=>this['handleDescriptions'](_0x74d331)));}['handleDescriptions'](_0x4d74b4){const _0x3e4ff0=this['editor']['locale'],{data:_0x135c37}=_0x4d74b4,_0x4c57da={'type':'format','content':''};if(_0x135c37&&'listMarkerStyle'==_0x135c37['key']){if(!_0x135c37['oldValue'])return{'type':'format','content':o(_0x3e4ff0,'*Set\x20format:*\x20%0',o(_0x3e4ff0,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x135c37['newValue']+')'};if(!_0x135c37['newValue']){let _0x3a153e=_0x4d74b4['head'];for(;_0x3a153e;){if(_0x3a153e['data']&&'listType'==_0x3a153e['data']['key']&&_0x3a153e['data']['newValue'])return _0x4c57da;_0x3a153e=_0x3a153e['next'];}return{'type':'format','content':o(_0x3e4ff0,'*Remove\x20format:*\x20%0',o(_0x3e4ff0,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x135c37['oldValue']+')'};}}}}class mt extends _0xb043f8{['afterInit'](){const _0x44f999=this['editor'];if(!_0x44f999['plugins']['has']('PageBreakEditing'))return;_0x44f999['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x316e81=_0x44f999['plugins']['get']('TrackChangesEditing'),_0x2f4263=_0x44f999['locale'];_0x316e81['descriptionFactory']['registerElementLabel']('pageBreak',_0x58c1db=>o(_0x2f4263,'ELEMENT_PAGE_BREAK',_0x58c1db));}}class dt extends _0xb043f8{['afterInit'](){const _0x2249a1=this['editor'];if(!_0x2249a1['plugins']['has']('Paragraph'))return;const _0xb72bb9=_0x2249a1['locale'],_0xfd5a6=_0x2249a1['plugins']['get']('TrackChangesEditing');_0xfd5a6['descriptionFactory']['registerElementLabel']('paragraph',_0x2220c3=>o(_0xb72bb9,'ELEMENT_PARAGRAPH',_0x2220c3)),_0xfd5a6['enableDefaultAttributesIntegration']('paragraph'),_0xfd5a6['enableCommand']('insertParagraph'),_0x2249a1['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x2249a1),{'priority':'highest'}),_0x2249a1['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x14bd65,_0x7ca02c,_0x5a0728)=>{_0x5a0728['options']['showSuggestionHighlights']&&nr(_0x2249a1,{'showActiveMarker':!0x1})(_0x14bd65,_0x7ca02c,_0x5a0728);},{'priority':'highest'});const _0x2dbd88=_0xfd5a6['descriptionFactory'];_0x2dbd88['registerDescriptionCallback'](_0x30435b=>{if('insertion'!==_0x30435b['type'])return;const {start:_0xd65b3,end:_0xbd06bc}=_0x30435b['getFirstRange']();if(!_0xd65b3['isTouching'](_0xbd06bc)||!_0xd65b3['nodeAfter'])return;const _0x550d42=_0x2249a1['model']['schema'],_0x1b2316=_0xd65b3['nodeAfter'];return _0x550d42['isBlock'](_0x1b2316)&&!_0x550d42['isLimit'](_0x1b2316)&&_0x550d42['checkChild'](_0x1b2316,'$text')?{'type':'insertion','content':o(_0xb72bb9,'*Insert:*\x20%0',_0x2dbd88['getItemLabel'](_0x1b2316,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x57366b=this['editor'],_0x3de72d=_0x57366b['locale'];_0x57366b['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x341f03=>{if('formatBlock'!=_0x341f03['type'])return;const {data:_0x137615}=_0x341f03;return _0x137615&&'paragraph'==_0x137615['commandName']?{'type':'format','content':o(_0x3de72d,'*Change\x20to:*\x20%0',o(_0x3de72d,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x2f7aea,{showActiveMarker:_0xb7ee0a=!0x0}={}){return(_0xe24f6a,_0x19a5cd,_0x20718d)=>{const _0x213742=_0x2f7aea['plugins']['get']('TrackChangesEditing'),_0x28b690=_0x19a5cd['markerRange']['start'],_0x5b60c7=_0x19a5cd['markerRange']['end'],_0x471f6b=_0x2f7aea['model']['schema'];if(!_0x28b690['isTouching'](_0x5b60c7)||!_0x28b690['nodeAfter'])return;const _0x486023=_0x28b690['nodeAfter'];if(_0x471f6b['isBlock'](_0x486023)&&!_0x471f6b['isLimit'](_0x486023)&&_0x471f6b['checkChild'](_0x486023,'$text')){if(!_0x20718d['consumable']['consume'](_0x19a5cd['markerRange'],_0xe24f6a['name']))return;const _0x3071f8=_0x20718d['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split'}),_0x4171a8=_0x20718d['mapper']['toViewPosition'](_0x5b60c7);_0xb7ee0a&&_0x213742['activeMarkers']['includes'](_0x19a5cd['markerName'])&&_0x20718d['writer']['addClass']('ck-suggestion-marker--active',_0x3071f8),_0x20718d['writer']['insert'](_0x4171a8,_0x3071f8),_0x20718d['mapper']['bindElementToMarker'](_0x3071f8,_0x19a5cd['markerName']);}};}class pt extends _0xb043f8{['afterInit'](){const _0x562630=this['editor'];if(!_0x562630['plugins']['has']('RemoveFormatEditing'))return;_0x562630['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1832c6=this['editor'];_0x1832c6['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4294da=>{if('formatBlock'!=_0x4294da['type']&&'formatInline'!=_0x4294da['type'])return;const {data:_0xa8bfd5}=_0x4294da;return _0xa8bfd5&&'removeFormat'==_0xa8bfd5['commandName']?{'type':'format','content':o(_0x1832c6['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class kt extends _0xb043f8{['afterInit'](){const _0x179609=this['editor'];if(!_0x179609['plugins']['has']('RestrictedEditingModeEditing'))return;const _0x123e5c=_0x179609['plugins']['get']('TrackChangesEditing');_0x123e5c['enableCommand']('goToPreviousRestrictedEditingException'),_0x123e5c['enableCommand']('goToNextRestrictedEditingException');const _0x551dbc=_0x179609['plugins']['get']('RestrictedEditingModeEditing');_0x551dbc['enableCommand']('trackChanges'),_0x551dbc['enableCommand']('acceptSuggestion'),_0x551dbc['enableCommand']('discardSuggestion'),_0x551dbc['enableCommand']('acceptAllSuggestions'),_0x551dbc['enableCommand']('discardAllSuggestions'),_0x551dbc['enableCommand']('acceptSelectedSuggestions'),_0x551dbc['enableCommand']('discardSelectedSuggestions');}}class bt extends _0xb043f8{static get['requires'](){return[_0x58baa5];}['init'](){const _0x794985=this['editor'],_0xbf7223=_0x794985['plugins']['get']('TrackChangesEditing');_0xbf7223['enableCommand']('shiftEnter'),_0x794985['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',de(_0x794985),{'priority':'high'}),_0x794985['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',de(_0x794985),{'priority':'high'}),_0x794985['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x39a834,_0x1ce5a4,_0x64e5d1)=>{_0x64e5d1['options']['showSuggestionHighlights']&&de(_0x794985,{'showActiveMarker':!0x1})(_0x39a834,_0x1ce5a4,_0x64e5d1);}),_0xbf7223['descriptionFactory']['registerElementLabel']('softBreak',_0x2d08b6=>o(_0x794985['locale'],'ELEMENT_LINE_BREAK',_0x2d08b6));}}function de(_0xa880,{showActiveMarker:_0x18be39=!0x0}={}){return(_0x3cb9f9,_0x187aca,_0x5f1164)=>{const _0x465ed1=_0xa880['plugins']['get']('TrackChangesEditing');if(!_0x5f1164['consumable']['test'](_0x187aca['markerRange'],_0x3cb9f9['name']))return;const _0x5b4752=_0xa880['model'];for(const _0x24fbac of _0x187aca['markerRange']['getItems']()){if(!_0x24fbac['is']('element','softBreak'))continue;const _0x3d44b='deletion'==_0x187aca['markerName']['split'](':')[0x1]?'merge':'split',_0x5c1c7d=_0x5f1164['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x3d44b}),_0x922f0d=_0x5f1164['mapper']['toViewPosition'](_0x5b4752['createPositionBefore'](_0x24fbac));_0x18be39&&_0x465ed1['activeMarkers']['includes'](_0x187aca['markerName'])&&_0x5f1164['writer']['addClass']('ck-suggestion-marker--active',_0x5c1c7d),_0x5f1164['writer']['insert'](_0x922f0d,_0x5c1c7d),_0x5f1164['mapper']['bindElementToMarker'](_0x5c1c7d,_0x187aca['markerName']);}};}class wt extends _0xb043f8{['afterInit'](){const _0xb8cc1=this['editor'],_0x17b486=_0xb8cc1['model'],_0x4e7164=_0xb8cc1['locale'];if(!_0xb8cc1['plugins']['has']('StandardEditingModeEditing'))return;const _0x227d1a=_0xb8cc1['plugins']['get']('TrackChangesEditing'),_0x3cee3b='restrictedEditingException',_0x21634f=_0xb8cc1['commands']['get'](_0x3cee3b);_0x227d1a['enableCommand'](_0x3cee3b,(_0x15f901,_0x51ee31={})=>{const _0x2470ff=_0x17b486['document']['selection'];if(_0x2470ff['isCollapsed'])return void _0x15f901(_0x51ee31);const _0x3ef131=void 0x0!==_0x51ee31['forceValue']?_0x51ee31['forceValue']:!_0x21634f['value'];_0x17b486['change'](()=>{const _0x4a4c4c=Array['from'](_0x2470ff['getRanges']());for(const _0x504f8e of _0x4a4c4c){const _0x194861=_0x3ef131?[_0x504f8e]:io(_0x3cee3b,_0x504f8e,_0x17b486);for(const _0x591459 of _0x194861)_0x227d1a['markInlineFormat'](_0x591459,{'commandName':_0x3cee3b,'commandParams':[{'forceValue':_0x3ef131}]});}});}),_0x227d1a['descriptionFactory']['registerDescriptionCallback'](_0x1209e4=>{if('formatBlock'!=_0x1209e4['type']&&'formatInline'!=_0x1209e4['type'])return;const {data:_0x168464}=_0x1209e4;return _0x168464&&_0x168464['commandName']==_0x3cee3b?_0x168464['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x4e7164,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':o(_0x4e7164,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class yt extends _0xb043f8{['afterInit'](){const _0x5dd490=this['editor'];if(!_0x5dd490['plugins']['has']('Style')||!_0x5dd490['plugins']['has']('DataSchema'))return;const _0x34dae4=_0x5dd490['plugins']['get']('TrackChangesEditing'),_0x398d78=_0x5dd490['locale'],_0x190018=_0x5dd490['config']['get']('style')||{},_0x4b0d76=_0x5dd490['plugins']['get']('GeneralHtmlSupport'),_0x691efa=_0x5dd490['plugins']['get']('StyleUtils')['normalizeConfig'](_0x5dd490['plugins']['get']('DataSchema'),_0x190018['definitions']);_0x34dae4['enableDefaultAttributesIntegration']('style');const _0x4c9e07=new Set();for(const _0x27b8c6 of _0x691efa['block']){const _0x25779d=_0x4b0d76['getGhsAttributeNameForElement'](_0x27b8c6['element']);_0x4c9e07['add'](_0x25779d);}const _0x5e9891=new Set();for(const _0x2877ec of _0x691efa['inline']){const _0x56176d=_0x4b0d76['getGhsAttributeNameForElement'](_0x2877ec['element']);_0x5e9891['add'](_0x56176d);for(const _0x2adf07 of _0x2877ec['ghsAttributes'])_0x5e9891['add'](_0x2adf07);}for(const _0x5c7a7 of _0x4c9e07)_0x34dae4['registerBlockAttribute'](_0x5c7a7),_0x34dae4['descriptionFactory']['registerAttributeLabel'](_0x5c7a7,o(_0x398d78,'FORMAT_STYLE'));for(const _0x1a3bc5 of _0x5e9891)_0x34dae4['registerInlineAttribute'](_0x1a3bc5),_0x34dae4['descriptionFactory']['registerAttributeLabel'](_0x1a3bc5,o(_0x398d78,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x22eb11=this['editor'],_0x5dda45=_0x22eb11['locale'];_0x22eb11['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x403c53=>{if('formatBlock'!=_0x403c53['type']&&'formatInline'!=_0x403c53['type'])return;const {data:_0x11f6d9}=_0x403c53;return _0x11f6d9&&'style'===_0x11f6d9['commandName']?_0x11f6d9['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x5dda45,'*Set\x20format:*\x20%0',_0x11f6d9['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':o(_0x5dda45,'*Remove\x20format:*\x20%0',_0x11f6d9['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class jt extends _0xb043f8{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x210ddf){super(_0x210ddf),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x305d94=this['editor'],_0x123518=_0x305d94['model']['document']['selection'];if(!_0x305d94['plugins']['has']('TableEditing'))return;const _0x4a3e9d=_0x305d94['locale'],_0x4c7f7f=_0x305d94['plugins']['get']('TrackChangesEditing'),_0x29288e=_0x305d94['plugins']['get']('TableUtils');_0x4c7f7f['descriptionFactory']['registerElementLabel']('table',_0x28e3e6=>o(_0x4a3e9d,'ELEMENT_TABLE',_0x28e3e6)),this['_setupColumnsRowsFixing'](),_0x4c7f7f['enableCommand']('insertTable'),_0x4c7f7f['enableCommand']('selectTableRow'),_0x4c7f7f['enableCommand']('selectTableColumn');for(const _0xa90c7e of['insertTableRowAbove','insertTableRowBelow']){const _0x5c51d5=_0x305d94['commands']['get'](_0xa90c7e);_0x4c7f7f['enableCommand'](_0xa90c7e,_0x4ced4b=>{_0x305d94['model']['change'](_0x2f2628=>{_0x4ced4b();const _0x3959bc='above'===_0x5c51d5['order'],_0x24288f=_0x29288e['getSelectionAffectedTableCells'](_0x123518),_0x3465bc=_0x29288e['getRowIndexes'](_0x24288f),_0x1c0988=_0x3959bc?_0x3465bc['first']-0x1:_0x3465bc['last']+0x1,_0x1f5514=_0x24288f[0x0]['findAncestor']('table'),_0x1d86b9=_0x29288e['createTableWalker'](_0x1f5514,{'startRow':_0x1c0988,'endRow':_0x1c0988}),_0x3367e3=Array['from'](_0x1d86b9)['map'](_0x338302=>_0x2f2628['createRangeOn'](_0x338302['cell']));_0x4c7f7f['markMultiRangeInsertion'](_0x3367e3,'tableRow');});});}for(const _0x5891f1 of['insertTableColumnLeft','insertTableColumnRight']){const _0x8b460e=_0x305d94['commands']['get'](_0x5891f1);_0x4c7f7f['enableCommand'](_0x5891f1,_0x4fd1a1=>{_0x305d94['model']['change'](_0x5f2412=>{_0x4fd1a1();const _0x1b93b3='left'===_0x8b460e['order'],_0x25d95c=_0x29288e['getSelectionAffectedTableCells'](_0x123518),_0x372432=_0x29288e['getColumnIndexes'](_0x25d95c),_0x2f321d=_0x1b93b3?_0x372432['first']-0x1:_0x372432['last']+0x1,_0x2fb6e1=_0x25d95c[0x0]['findAncestor']('table'),_0x771dc2=_0x29288e['createTableWalker'](_0x2fb6e1,{'startRow':0x0,'column':_0x2f321d,'includeAllSlots':!0x1}),_0x10088d=Array['from'](_0x771dc2)['map'](_0x198e6b=>_0x5f2412['createRangeOn'](_0x198e6b['cell']));_0x4c7f7f['markMultiRangeInsertion'](_0x10088d,'tableColumn');});});}for(const _0x2d1da7 of['removeTableRow','removeTableColumn']){const _0x3fbaac=_0x2d1da7['substr'](0xb),_0x1bd518=_0x3fbaac['toLowerCase'](),_0xac0dd8=_0x1bd518['substr'](0x0,0x3)+'span',_0x2ef0c0='table'+_0x3fbaac,_0x355166='min'+_0x3fbaac,_0xc17240='max'+_0x3fbaac;_0x4c7f7f['enableCommand'](_0x2d1da7,()=>{_0x305d94['model']['change'](_0x2bed8d=>{const _0x3d87fc=_0x29288e['getSelectionAffectedTableCells'](_0x123518),_0x341a04=_0x3d87fc[0x0]['findAncestor']('table');let _0x49ea01;if('removeTableRow'==_0x2d1da7){const _0x5a0479=_0x29288e['getRowIndexes'](_0x3d87fc);_0x49ea01={'startRow':_0x5a0479['first'],'endRow':_0x5a0479['last'],'includeAllSlots':!0x0};}else{const _0x1d6835=_0x29288e['getColumnIndexes'](_0x3d87fc);_0x49ea01={'startColumn':_0x1d6835['first'],'endColumn':_0x1d6835['last'],'includeAllSlots':!0x0};}const _0x2c3df7=_0x29288e['createTableWalker'](_0x341a04,_0x49ea01),_0x327ecd=Array['from'](_0x2c3df7)['map'](({cell:_0x44c13b})=>_0x44c13b),_0x48493b=Ee(_0x327ecd['filter'](_0x3a4a21=>_0x3a4a21['hasAttribute'](_0xac0dd8))),_0xd18e92=Ee(_0x327ecd['filter'](_0x4f2d79=>!_0x4f2d79['hasAttribute'](_0xac0dd8)))['map'](_0xce4455=>_0x2bed8d['createRangeOn'](_0xce4455)),_0x5e0a97=_0x4c7f7f['markMultiRangeDeletion'](_0xd18e92,_0x2ef0c0);if(_0x5e0a97&&('tableRow'==_0x5e0a97['subType']||'tableColumn'==_0x5e0a97['subType'])){const _0x3445a1=this['_getSuggestionCoords'](_0x5e0a97);for(const _0x59f8c6 of _0x48493b){const _0x3dc505=_0x2bed8d['createRangeOn'](_0x59f8c6),_0x25c3aa=_0x29288e['getCellLocation'](_0x59f8c6),_0x57c9f8=_0x59f8c6['getAttribute'](_0xac0dd8)-0x1,_0x15044e=_0x3445a1[_0x355166],_0x3b034d=_0x3445a1[_0xc17240];_0x15044e<=_0x25c3aa[_0x1bd518]&&_0x25c3aa[_0x1bd518]+_0x57c9f8<=_0x3b034d&&_0x5e0a97['addRange'](_0x3dc505);}}});});}function _0x5c17ca(_0x44e000){const _0x233b1e=Array['from'](_0x123518['getRanges']())['map'](_0x12a3aa=>_0x4b333b['fromRange'](_0x12a3aa));_0x305d94['model']['change'](_0x58e411=>{const _0xf783c0=_0x58e411['batch'];_0x44e000=_0x44e000['filter'](_0x495c65=>'$graveyard'!=_0x495c65['root']['rootName']),_0x58e411['setSelection'](_0x44e000),_0x305d94['commands']['get']('removeTableRow')['refresh'](),_0x305d94['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x305d94['model']['enqueueChange'](()=>{_0x305d94['model']['enqueueChange'](_0xf783c0,_0x4b0b8e=>{const _0x163d44=_0x233b1e['filter'](_0x30bbdc=>'$graveyard'!=_0x30bbdc['root']['rootName']);_0x163d44['length']>0x0&&_0x4b0b8e['setSelection'](_0x163d44);for(const _0x4c5a08 of _0x233b1e)_0x4c5a08['detach']();});});});}function _0x403f9f(_0x140c7e){_0x305d94['model']['change'](_0xd006d1=>{const _0xcbbc25=Array['from'](_0x123518['getRanges']())['map'](_0x55e09b=>_0x4b333b['fromRange'](_0x55e09b)),_0x38bd16=[];for(const _0x2abe4c of _0x140c7e)for(const _0x201b67 of _0x2abe4c['getItems']({'shallow':!0x0}))_0x38bd16['push'](_0x201b67);for(const _0x1e842c of _0x38bd16)'$graveyard'!=_0x1e842c['root']['rootName']&&(_0xd006d1['setSelection'](_0xd006d1['createPositionAt'](_0x1e842c,0x0)),_0x305d94['commands']['get']('removeTableColumn')['refresh'](),_0x305d94['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x57d36b=_0xcbbc25['filter'](_0x48d56c=>'$graveyard'!=_0x48d56c['root']['rootName']);_0x57d36b['length']>0x0&&_0xd006d1['setSelection'](_0x57d36b);for(const _0x5b3d2a of _0xcbbc25)_0x5b3d2a['detach']();});}function _0x4d4d6c(_0x2709fb,_0x4b8e1d){return _0x4b8e1d['every'](_0x45e0e8=>_0x2709fb['some'](_0x5e9716=>_0x5e9716['end']['isEqual'](_0x45e0e8['start'])||_0x45e0e8['end']['isEqual'](_0x5e9716['start'])));}function _0x462d6b(_0x119309,_0x181007){return!_0x119309['some'](_0x1cd5bc=>_0x181007['some'](_0x1579ee=>_0x1cd5bc['isIntersecting'](_0x1579ee)))&&_0x119309['some'](_0x9ff96f=>_0x181007['some'](_0x324d38=>_0x9ff96f['end']['isTouching'](_0x324d38['start'])));}_0x305d94['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x3a290c,_0x43ad5c,_0x2bcc83)=>{if(!_0x2bcc83['options']['showSuggestionHighlights'])return;const _0x446deb=_0x43ad5c['item'];if(!_0x446deb)return;const _0x533718=_0x2bcc83['mapper']['toViewElement'](_0x446deb);function _0x36502b(_0x2878da){return Array['isArray'](_0x2878da)?_0x2878da:[_0x2878da];}_0x533718&&'tableCell'===_0x446deb['name']&&_0x18523e(_0x533718,_0x2bcc83['writer'],(_0x2ea44d,_0x482a6d,_0x5a8136)=>_0x5a8136['addClass'](_0x36502b(_0x482a6d['classes']),_0x2ea44d),(_0x2db869,_0xd769dd,_0x8766de)=>_0x8766de['removeClass'](_0x36502b(_0xd769dd['classes']),_0x2db869));},{'priority':'highest'}),_0x4c7f7f['descriptionFactory']['registerDescriptionCallback'](_0x42c4a2=>{if('insertion'!=_0x42c4a2['type']&&'deletion'!=_0x42c4a2['type'])return;const _0x428e01=_0x42c4a2['getContainedElement']();if(null!=_0x428e01&&_0x428e01['is']('element','table')){if('insertion'==_0x42c4a2['type']){const _0x329898=_0x42c4a2['getItems']()['filter'](_0x535348=>_0x535348['is']('$textProxy'))['map'](_0x4ff995=>_0x4ff995['data']);if(_0x329898['length'])return{'type':'insertion','content':o(_0x4a3e9d,'*Insert:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x329898['join']('\x20')+'\x22'))};}if('deletion'==_0x42c4a2['type']){const _0x17cf99=_0x42c4a2['getItems']()['filter'](_0x219e91=>_0x219e91['is']('$textProxy'))['map'](_0x19d828=>_0x19d828['data']);if(_0x17cf99['length'])return{'type':'deletion','content':o(_0x4a3e9d,'*Remove:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x17cf99['join']('\x20')+'\x22'))};}}}),_0x4c7f7f['descriptionFactory']['registerDescriptionCallback'](_0x2f09da=>{if('tableRow'==_0x2f09da['subType']){const _0x19da31=_0x2f09da['getItems']()['filter'](_0x5b8e5d=>_0x5b8e5d['is']('$textProxy'))['map'](_0x38a5d2=>_0x38a5d2['data']),_0x2b7633=this['_getSuggestionCoords'](_0x2f09da),_0x6950be=_0x2b7633['maxRow']-_0x2b7633['minRow']+0x1;if('insertion'==_0x2f09da['type'])return _0x19da31['length']?{'type':'insertion','content':o(_0x4a3e9d,'*Insert:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x6950be,'\x22'+_0x19da31['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x4a3e9d,'*Insert:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_ROW',_0x6950be))};if('deletion'==_0x2f09da['type'])return _0x19da31['length']?{'type':'deletion','content':o(_0x4a3e9d,'*Remove:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x6950be,'\x22'+_0x19da31['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x4a3e9d,'*Remove:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_ROW',_0x6950be))};}if('tableColumn'==_0x2f09da['subType']){const _0x20a533=_0x2f09da['getItems']()['filter'](_0x4727e2=>_0x4727e2['is']('$textProxy'))['map'](_0x5ebad2=>_0x5ebad2['data']),_0x4731c=this['_getSuggestionCoords'](_0x2f09da),_0x1114f6=_0x4731c['maxColumn']-_0x4731c['minColumn']+0x1;if('insertion'==_0x2f09da['type'])return _0x20a533['length']?{'type':'insertion','content':o(_0x4a3e9d,'*Insert:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x1114f6,'\x22'+_0x20a533['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x4a3e9d,'*Insert:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_COLUMN',_0x1114f6))};if('deletion'==_0x2f09da['type'])return _0x20a533['length']?{'type':'deletion','content':o(_0x4a3e9d,'*Remove:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x1114f6,'\x22'+_0x20a533['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x4a3e9d,'*Remove:*\x20%0',o(_0x4a3e9d,'ELEMENT_TABLE_COLUMN',_0x1114f6))};}}),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x5c17ca),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x5c17ca),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x403f9f),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x403f9f),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x4d4d6c),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x4d4d6c),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x462d6b),_0x4c7f7f['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x462d6b);}['_acceptFormatSuggestionCallbackFactory'](){const _0x2b0739=this['editor'],_0x1dafb1=_0x2b0739['model']['document']['selection'];return(_0x10129d,_0x5d25c3)=>{_0x2b0739['model']['change'](_0xe5db16=>{const {commandName:_0x4da06e,commandParams:_0x12cf13}=_0x5d25c3;let _0x1a054d=_0x10129d[0x0]['end']['nodeBefore'];_0x12cf13&&_0x12cf13[0x0]&&!0x1===_0x12cf13[0x0]['forceValue']&&(_0x1a054d=_0x10129d[0x0]['start']['nodeAfter']);const _0xbe7daf=_0xe5db16['createRangeIn'](_0x1a054d);if('$graveyard'==_0xbe7daf['root']['rootName'])return;const _0x1d5890=Array['from'](_0x1dafb1['getRanges']())['map'](_0x1a834c=>_0x4b333b['fromRange'](_0x1a834c));_0xe5db16['setSelection'](_0xbe7daf),_0x2b0739['commands']['get'](_0x4da06e)['refresh'](),_0x12cf13['push']({'forceDefaultExecution':!0x0}),_0x2b0739['execute'](_0x4da06e,..._0x12cf13);const _0x8ed172=_0x1d5890['filter'](_0x571230=>'$graveyard'!=_0x571230['root']['rootName']);_0x8ed172['length']>0x0&&_0xe5db16['setSelection'](_0x8ed172);for(const _0x5403a3 of _0x1d5890)_0x5403a3['detach']();});};}['_getCoordsForCells'](_0xcd0a7e){const _0x2de8f8=this['editor']['plugins']['get']('TableUtils');let _0x383c30=Number['MAX_SAFE_INTEGER'],_0x3a8bc8=Number['MIN_SAFE_INTEGER'],_0xf9ed78=Number['MAX_SAFE_INTEGER'],_0x44bdcf=Number['MIN_SAFE_INTEGER'];for(const _0x116352 of _0xcd0a7e){if('$graveyard'==_0x116352['root']['rootName'])continue;const {row:_0x4b9ddf,column:_0x22e7c9}=_0x2de8f8['getCellLocation'](_0x116352),_0x275123=_0x116352['hasAttribute']('rowspan')?_0x116352['getAttribute']('rowspan')-0x1:0x0,_0x2c95ca=_0x116352['hasAttribute']('colspan')?_0x116352['getAttribute']('colspan')-0x1:0x0;_0x383c30=_0x4b9ddf<_0x383c30?_0x4b9ddf:_0x383c30,_0x3a8bc8=_0x4b9ddf+_0x275123>_0x3a8bc8?_0x4b9ddf+_0x275123:_0x3a8bc8,_0xf9ed78=_0x22e7c9<_0xf9ed78?_0x22e7c9:_0xf9ed78,_0x44bdcf=_0x22e7c9+_0x2c95ca>_0x44bdcf?_0x22e7c9+_0x2c95ca:_0x44bdcf;}return{'minRow':_0x383c30,'maxRow':_0x3a8bc8,'minColumn':_0xf9ed78,'maxColumn':_0x44bdcf};}['_setupColumnsRowsFixing'](){const _0x2e69fe=this['editor'],_0x2a3402=_0x2e69fe['plugins']['get']('TrackChangesEditing'),_0x438f73=_0x2e69fe['plugins']['get']('TableUtils');_0x2e69fe['model']['document']['on']('change:data',()=>{const _0x2e0848=Array['from'](_0x2e69fe['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5bd998,data:_0x401e71}of _0x2e0848){const {group:_0x5e0e27,id:_0x287582,subType:_0x4da6ca}=_0x2a3402['_splitMarkerName'](_0x5bd998);if('suggestion'!=_0x5e0e27)continue;if(null!=_0x401e71['oldRange'])continue;const _0x54ebd0=_0x2a3402['getSuggestion'](_0x287582);this['_tablePostFixingSubtypes']['includes'](_0x4da6ca)&&this['_tableSuggestions']['add'](_0x54ebd0);}},{'priority':'low'});const _0x31a215=(_0x38e83d,_0x25475e)=>{let _0x55718f=!0x1;const _0x2dc607=_0x25475e['createRangeOn'](_0x38e83d),_0x38845b=_0x38e83d['findAncestor']('table'),_0x224c9d=_0x438f73['getCellLocation'](_0x38e83d);for(const _0x3b16f4 of this['_tableSuggestions']){const _0x2f44e7=_0x3b16f4['subType'],_0x26d0a7=_0x2f44e7['startsWith']('tablePaste'),_0x4ebb4d=_0x2f44e7['substr'](_0x26d0a7?0xa:0x5),_0x109eb4=_0x4ebb4d['toLowerCase'](),_0x745f2b=_0x109eb4['substr'](0x0,0x3)+'span',_0x5c7e33='min'+_0x4ebb4d,_0x51ce80='max'+_0x4ebb4d;if(!_0x3b16f4['isInContent'])continue;if(_0x38845b!=_0x3b16f4['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x3b16f4['isIntersectingWithRange'](_0x2dc607))continue;const _0x78b768=_0x38e83d['hasAttribute'](_0x745f2b)?_0x38e83d['getAttribute'](_0x745f2b)-0x1:0x0,_0x1390f3=this['_getSuggestionCoords'](_0x3b16f4),_0x29d9a2=_0x1390f3[_0x5c7e33],_0x23ccb5=_0x1390f3[_0x51ce80];_0x29d9a2<=_0x224c9d[_0x109eb4]&&_0x224c9d[_0x109eb4]+_0x78b768<=_0x23ccb5&&(_0x3b16f4['addRange'](_0x2dc607),_0x55718f=!0x0);}return _0x55718f;};_0x2e69fe['model']['document']['registerPostFixer'](_0x239bb7=>{let _0x592d9c=!0x1;for(const _0x4697ca of _0x2e69fe['model']['document']['differ']['getChanges']())if('insert'==_0x4697ca['type']){if('tableRow'==_0x4697ca['name']){for(const _0x22ffcf of _0x4697ca['position']['nodeAfter']['getChildren']())_0x592d9c=_0x592d9c||_0x31a215(_0x22ffcf,_0x239bb7);}else'tableCell'==_0x4697ca['name']&&(_0x592d9c=_0x592d9c||_0x31a215(_0x4697ca['position']['nodeAfter'],_0x239bb7));}return _0x592d9c;});}['_getSuggestionCoords'](_0x4ae921){return this['_getCoordsForCells'](_0x4ae921['getRanges']()['map'](_0x3bc3d3=>_0x3bc3d3['start']['nodeAfter']));}}function Ee(_0xa3a24e){return Array['from'](new Set(_0xa3a24e)['values']());}class St extends _0xb043f8{static get['requires'](){return[jt];}['afterInit'](){const _0x4d705a=this['editor'],_0xecc725=_0x4d705a['model']['document']['selection'],_0x432f1c=_0x4d705a['locale'];if(!_0x4d705a['plugins']['has']('TableEditing'))return;const _0x182b44=_0x4d705a['plugins']['get']('TrackChangesEditing'),_0x16ede9=_0x4d705a['plugins']['get']('TableUtils'),_0xdfc786=_0x4d705a['plugins']['get'](jt);_0xdfc786['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0x182b44['enableCommand']('mergeTableCells',()=>{const _0x4d2b79=_0x16ede9['getSelectionAffectedTableCells'](_0x4d705a['model']['document']['selection']);_0x4d705a['model']['change'](()=>{_0x182b44['markMultiRangeBlockFormat'](_0x4d2b79,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x4d705a['commands']['get']('mergeTableCells')['on']('execute',(_0x15536c,_0x58f542)=>{_0x4d705a['commands']['get']('trackChanges')['value']&&(_0x58f542['length']>0x0&&_0x58f542[_0x58f542['length']-0x1]&&_0x58f542[_0x58f542['length']-0x1]['forceDefaultExecution']||_0x182b44['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x15536c['stop']());},{'priority':'highest'});for(const _0x2ce66a of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x55ff5b=_0x4d705a['commands']['get'](_0x2ce66a);_0x182b44['enableCommand'](_0x2ce66a,()=>{const _0x506e99=_0x4d705a['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x2ca4d5=>_0x2ca4d5['is']('element','tableCell')),_0x163009=_0x55ff5b['value'];_0x4d705a['model']['change'](()=>{_0x182b44['markMultiRangeBlockFormat']([_0x506e99,_0x163009],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x21352e of['splitTableCellVertically','splitTableCellHorizontally']){const _0x25c39b=_0x4d705a['commands']['get'](_0x21352e);_0x182b44['enableCommand'](_0x21352e,()=>{const _0x2a0a2d=_0x16ede9['getSelectionAffectedTableCells'](_0x4d705a['model']['document']['selection'])[0x0],_0x3a37bb=_0x2a0a2d['findAncestor']('table'),{column:_0x4072d8,row:_0x2b7f6e}=_0x16ede9['getCellLocation'](_0x2a0a2d);let _0x157bfc=[];if('horizontally'==_0x25c39b['direction']){const _0x44a2dc=_0x16ede9['createTableWalker'](_0x3a37bb,{'startRow':_0x2b7f6e,'endRow':_0x2b7f6e,'includeAllSlots':!0x0});_0x157bfc=Array['from'](_0x44a2dc)['map'](_0x374d61=>_0x374d61['cell']);}else{const _0x4797d1=_0x16ede9['createTableWalker'](_0x3a37bb,{'column':_0x4072d8,'includeAllSlots':!0x0});_0x157bfc=Array['from'](_0x4797d1)['map'](_0x48b1f4=>_0x48b1f4['cell']);}_0x4d705a['model']['change'](_0x33be7a=>{_0x182b44['markBlockFormat'](_0x33be7a['createRangeOn'](_0x2a0a2d),{'commandName':_0x21352e,'commandParams':[]},_0x157bfc,_0x21352e);});});}_0x182b44['descriptionFactory']['registerDescriptionCallback'](_0x4c820=>{if('formatBlock'!=_0x4c820['type']&&'formatInline'!=_0x4c820['type'])return;const {data:_0x25c290}=_0x4c820;return _0x25c290&&'mergeTableCells'==_0x25c290['commandName']?{'type':'format','content':o(_0x432f1c,'*Merge\x20cells*')}:void 0x0;}),_0x182b44['descriptionFactory']['registerDescriptionCallback'](_0x4c5836=>{if('formatBlock'!=_0x4c5836['type']&&'formatInline'!=_0x4c5836['type'])return;const {data:_0x12dae0}=_0x4c5836;return _0x12dae0?'splitTableCellVertically'==_0x12dae0['commandName']?{'type':'format','content':o(_0x432f1c,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x12dae0['commandName']?{'type':'format','content':o(_0x432f1c,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x390797=_0xdfc786['_acceptFormatSuggestionCallbackFactory']();for(const _0x128525 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0x182b44['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x128525,'accept',_0x390797);for(const _0x2359ea of['splitTableCellVertically','splitTableCellHorizontally'])_0x182b44['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x2359ea,'accept',_0x390797);_0x182b44['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x1d2b4f=>{_0x4d705a['model']['change'](_0x120617=>{const _0x226969=Array['from'](_0xecc725['getRanges']())['map'](_0x2e6526=>_0x4b333b['fromRange'](_0x2e6526));_0x120617['setSelection'](_0x1d2b4f),_0x4d705a['commands']['get']('mergeTableCells')['refresh'](),_0x4d705a['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x3dcb30=_0x226969['filter'](_0x1a5b3d=>'$graveyard'!=_0x1a5b3d['root']['rootName']);_0x3dcb30['length']>0x0&&_0x120617['setSelection'](_0x3dcb30);for(const _0x3ddb41 of _0x226969)_0x3ddb41['detach']();});});for(const _0x32ffdf of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0xb62052=_0x4d705a['commands']['get'](_0x32ffdf);_0xb62052['on']('set:isEnabled',(_0x4b434c,_0x2338c5,_0x1d8412)=>{if(_0x1d8412){const _0x2343db=_0x4d705a['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x105f96=>_0x105f96['is']('element','tableCell'));this['_areMergableCells'](_0xb62052['value'],_0x2343db)||(_0x4b434c['return']=!0x1,_0x4b434c['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0xd8f9f8=this['editor']['commands']['get']('mergeTableCells'),_0x439b2c=this['editor']['plugins']['get']('TableUtils');if(!_0xd8f9f8['isEnabled'])return!0x1;const _0x8a86ef=_0x439b2c['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x16e509 of _0x8a86ef)for(const _0x2487fe of _0x8a86ef)if(_0x16e509!=_0x2487fe&&!this['_areMergableCells'](_0x16e509,_0x2487fe))return!0x1;return!0x0;}['_areMergableCells'](_0x113888,_0x10e468){const _0x3a9cbf=this['editor']['plugins']['get']('TrackChangesEditing'),_0x52751d=this['editor']['model']['createRangeOn'](_0x113888),_0x2dc2c8=this['editor']['model']['createRangeOn'](_0x10e468),_0x2b76d1=new Set(),_0x3140e6=new Set();for(const _0x1dfaea of _0x3a9cbf['getSuggestions']())if(('insertion'==_0x1dfaea['type']||'deletion'==_0x1dfaea['type']||'mergeTableCells'==_0x1dfaea['subType'])&&_0x1dfaea['isInContent']){for(const _0x4bfde9 of _0x1dfaea['getRanges']())_0x4bfde9['containsRange'](_0x52751d,!0x0)&&_0x2b76d1['add'](_0x1dfaea['type']+':'+_0x1dfaea['author']['id']),_0x4bfde9['containsRange'](_0x2dc2c8,!0x0)&&_0x3140e6['add'](_0x1dfaea['type']+':'+_0x1dfaea['author']['id']);}if(_0x2b76d1['size']!=_0x3140e6['size'])return!0x1;for(const _0x46b37f of _0x2b76d1)if(!_0x3140e6['has'](_0x46b37f))return!0x1;return!0x0;}}class At extends _0xb043f8{static get['requires'](){return[jt];}['afterInit'](){const _0x1d4dd1=this['editor'];if(!_0x1d4dd1['plugins']['has']('TableEditing'))return;const _0x525c72=_0x1d4dd1['locale'],_0xb2e2b3=_0x1d4dd1['plugins']['get']('TrackChangesEditing');_0xb2e2b3['enableDefaultAttributesIntegration']('setTableRowHeader'),_0xb2e2b3['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0xb2e2b3['registerBlockAttribute']('headingRows'),_0xb2e2b3['registerBlockAttribute']('headingColumns'),_0xb2e2b3['descriptionFactory']['registerAttributeLabel']('headingRows',o(_0x525c72,'FORMAT_HEADER_ROW')),_0xb2e2b3['descriptionFactory']['registerAttributeLabel']('headingColumns',o(_0x525c72,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x316814=this['editor']['plugins']['get']('TrackChangesEditing'),_0x40185b=this['editor']['plugins']['get']('TableUtils'),_0x1003e7=this['editor']['plugins']['get'](jt)['_acceptFormatSuggestionCallbackFactory']();function _0x1e7567({showActiveMarker:_0x31a6fb=!0x0,setDataAttribute:_0x505dc3=!0x0}={}){return(_0x2adf68,_0x251d87,_0x119672)=>{const {type:_0x39a73c,id:_0x4db452}=_0x316814['_splitMarkerName'](_0x251d87['markerName']),_0x23bc1d=_0x316814['getSuggestion'](_0x4db452),_0x208f5f=_0x23bc1d['data'];if('formatBlock'!=_0x23bc1d['type']||!_0x208f5f||'setTableColumnHeader'!=_0x208f5f['commandName'])return;if(_0x251d87['item'])return void _0x2adf68['stop']();if(!_0x119672['consumable']['consume'](_0x251d87['markerRange'],_0x2adf68['name']))return;const _0xbd42db=_0x251d87['markerRange']['start']['nodeAfter'],_0x315874=_0x251d87['markerRange']['end']['nodeBefore'],_0x508296=_0xbd42db['parent']['parent'],{column:_0x1bf273}=_0x40185b['getCellLocation'](_0xbd42db),{column:_0x4e17da}=_0x40185b['getCellLocation'](_0x315874);for(let _0x27209a=_0x1bf273;_0x27209a<=_0x4e17da;_0x27209a++){const _0x65b038=_0x40185b['createTableWalker'](_0x508296,{'column':_0x27209a,'includeAllSlots':!0x1});for(const _0x49d9de of _0x65b038){const _0x17a7c7=_0x49d9de['cell'],_0x220feb=_0x119672['mapper']['toViewElement'](_0x17a7c7);_0x119672['writer']['addClass']('ck-suggestion-marker-'+_0x39a73c,_0x220feb),_0x505dc3&&_0x119672['writer']['setAttribute']('data-suggestion',_0x4db452,_0x220feb),_0x119672['mapper']['bindElementToMarker'](_0x220feb,_0x251d87['markerName']),_0x31a6fb&&(_0x316814['activeMarkers']['includes'](_0x251d87['markerName'])?_0x119672['writer']['addClass']('ck-suggestion-marker--active',_0x220feb):_0x119672['writer']['removeClass']('ck-suggestion-marker--active',_0x220feb));}}};}_0x316814['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x1003e7),_0x316814['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x1003e7),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x1e7567(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x1c966d,_0x1efd8e,_0x42ccc1)=>{_0x42ccc1['options']['showSuggestionHighlights']&&_0x1e7567({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x1c966d,_0x1efd8e,_0x42ccc1);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x2d815e,_0x3c1b22,_0x5366f7)=>{const {type:_0x35a440,id:_0x1e097f}=_0x316814['_splitMarkerName'](_0x3c1b22['markerName']),_0x242d6b=_0x316814['getSuggestion'](_0x1e097f),_0x3e344b=_0x242d6b['data'];if('formatBlock'!=_0x242d6b['type']||!_0x3e344b||'setTableColumnHeader'!=_0x3e344b['commandName'])return;const _0xb301d0=_0x5366f7['mapper']['markerNameToElements'](_0x3c1b22['markerName']);if(_0xb301d0){for(const _0x4aa0a0 of _0xb301d0)_0x5366f7['writer']['removeClass']('ck-suggestion-marker-'+_0x35a440,_0x4aa0a0),_0x5366f7['writer']['removeClass']('ck-suggestion-marker--active',_0x4aa0a0),_0x5366f7['writer']['removeAttribute']('data-suggestion',_0x4aa0a0),_0x5366f7['mapper']['unbindElementFromMarkerName'](_0x4aa0a0,_0x3c1b22['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1b9e52=this['editor'],_0x3b0a81=_0x1b9e52['locale'];function _0x4e8000(_0x57f3df){return{'type':'format','content':o(_0x3b0a81,'*Format:*\x20%0',_0x57f3df)};}_0x1b9e52['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x425703=>{if('formatBlock'!=_0x425703['type'])return;const {data:_0x204880}=_0x425703;if(_0x204880){if('setTableRowHeader'==_0x204880['commandName']){const _0x533d18=_0x204880['commandParams'][0x0]['forceValue'];return _0x4e8000(o(_0x3b0a81,_0x533d18?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x204880['commandName']){const _0x2c1c9e=_0x204880['commandParams'][0x0]['forceValue'];return _0x4e8000(o(_0x3b0a81,_0x2c1c9e?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}const ge=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],Ce=Object['fromEntries'](ge['map'](_0x8d178c=>[_0x8d178c,null]));class It extends _0xb043f8{static get['requires'](){return[jt];}['afterInit'](){const _0x1af179=this['editor'];if(!_0x1af179['plugins']['has']('TableClipboard'))return;const _0x24d515=_0x1af179['plugins']['get']('TrackChangesEditing'),_0x5352ea=_0x1af179['plugins']['get']('TableUtils'),_0x42241d=_0x1af179['plugins']['get'](jt),_0x251549=_0x1af179['plugins']['get']('TableClipboard');_0x42241d['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x1af179['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x1af179['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x4b7ad5=null;_0x1af179['model']['on']('insertContent',(_0x4354d2,_0x9adf6f)=>{const [_0x1de731,_0xab9add]=_0x9adf6f,_0x35e648=_0x9adf6f[_0x9adf6f['length']-0x1];_0x35e648&&_0x35e648['forceDefaultExecution']||_0x24d515['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x2704fb,_0x1998be,_0x259b35,_0x122656,_0x61cdd6){if(_0x1998be&&!_0x1998be['is']('documentSelection'))return!0x1;const _0x9d9e33=_0x61cdd6['getTableIfOnlyTableInContent'](_0x2704fb,_0x259b35);if(!_0x9d9e33||!he(_0x9d9e33,void 0x0,_0x122656))return!0x1;const _0x438e4f=_0x122656['getSelectionAffectedTableCells'](_0x259b35['document']['selection']);if(!_0x438e4f['length'])return!0x1;const _0x155666=_0x438e4f[0x0]['findAncestor']('table'),_0x3493e7=_0x122656['getRowIndexes'](_0x438e4f),_0x3ee0d2=_0x122656['getColumnIndexes'](_0x438e4f),_0x1e1f6e={'startRow':_0x3493e7['first'],'endRow':_0x3493e7['last'],'startColumn':_0x3ee0d2['first'],'endColumn':_0x3ee0d2['last']};return 0x1==_0x438e4f['length']&&(_0x1e1f6e['endRow']+=_0x122656['getRows'](_0x9d9e33)-0x1,_0x1e1f6e['endColumn']+=_0x122656['getColumns'](_0x9d9e33)-0x1),he(_0x155666,_0x1e1f6e,_0x122656);}(_0x1de731,_0xab9add,_0x1af179['model'],_0x5352ea,_0x251549)&&(_0x4354d2['stop'](),_0x4b7ad5={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x1af179['model']['change'](()=>{_0x1af179['model']['insertContent'](_0x9adf6f[0x0],_0x9adf6f[0x1],_0x9adf6f[0x2],{'forceDefaultExecution':!0x0});const _0x35a671=_0x28a03f(),{rowInsertionRanges:_0x10f753,columnInsertionRanges:_0x34b78b,insertionRanges:_0x254627,deletionRanges:_0x2d41a9,cells:_0x4df1fb}=_0x4b7ad5;_0x10f753['length']&&_0x24d515['markMultiRangeInsertion'](_0x10f753,'tablePasteRow',{'tablePasteChainId':_0x35a671}),_0x34b78b['length']&&_0x24d515['markMultiRangeInsertion'](_0x34b78b,'tablePasteColumn',{'tablePasteChainId':_0x35a671}),_0x254627['length']&&(_0x24d515['markMultiRangeInsertion'](_0x254627,'tablePaste',{'tablePasteChainId':_0x35a671,'skipNestingCheck':!0x0}),_0x254627['forEach'](_0x407600=>_0x407600['detach']?.())),_0x2d41a9['length']&&(_0x24d515['markMultiRangeDeletion'](_0x2d41a9,'tablePaste',{'tablePasteChainId':_0x35a671,'skipNestingCheck':!0x0}),_0x2d41a9['forEach'](_0x26ac9e=>_0x26ac9e['detach']?.()));const _0x316ba6=_0x24d515['markMultiRangeBlockFormat'](_0x4df1fb['map'](({element:_0x190221})=>_0x190221),{'formatGroupId':_0x28a03f()},[],'tablePasteCell',{'tablePasteChainId':_0x35a671});if(_0x316ba6){const _0x113144=_0x316ba6['getMarkers'](),_0x420a02=[];for(const {element:_0xb893be,attributes:_0x1d669a}of _0x4df1fb){if(!_0x1d669a)continue;const _0x26606d=_0x1af179['model']['createRangeOn'](_0xb893be),_0x406e42=_0x113144['find'](_0x528027=>_0x528027['getRange']()['isEqual'](_0x26606d));_0x406e42&&_0x420a02['push']([_0x406e42['name'],_0x1d669a]);}_0x420a02['length']&&_0x316ba6['setAttribute']('markerAttributes',Object['fromEntries'](_0x420a02));}_0x4b7ad5=null;}));},{'priority':_0x372317['high']+0xa}),_0x1af179['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x5f442a,_0xd5eae3)=>{const [_0x3e0a59,_0xf592f0,,_0x10d9ef]=_0xd5eae3;if(!_0x4b7ad5)return;_0x5f442a['stop']();const _0xc8c953=_0x3e0a59['cell'],_0x1e7605=_0xf592f0,_0x18f755=Pe(_0xc8c953),_0x1511bc=Pe(_0x1e7605);_0x5f442a['return']=_0xc8c953;let _0x9499bb=null,_0x129211=null;if(_0x1511bc||_0x18f755){if(_0x18f755&&!_0x1511bc){_0x10d9ef['remove'](_0xc8c953['getChild'](0x0));for(const _0x456e16 of Array['from'](_0x1e7605['getChildren']()))_0x10d9ef['insert'](_0x456e16,_0xc8c953,'end');const _0x2c9572=_0x4b7ad5['rowInsertionIndexes']['includes'](_0x3e0a59['row']),_0x4a39e3=_0x4b7ad5['columnInsertionIndexes']['includes'](_0x3e0a59['column']);_0x2c9572||_0x4a39e3||(_0x9499bb=_0x4b333b['fromRange'](_0x10d9ef['createRangeIn'](_0xc8c953)));}else _0x1511bc&&!_0x18f755&&(_0x129211=_0x10d9ef['createRangeIn'](_0xc8c953));}else{const _0x2f1fd1=_0x10d9ef['createElement']('tableCellSuggestion'),_0x305d7b=_0x10d9ef['createElement']('tableCellSuggestion');_0x10d9ef['wrap'](_0x10d9ef['createRangeIn'](_0xc8c953),_0x305d7b),_0x10d9ef['insert'](_0x2f1fd1,_0xc8c953,0x0);for(const _0x525cb4 of Array['from'](_0x1e7605['getChildren']()))_0x10d9ef['insert'](_0x525cb4,_0x2f1fd1,'end');_0x9499bb=_0x4b333b['fromRange'](_0x10d9ef['createRangeOn'](_0x2f1fd1)),_0x129211=_0x4b333b['fromRange'](_0x10d9ef['createRangeOn'](_0x305d7b));}const _0x88a2fd=Array['from'](_0x1e7605['getAttributes']())['filter'](([_0x366bbc])=>ge['includes'](_0x366bbc));_0x4b7ad5['cells']['push']({'element':_0xc8c953,'attributes':_0x88a2fd['length']?Object['fromEntries'](_0x88a2fd):null}),_0x9499bb&&_0x4b7ad5['insertionRanges']['push'](_0x9499bb),_0x129211&&_0x4b7ad5['deletionRanges']['push'](_0x129211);},{'priority':'high'}),_0x5352ea['on']('insertColumns',(_0x292352,_0x241957)=>{const [_0x584b0f,_0x219076={}]=_0x241957;if(!_0x4b7ad5)return;const _0x45283d=_0x219076['at']||0x0,_0x36aa38=_0x219076['columns']||0x1;_0x4b7ad5['columnInsertionIndexes']=new Array(_0x36aa38)['fill'](_0x45283d)['map']((_0x4eefe3,_0x2d4288)=>_0x4eefe3+_0x2d4288);for(const {cell:_0xc86356}of _0x5352ea['createTableWalker'](_0x584b0f,{'startColumn':_0x45283d,'endColumn':_0x45283d+_0x36aa38-0x1}))_0x4b7ad5['columnInsertionRanges']['push'](_0x1af179['model']['createRangeOn'](_0xc86356));},{'priority':'low'}),_0x5352ea['on']('insertRows',(_0x527d9a,_0x1cb853)=>{const [_0xf24cfc,_0x253948={}]=_0x1cb853;if(!_0x4b7ad5)return;const _0x18eb67=_0x253948['at']||0x0,_0x24b5b3=_0x253948['rows']||0x1;_0x4b7ad5['rowInsertionIndexes']=new Array(_0x24b5b3)['fill'](_0x18eb67)['map']((_0x3138e4,_0x18e5d1)=>_0x3138e4+_0x18e5d1);for(const {cell:_0x10007c}of _0x5352ea['createTableWalker'](_0xf24cfc,{'startRow':_0x18eb67,'endRow':_0x18eb67+_0x24b5b3-0x1}))_0x4b7ad5['rowInsertionRanges']['push'](_0x1af179['model']['createRangeOn'](_0x10007c));},{'priority':'low'}),_0x24d515['descriptionFactory']['registerDescriptionCallback'](_0x308273=>{if(_0x308273['subType']&&_0x308273['subType']['startsWith']('tablePaste'))return _0x308273['previous']?{}:{'type':'insertion','content':o(_0x1af179['locale'],'*Replace\x20table\x20cells*')};});const _0x2528df=()=>!0x1;for(const _0x14b24a of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x24d515['_suggestionFactory']['registerCustomCallback']('insertion',_0x14b24a,'join',_0x2528df),_0x24d515['_suggestionFactory']['registerCustomCallback']('deletion',_0x14b24a,'join',_0x2528df),_0x24d515['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x14b24a,'join',_0x2528df);_0x24d515['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x2528df),_0x24d515['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0xbe0bd5,_0x14836b,_0x139fa6)=>{const _0x29fc76=_0xbe0bd5['map'](_0x3ed0bf=>_0x3ed0bf['getContainedElement']())['filter'](_0x517a0b=>_0x517a0b),_0x5734cb=new Map(_0x29fc76['map'](_0x43a0f4=>[_0x43a0f4,null]));if(_0x4b7ad5){for(const {element:_0x4d69df,attributes:_0x528907}of _0x4b7ad5['cells'])_0x528907&&_0x5734cb['set'](_0x4d69df,_0x528907);}else{if(_0x139fa6&&_0x139fa6['markerAttributes'])for(const [_0x7b809c,_0x17bc25]of Object['entries'](_0x139fa6['markerAttributes'])){const _0x4a5094=_0x1af179['model']['markers']['get'](_0x7b809c),_0x42aa45=_0x4a5094?_0x4a5094['getRange']()['getContainedElement']():null;_0x42aa45&&_0x5734cb['set'](_0x42aa45,_0x17bc25);}}_0x1af179['model']['change'](_0x2afa2c=>{for(const [_0xfd3850,_0x297cb3]of _0x5734cb)_0x2afa2c['setAttributes']({...Ce,..._0x297cb3},_0xfd3850);});});const _0x25a8a3=(_0x4c9374,_0x4079fb)=>{_0x24d515['_suggestionFactory']['registerCustomCallback'](_0x4c9374,'tablePaste',_0x4079fb,(_0x54dd67,_0x1d1707,_0x1170b0)=>{_0x1af179['model']['change'](_0x4ecbe8=>{const _0x51cb0c=[];for(const _0xae4757 of _0x54dd67){const _0x11b3a1=_0xae4757['start']['nodeAfter'];_0x11b3a1['is']('element','tableCellSuggestion')&&_0x51cb0c['push'](_0x11b3a1);}_0x24d515['_suggestionFactory']['getSuggestionCallback'](_0x4c9374,null,_0x4079fb)(_0x54dd67,_0x1d1707,_0x1170b0);for(const _0x5630a1 of _0x51cb0c)'$graveyard'!=_0x5630a1['root']['rootName']&&_0x4ecbe8['unwrap'](_0x5630a1);});});};_0x25a8a3('insertion','accept'),_0x25a8a3('insertion','discard'),_0x25a8a3('deletion','accept'),_0x25a8a3('deletion','discard'),_0x24d515['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x2e9796=>{const _0x1ddf58=_0x2e9796['map'](_0x24cb7a=>_0x24cb7a['getContainedElement']()),_0x225e64=_0x1ddf58[0x0]['findAncestor']('table'),{minRow:_0x1f5d04,maxRow:_0x1e75c9}=_0x42241d['_getCoordsForCells'](_0x1ddf58);_0x5352ea['removeRows'](_0x225e64,{'at':_0x1f5d04,'rows':_0x1e75c9-_0x1f5d04+0x1});}),_0x24d515['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x7a233c=>{const _0x4410ad=_0x7a233c['map'](_0x5eb4dc=>_0x5eb4dc['getContainedElement']()),_0x2dd6b6=_0x4410ad[0x0]['findAncestor']('table'),{minColumn:_0x6079e2,maxColumn:_0x28b2c8}=_0x42241d['_getCoordsForCells'](_0x4410ad);_0x5352ea['removeColumns'](_0x2dd6b6,{'at':_0x6079e2,'columns':_0x28b2c8-_0x6079e2+0x1});});const _0x212a01=(_0x44d268,_0x383eff)=>{if(!_0x383eff['subType']||!_0x383eff['subType']['startsWith']('tablePaste'))return;const _0x2c1b53=_0x383eff['attributes']['tablePasteChainId'],_0x49c550=_0x24d515['getSuggestions']()['filter'](_0x4a293b=>_0x4a293b['isInContent']&&_0x4a293b['attributes']&&_0x4a293b['attributes']['tablePasteChainId']==_0x2c1b53);_0x49c550['length']&&_0x383eff['getAllAdjacentSuggestions']()['length']!=_0x49c550['length']&&_0x49c550['reduce']((_0x35242b,_0x38e478)=>(_0x35242b['next']=_0x38e478,_0x38e478['previous']=_0x35242b,_0x38e478));};function _0xcc2e2e(_0x5a490,_0x4baa7f=!0x0){const {id:_0x20e18c}=_0x24d515['_splitMarkerName'](_0x5a490['markerName']),_0x4f7f9a=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x56c366=_0x24d515['activeMarkers']['includes'](_0x5a490['markerName']);return _0x56c366&&_0x4f7f9a['push']('ck-suggestion-marker--active'),{'classes':_0x4f7f9a,'attributes':{'data-suggestion':_0x20e18c},'priority':_0x56c366&&_0x4baa7f?0xbc2:0xbb8};}_0x24d515['on']('suggestionLoaded',_0x212a01,{'priority':'high'}),_0x24d515['on']('suggestionUnloaded',_0x212a01,{'priority':'high'}),_0x1af179['model']['document']['registerPostFixer'](()=>{let _0xc38795=!0x1;const _0x4f91ca=Array['from'](_0x1af179['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x1c29ad,data:_0x217be2}of _0x4f91ca){const {group:_0x4ff52e,type:_0x4673cd,id:_0xa241ae}=_0x24d515['_splitMarkerName'](_0x1c29ad);if('suggestion'!=_0x4ff52e||'deletion'!=_0x4673cd||_0x217be2['oldRange'])continue;if(!_0x24d515['hasSuggestion'](_0xa241ae))continue;const _0x16bd76=_0x24d515['getSuggestion'](_0xa241ae)['getRanges'](),_0xbf129b=_0x1af179['plugins']['get']('Users')['me'];for(const _0x5cee61 of _0x24d515['getSuggestions']()){if(!_0x5cee61['isInContent']||_0x5cee61['author']!=_0xbf129b)continue;if('formatBlock'!=_0x5cee61['type']||'tablePasteCell'!=_0x5cee61['subType'])continue;if(_0x5cee61['getRanges']()['every'](_0x11e89c=>_0x16bd76['some'](_0x294e72=>_0x294e72['containsRange'](_0x11e89c,!0x0)))){for(const _0x19ada3 of _0x5cee61['getAllAdjacentSuggestions']())_0x19ada3['isInContent']&&(_0x19ada3['discard'](),_0xc38795=!0x0);}}}return _0xc38795;}),_0x1af179['model']['document']['registerPostFixer'](_0xa75ff2=>{const _0x3f0bdc=_0x1af179['commands']['get']('redo');if(!_0x3f0bdc||!_0x3f0bdc['_createdBatches']['has'](_0xa75ff2['batch']))return!0x1;let _0x281162=!0x1;const _0x58ddef=_0x1af179['plugins']['get']('Users')['me'],_0x253a06=_0x1af179['model']['document']['differ']['getChanges'](),_0x4a6e3f=Array['from'](_0x1af179['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x220d75,data:_0x36d3d0})=>{const {group:_0x39e99f,subType:_0x4353c7,authorId:_0x28a2bf}=_0x24d515['_splitMarkerName'](_0x220d75);return'suggestion'==_0x39e99f&&'tablePaste'==_0x4353c7&&_0x28a2bf==_0x58ddef['id']&&!_0x36d3d0['oldRange'];});for(const _0x1f11ed of _0x253a06){if('insert'!=_0x1f11ed['type']||'tableCellSuggestion'!=_0x1f11ed['name']||0x1!=_0x1f11ed['length'])continue;const _0x40dd34=_0xa75ff2['createRange'](_0x1f11ed['position'],_0x1f11ed['position']['getShiftedBy'](0x1));if(!_0x4a6e3f['find'](({data:_0x292686})=>_0x292686['newRange']['isEqual'](_0x40dd34))){for(const {name:_0x59649c,data:_0x28a489}of _0x4a6e3f)if(_0x40dd34['containsRange'](_0x28a489['newRange'])){_0xa75ff2['updateMarker'](_0x59649c,{'range':_0x40dd34}),_0x281162=!0x0;break;}}}return _0x281162;}),_0x1af179['model']['document']['registerPostFixer'](_0x3c69bd=>{let _0x58b6df=!0x1;const _0x3226cd=_0x1af179['plugins']['get']('Users')['me'],_0x300cc7=_0x24d515['getSuggestions']()['filter'](_0x53ca99=>_0x53ca99['isInContent']&&_0x53ca99['author']==_0x3226cd),_0x599f25=new Set(),_0xfcf1fe=new Set();for(const _0x267cae of _0x300cc7)if('tablePaste'==_0x267cae['subType'])for(const _0x294b4e of _0x267cae['getMarkers']()){const _0x243a0a=_0x294b4e['getRange']()['getContainedElement']();if(_0x243a0a){if(_0x243a0a['is']('element','tableCellSuggestion')&&Pe(_0x243a0a)){_0x267cae['removeMarker'](_0x294b4e['name']),_0x599f25['add'](_0x243a0a),_0x58b6df=!0x0;const _0x2d453a=_0x243a0a['nextSibling'],_0x4bf972=_0x243a0a['previousSibling'],_0x4f28c8=_0x2d453a&&_0x2d453a['is']('element','tableCellSuggestion'),_0x1eb00e=_0x4bf972&&_0x4bf972['is']('element','tableCellSuggestion');_0x4f28c8&&!_0x599f25['has'](_0x2d453a)&&_0xfcf1fe['add'](_0x2d453a),_0x1eb00e&&!_0x599f25['has'](_0x4bf972)&&_0xfcf1fe['add'](_0x4bf972);}else _0x243a0a['is']('element','paragraph')&&_0x243a0a['isEmpty']&&(_0x267cae['removeMarker'](_0x294b4e['name']),_0x58b6df=!0x0);}}else{if('tablePasteCell'==_0x267cae['subType']){if(!_0x267cae['attributes']||!_0x267cae['attributes']['tablePasteChainId'])continue;const _0x55d39d=_0x267cae['attributes']['markerAttributes'];if(_0x55d39d&&Object['keys'](_0x55d39d)['length'])continue;const _0x525e44=_0x267cae['attributes']['tablePasteChainId'];let _0x4ee4bb=!0x0,_0x51650a=!0x0;for(const _0x17c695 of _0x300cc7)if(_0x17c695['subType']&&_0x17c695['subType']['startsWith']('tablePaste')){if(!_0x17c695['attributes']['tablePasteChainId']){_0x51650a=!0x1;break;}if(_0x17c695['id']!=_0x267cae['id']&&_0x17c695['attributes']['tablePasteChainId']==_0x525e44){_0x4ee4bb=!0x1;break;}}_0x51650a&&_0x4ee4bb&&(_0x267cae['removeMarkers'](),_0x58b6df=!0x0);}}for(const _0x46ddfd of _0x599f25)_0x3c69bd['remove'](_0x46ddfd);for(const _0x59275b of _0xfcf1fe)_0x3c69bd['unwrap'](_0x59275b);return _0x58b6df;}),_0x1af179['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x46f8ce,_0x340eb9)=>_0xcc2e2e(_0x46f8ce),'converterPriority':'high'}),_0x1af179['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x1aeb4e,_0x5ec564)=>_0x5ec564['options']['showSuggestionHighlights']?_0xcc2e2e(_0x1aeb4e,!0x1):null,'converterPriority':'high'});const _0x5a3b1e=_0x1af179['editing']['view'];this['listenTo'](_0x5a3b1e['document'],'clipboardOutput',(_0x13644b,_0x1e4310)=>{const _0x13bf06=[];for(const _0x20101f of _0x5a3b1e['createRangeIn'](_0x1e4310['content'])['getItems']())_0x20101f['is']('element','suggestion-td')&&_0x13bf06['push'](_0x20101f);_0x5a3b1e['change'](_0x34505a=>{for(const _0x1173f6 of _0x13bf06)_0x34505a['move'](_0x34505a['createRangeIn'](_0x1173f6),_0x34505a['createPositionBefore'](_0x1173f6)),_0x34505a['remove'](_0x1173f6);});});}}function Pe(_0x1f66f2){if(_0x1f66f2['isEmpty'])return!0x0;const _0x487bfd=_0x1f66f2['getChild'](0x0);return _0x487bfd['is']('element','paragraph')&&_0x487bfd['isEmpty'];}function he(_0x2d6e64,_0x2d20ef={},_0x56284a){for(const {isAnchor:_0x3bc120,cellHeight:_0x4703cd,cellWidth:_0x33f9df}of _0x56284a['createTableWalker'](_0x2d6e64,{'includeAllSlots':!0x0,..._0x2d20ef}))if(!_0x3bc120||0x1!=_0x4703cd||0x1!=_0x33f9df)return!0x1;return!0x0;}class vt extends _0xb043f8{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x188c82=this['editor']['plugins']['get']('TrackChangesEditing');_0x188c82['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x188c82['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x188c82['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x188c82['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x188c82['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x188c82['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0xa6bcef,_0x35decc){const _0x39be7f=this['editor']['plugins']['get']('TrackChangesEditing'),_0x1b2a75=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x216b71=_0x35decc['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x1dbe5b=_0x1b2a75['getColumnGroupElement'](_0x216b71);let _0x72e4c6=_0x1dbe5b?_0x1b2a75['getTableColumnsWidths'](_0x1dbe5b):null,_0x5aba54=_0x216b71['getAttribute']('tableWidth')||null;const _0x49fb9a=_0x35decc['tableWidth']||_0x5aba54,_0x552abf=_0x35decc['columnWidths']||_0x72e4c6,_0x3667ee=this['editor']['plugins']['get']('Users')['me'];for(const _0x2fdf13 of _0x39be7f['getSuggestions']()){const _0x1f831e=_0x2fdf13['getContainedElement']();if('resizeTable'===_0x2fdf13['subType']&&_0x1f831e===_0x216b71){_0x2fdf13['author']!==_0x3667ee&&_0x2fdf13['discard']();const _0x10db26=_0x2fdf13['data']['commandParams'];_0x5aba54=_0x10db26[0x0]['tableWidth'],_0x72e4c6=_0x10db26[0x0]['columnWidths'];break;}}_0xa6bcef({'table':_0x216b71,'tableWidth':_0x49fb9a,'columnWidths':_0x552abf}),_0x39be7f['markBlockFormat'](_0x216b71,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x5aba54,'columnWidths':_0x72e4c6}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x1ed674){if('formatBlock'!=_0x1ed674['type']&&'formatInline'!=_0x1ed674['type'])return;const {data:_0x159fa0}=_0x1ed674;if(_0x159fa0&&'resizeTable'===_0x159fa0['formatGroupId']){const _0xa3122d='*Format:*\x20resize\x20table';return{'type':'format','content':o(this['editor']['locale'],_0xa3122d)};}}}class Ct extends _0xb043f8{['afterInit'](){const _0x3e9210=this['editor'];_0x3e9210['plugins']['has']('Template')&&_0x3e9210['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class _t extends _0xb043f8{['afterInit'](){const _0x408566=this['editor'];if(!_0x408566['commands']['get']('insertTableOfContents'))return;_0x408566['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x5dd4e2=_0x408566['plugins']['get']('TrackChangesEditing'),_0x4da7b6=_0x408566['locale'];_0x5dd4e2['descriptionFactory']['registerElementLabel']('tableOfContents',_0x2d2341=>o(_0x4da7b6,'ELEMENT_TABLE_OF_CONTENTS',_0x2d2341));}}class Dt extends _0xb043f8{['afterInit'](){const _0xf6ce04=this['editor'];if(!_0xf6ce04['plugins']['has']('Title'))return;const _0x58826e=_0xf6ce04['plugins']['get']('TrackChangesEditing');_0x58826e['descriptionFactory']['registerElementLabel']('title-content',()=>o(_0xf6ce04['locale'],'ELEMENT_TITLE')),_0xf6ce04['model']['document']['registerPostFixer'](_0x369bdf=>{let _0x253654=!0x1;const _0x42f1c7=Array['from'](_0xf6ce04['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5e7893,data:_0x12f01f}of _0x42f1c7){const {group:_0x36d2cf}=_0x58826e['_splitMarkerName'](_0x5e7893);if('suggestion'!==_0x36d2cf||!_0x12f01f['newRange'])continue;const _0x908d64=_0x12f01f['newRange'],_0x3f15d7=_0x908d64['end']['nodeBefore'];if(!_0x3f15d7||!_0x3f15d7['is']('element','title-content'))continue;if(!_0x908d64['start']['isTouching'](_0x908d64['end']))continue;const _0x86b0b7=_0xf6ce04['model']['schema']['getNearestSelectionRange'](_0x908d64['end'],'forward');if(_0x86b0b7&&_0x86b0b7['isCollapsed']){const _0x574827=_0x369bdf['createRange'](_0x908d64['start'],_0x86b0b7['start']);_0x574827['isEqual'](_0x908d64)||(_0x369bdf['updateMarker'](_0x5e7893,{'range':_0x574827}),_0x253654=!0x0);}_0x253654||(_0x369bdf['removeMarker'](_0x5e7893),_0x253654=!0x0);}return _0x253654;});}}class Nt extends _0xb043f8{['afterInit'](){const _0x1c0bc8=this['editor'],_0x3e1bb5=_0x1c0bc8['plugins']['get']('TrackChangesEditing');_0x1c0bc8['plugins']['has']('UndoEditing')&&(_0x3e1bb5['enableCommand']('undo'),_0x3e1bb5['enableCommand']('redo'));}}class Mt extends _0xb043f8{static get['requires'](){return[jt];}['afterInit'](){const _0x13892a=this['editor'];if(!_0x13892a['plugins']['has']('TableCaptionEditing'))return;_0x13892a['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class $t extends _0xb043f8{['tableProperties'];['tableCellProperties'];constructor(_0x5a5a0b){super(_0x5a5a0b),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}['afterInit'](){const _0x464a3c=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x2a7d2c of this['tableProperties'])_0x464a3c['enableCommand'](_0x2a7d2c,(_0x405bc6,_0x3e7308)=>{const _0x5b779e=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x2a7d2c,[_0x5b779e],this['tableProperties'],'tableProperties',_0x405bc6,_0x3e7308);});_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x464a3c['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x538881,_0x5f67bd)=>this['handleDiscardAction'](this['tableProperties'],_0x538881,_0x5f67bd)),_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x1cd523 of this['tableCellProperties'])_0x464a3c['enableCommand'](_0x1cd523,(_0x3fd857,_0x37aa84)=>{const _0x362931=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x1cd523,_0x362931,this['tableCellProperties'],'tableCellProperties',_0x3fd857,_0x37aa84);});_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x464a3c['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x122b6e,_0x434c3b)=>this['handleDiscardAction'](this['tableCellProperties'],_0x122b6e,_0x434c3b)),_0x464a3c['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x464a3c['descriptionFactory']['registerDescriptionCallback'](_0x470da9=>this['handleSuggestionDescription'](_0x470da9));}['_handlePropertyChange'](_0x5f446c,_0x585f47,_0x21576b,_0x275f96,_0x292fda,_0x174a4f){const _0x1e9545=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x174a4f['batch'],()=>{for(const _0x2a2fa4 of _0x585f47){if(this['_getSuggestion'](_0x2a2fa4,_0x275f96))_0x292fda(_0x174a4f);else{const _0x24619b={};for(const _0x4f00f5 of _0x21576b){const _0x4786d5=_0x2a2fa4['getAttribute'](_0x4f00f5);void 0x0!==_0x4786d5&&(_0x24619b[_0x4f00f5]=_0x4786d5);}_0x292fda(_0x174a4f),_0x1e9545['markBlockFormat'](_0x2a2fa4,{'commandParams':[_0x24619b]},[],_0x275f96);}}});}['handleDiscardAction'](_0x33f472,_0x24c315,_0x53c711){const _0x4f7fe7=_0x24c315[0x0]['start']['nodeAfter'],_0x2bc14e=_0x53c711['commandParams'][0x0];this['editor']['model']['change'](_0x250fbc=>{for(const _0x3112f3 of _0x33f472)void 0x0!==_0x2bc14e[_0x3112f3]?_0x250fbc['setAttribute'](_0x3112f3,_0x2bc14e[_0x3112f3],_0x4f7fe7):_0x250fbc['removeAttribute'](_0x3112f3,_0x4f7fe7);});}['handleSuggestionDescription'](_0x5a4d4b){if(_0x5a4d4b['data'])switch(_0x5a4d4b['subType']){case'tableProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x4f90ce,_0x3829a7){const _0x424ebe=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0x4f0ec8 of _0x424ebe['getSuggestions']({'skipNotAttached':!0x0})){const _0x4ebc0e=_0x4f0ec8['getContainedElement']();if(_0x4f0ec8['subType']===_0x3829a7&&_0x4ebc0e===_0x4f90ce)return _0x4f0ec8;}return null;}}const m='$elementName';class p extends _0xb043f8{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;static get['requires'](){return['CommentsRepository',_0x41dc47,_0x3884e7,E,V,U,O,F,G,L,H,q,W,J,Q,X,Y,Z,tt,et,it,nt,st,ot,rt,at,ut,K,lt,ct,z,ue,ft,gt,mt,dt,pt,kt,bt,wt,yt,jt,St,At,Mt,It,vt,_t,$t,Ct,Dt,Nt];}static get['pluginName'](){return'TrackChangesEditing';}constructor(_0xc20111){function _0x111d69(_0x398f88){return _0x398f88['map'](_0xae38c1=>String['fromCharCode'](_0xae38c1))['join']('');}super(_0xc20111),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x454895,_0x500247,_0x2324c7,_0x1d3081)=>{this['_model']['change'](()=>{for(const _0x10ab7c of[..._0x1d3081,..._0x2324c7])this['_model']['markers']['has'](_0x10ab7c)&&_0xc20111['editing']['reconvertMarker'](_0x10ab7c);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new xt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0xc20111['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([m]),this['_inlineAttributeKeys']=new Set(),_0xc20111['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0xc20111['config']['get']('trackChanges.trackFormatChanges'),_0xc20111['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0xc20111['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new M(_0xc20111,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements'](),this[_0x111d69([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0x111d69([0x34,0x30,0x34,0x38,0x31,0x34,0x32,0x32]);}['init'](){const _0x443309=this['editor'],_0x45136f=(_0x477489,_0x3cacc0)=>{if('attribute'!=_0x477489)return'ck-suggestion-marker-'+_0x477489;const _0x5e6ccc=_0x3cacc0['split']('|')[0x0];return this['_isBlockAttribute'](_0x5e6ccc)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x443309['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x302d98=>{const {id:_0x572db9,type:_0x2c429b,subType:_0xd77e66}=this['_splitMarkerName'](_0x302d98['markerName']),_0x4c1ee2=['ck-suggestion-marker',_0x45136f(_0x2c429b,_0xd77e66)];let _0x41d305=0xbb8;return this['activeMarkers']['includes'](_0x302d98['markerName'])&&(_0x4c1ee2['push']('ck-suggestion-marker--active'),_0x41d305=0xbc2),'deletion'==_0x2c429b&&(_0x41d305+=0x5),{'classes':_0x4c1ee2,'attributes':{'data-suggestion':_0x572db9},'priority':_0x41d305};}}),_0x443309['conversion']['for']('dataDowncast')['add'](_0x2f9482=>{_0x2f9482['on']('addMarker:suggestion',(_0x1745a6,_0x389e02,_0x2495d4)=>{if(!_0x2495d4['options']['showSuggestionHighlights'])return;const _0x36dbbf=_0x389e02['item'];if(!_0x36dbbf)return;const _0x3ae187=_0x2495d4['mapper']['toViewElement'](_0x36dbbf);_0x443309['model']['schema']['isObject'](_0x36dbbf)&&_0x3ae187&&!_0x3ae187['getCustomProperty']('widget')&&_0x3ae187['is']('containerElement')&&_0x1d2c9b(_0x3ae187,_0x2495d4['writer']);},{'priority':'high'});}),_0x443309['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x20a463,_0x404b26)=>{if(!_0x404b26['options']['showSuggestionHighlights'])return null;const {type:_0x32a437,subType:_0x1b4e69}=this['_splitMarkerName'](_0x20a463['markerName']);return{'classes':['ck-suggestion-marker',_0x45136f(_0x32a437,_0x1b4e69)],'priority':0xbb8};}});const _0x144b22=({showActiveMarkers:_0x1ff261=!0x0,isAttributeSuggestion:_0x558d16=!0x1}={})=>(_0x49266b,_0x5433d7,_0x57c48f)=>{if(!_0x5433d7['item'])return;const {id:_0x4a12e5}=this['_splitMarkerName'](_0x5433d7['markerName']);if(_0x558d16){const _0x57704b=this['_suggestions']['get'](_0x4a12e5),_0x4dca6b=this['_getAttributeKey'](_0x57704b);if(!this['_isBlockAttribute'](_0x4dca6b))return;}if(_0x5433d7['item']['is']('selection'))return void _0x57c48f['consumable']['consume'](_0x5433d7['item'],_0x49266b['name']);const _0x1bbc4b=_0x57c48f['mapper']['toViewElement'](_0x5433d7['item']);if(_0x5433d7['item']['is']('element')&&_0x443309['model']['schema']['isBlock'](_0x5433d7['item'])&&!_0x1bbc4b['getCustomProperty']('addHighlight')){_0x57c48f['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x1bbc4b),_0x57c48f['writer']['setAttribute']('data-suggestion',_0x4a12e5,_0x1bbc4b),_0x57c48f['mapper']['bindElementToMarker'](_0x1bbc4b,_0x5433d7['markerName']),_0x1ff261&&(this['activeMarkers']['includes'](_0x5433d7['markerName'])?_0x57c48f['writer']['addClass']('ck-suggestion-marker--active',_0x1bbc4b):_0x57c48f['writer']['removeClass']('ck-suggestion-marker--active',_0x1bbc4b));for(const _0x4a762f of _0x443309['model']['createRangeIn'](_0x5433d7['item'])['getItems']())_0x57c48f['consumable']['consume'](_0x4a762f,_0x49266b['name']);_0x57c48f['consumable']['consume'](_0x5433d7['item'],_0x49266b['name']);}};_0x443309['conversion']['for']('dataDowncast')['add'](_0x903e08=>{_0x903e08['on']('addMarker:suggestion:formatBlock',(_0x42acbf,_0x116b98,_0x125ac1)=>{_0x125ac1['options']['showSuggestionHighlights']&&_0x144b22({'showActiveMarkers':!0x1})(_0x42acbf,_0x116b98,_0x125ac1);},{'priority':'highest'});}),_0x443309['conversion']['for']('dataDowncast')['add'](_0xae97a7=>{_0xae97a7['on']('addMarker:suggestion:attribute',(_0x3f61fa,_0x5054eb,_0x3be1fd)=>{_0x3be1fd['options']['showSuggestionHighlights']&&_0x144b22({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x3f61fa,_0x5054eb,_0x3be1fd);},{'priority':'highest'});}),_0x443309['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0x4918cc,_0xfd1cb2)=>_0xfd1cb2['options']['showSuggestionHighlights']?null:{'group':'suggestion','name':_0x4918cc['substr'](0xb)}}),_0x443309['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x1a84ce,{writer:_0x47612f})=>{let _0x3859b3='suggestion:'+_0x1a84ce['getAttribute']('suggestion-type')+':'+_0x1a84ce['getAttribute']('id');return _0x1a84ce['getAttribute']('marker-count')&&(_0x3859b3+=':'+_0x1a84ce['getAttribute']('marker-count')),_0x47612f['createElement']('$marker',{'data-name':_0x3859b3});}}),_0x443309['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x443309['conversion']['for']('editingDowncast')['add'](_0x485a79=>{_0x485a79['on']('addMarker:suggestion:formatBlock',_0x144b22(),{'priority':'high'});}),_0x443309['conversion']['for']('editingDowncast')['add'](_0x475c48=>{_0x475c48['on']('addMarker:suggestion:attribute',_0x144b22({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x443309['conversion']['for']('editingDowncast')['add'](_0x5eb406=>{_0x5eb406['on']('removeMarker:suggestion:formatBlock',(_0x231b72,_0x549283,_0x347e34)=>{const _0x2e1c57=_0x347e34['mapper']['markerNameToElements'](_0x549283['markerName']);if(_0x2e1c57){for(const _0xd5bd8f of _0x2e1c57)_0xd5bd8f['getCustomProperty']('addHighlight')||(_0x347e34['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0xd5bd8f),_0x347e34['writer']['removeAttribute']('data-suggestion',_0xd5bd8f),_0x347e34['mapper']['unbindElementFromMarkerName'](_0xd5bd8f,_0x549283['markerName']));}},{'priority':'high'});}),_0x443309['conversion']['for']('editingDowncast')['add'](_0x46b59e=>{_0x46b59e['on']('removeMarker:suggestion:attribute',(_0x5b0e10,_0x514fe9,_0x18d077)=>{const _0x543722=_0x18d077['mapper']['markerNameToElements'](_0x514fe9['markerName']);if(!_0x543722)return;const {id:_0x22b89c}=this['_splitMarkerName'](_0x514fe9['markerName']),_0x1484df=this['_suggestions']['get'](_0x22b89c),_0x1bbab3=this['_getAttributeKey'](_0x1484df);if(this['_isBlockAttribute'](_0x1bbab3)){for(const _0x5382fc of _0x543722)_0x5382fc['getCustomProperty']('addHighlight')||(_0x18d077['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x5382fc),_0x18d077['writer']['removeAttribute']('data-suggestion',_0x5382fc),_0x18d077['mapper']['unbindElementFromMarkerName'](_0x5382fc,_0x514fe9['markerName']));}},{'priority':'high'});}),_0x443309['model']['document']['registerPostFixer'](_0x2a387b=>{let _0x1c447d=!0x1;const _0x59fad9=Array['from'](_0x443309['model']['document']['differ']['getChangedMarkers']()),_0x144491=new Set();for(const {name:_0x309f3a,data:_0x4b330f}of _0x59fad9){const {group:_0x4f6222,type:_0x19b199,subType:_0xd9459,id:_0xe849a}=this['_splitMarkerName'](_0x309f3a);if('suggestion'!==_0x4f6222)continue;const _0x2b3af5=this['_suggestions']['get'](_0xe849a);if(null!=_0x4b330f['newRange']){'formatInline'==_0x19b199&&(_0x1c447d=_0x1c447d||Et(_0x4b330f['newRange'],_0x309f3a,_0x2a387b,_0x443309['model']['schema']));const _0x186db1='attribute'==_0x19b199&&this['_isBlockAttribute'](_0xd9459['split']('|')[0x0]);if(_0x4b330f['newRange']['isCollapsed']||'$graveyard'==_0x4b330f['newRange']['root']['rootName']||'formatBlock'==_0x19b199&&!Ut(_0x4b330f['newRange'])||_0x186db1&&!Ut(_0x4b330f['newRange'])||'deletion'==_0x19b199&&!(!Tt(_0x25c100=_0x4b330f['newRange'])&&!function(_0x13e739){return _0x13e739['start']['parent']==_0x13e739['end']['nodeBefore']&&_0x13e739['start']['isAtEnd'];}(_0x25c100)))_0x2a387b['removeMarker'](_0x309f3a),_0x1c447d=!0x0;else{if(!_0x2b3af5||!_0x2b3af5['isInContent'])continue;_0x144491['add'](_0x2b3af5);}}}var _0x25c100;return _0x144491['size']>0x0&&(_0x1c447d=!!this['_joinWithAdjacentSuggestions'](_0x144491)||_0x1c447d),_0x1c447d;}),_0x443309['model']['document']['registerPostFixer'](_0x46083d=>{let _0x997e60=!0x1;for(const _0x4928b4 of _0x443309['model']['document']['differ']['getChanges']())if('insert'==_0x4928b4['type'])for(const _0x2c6f7f of this['_suggestions']['values']()){if(_0x2c6f7f['isMultiRange']||!_0x2c6f7f['isInContent'])continue;const _0x510db0='formatBlock'==_0x2c6f7f['type'],_0x4bbb6e=this['_getAttributeKey'](_0x2c6f7f),_0x255823=_0x4bbb6e&&this['_isBlockAttribute'](_0x4bbb6e);if(!_0x510db0&&!_0x255823)continue;const _0x244a45=_0x2c6f7f['getFirstRange']();if(_0x244a45['start']['parent']!=_0x244a45['end']['parent']&&!_0x244a45['end']['isAtEnd']){const _0x5ca34d=_0x443309['model']['createPositionAt'](_0x244a45['start']['nodeAfter'],'end'),_0x389b90=_0x443309['model']['createRange'](_0x244a45['start'],_0x5ca34d);_0x46083d['updateMarker'](_0x2c6f7f['getFirstMarker'](),{'range':_0x389b90}),_0x997e60=!0x0;}}return _0x997e60;}),_0x443309['model']['document']['registerPostFixer'](_0x4b3e1a=>this['_processAttributeChanges'](_0x4b3e1a)),_0x443309['model']['document']['registerPostFixer'](_0x2a9371=>!_0x2a9371['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x2a9371)),_0x443309['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x443309['model']['document']['on']('change:data',(_0x94abae,_0x3e712a)=>{if(!_0x3e712a['isLocal']||_0x3e712a['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x101616=_0x443309['model']['document']['differ']['getChanges']();if(0x0==_0x101616['length'])return;const _0x2fecde=[],_0x3c7608=_0x101616['filter'](_0x311cf8=>'attribute'==_0x311cf8['type']),_0x5aec93=_0x101616['filter'](_0x490acb=>'insert'==_0x490acb['type']&&'$text'!=_0x490acb['name']);for(const _0x21a8cb of _0x3c7608)this['_isRegisteredAttribute'](_0x21a8cb['attributeKey'])&&_0x2fecde['push']({'key':_0x21a8cb['attributeKey'],'newValue':_0x21a8cb['attributeNewValue'],'oldValue':_0x21a8cb['attributeOldValue'],'range':Ot(_0x21a8cb['range'],_0x443309['model'])});for(const _0x3a0ffb of _0x5aec93){if('rename'!=_0x3a0ffb['action']&&'refresh'!=_0x3a0ffb['action'])continue;const _0x1659a0=Gt(_0x3a0ffb['position']['nodeAfter'],_0x443309['model']),_0xb0cbae=_0x3a0ffb['before'];'rename'==_0x3a0ffb['action']&&_0x2fecde['push']({'key':m,'newValue':_0x3a0ffb['name'],'oldValue':_0xb0cbae['name'],'range':_0x1659a0});for(const [_0xd3d70,_0xdea08]of _0xb0cbae['attributes']){if(!this['_isRegisteredAttribute'](_0xd3d70))continue;const _0x137a94=_0x3a0ffb['attributes']['get'](_0xd3d70);_0xdea08!==_0x137a94&&_0x2fecde['push']({'key':_0xd3d70,'newValue':_0x137a94,'oldValue':_0xdea08,'range':_0x1659a0});}for(const [_0x5b72cd,_0xf81168]of _0x3a0ffb['attributes'])this['_isRegisteredAttribute'](_0x5b72cd)&&(_0xb0cbae['attributes']['has'](_0x5b72cd)||_0x2fecde['push']({'key':_0x5b72cd,'newValue':_0xf81168,'oldValue':null,'range':_0x1659a0}));}0x0!=_0x2fecde['length']&&_0x443309['model']['enqueueChange'](_0x3e712a,_0x19e3cb=>{const _0x46ac14=_0x28a03f();for(const {range:_0x184802,key:_0x4b7c84,oldValue:_0x50506c,newValue:_0xa7ae0d}of _0x2fecde)this['markAttributeChange'](_0x184802,_0x4b7c84,_0x50506c,_0xa7ae0d,{'groupId':_0x46ac14});this['_reduceExistingSuggestions'](_0x19e3cb,_0x2fecde);});},{'priority':'lowest'}),_0x443309['model']['markers']['on']('update:suggestion',(_0x504abd,_0x596699,_0x468948)=>{if(null==_0x468948){const {id:_0x32c9da}=this['_splitMarkerName'](_0x596699['name']),_0x11c913=this['_suggestions']['get'](_0x32c9da);_0x11c913&&_0x11c913['addMarkerName'](_0x596699['name']);}}),_0x443309['model']['document']['on']('change:data',()=>{const _0x3eb580=Array['from'](_0x443309['model']['document']['differ']['getChangedMarkers']())['filter'](_0x420bb2=>'suggestion'===this['_splitMarkerName'](_0x420bb2['name'])['group']);if(0x0===_0x3eb580['length'])return;_0x3eb580['sort']((_0x545d1b,_0x389c29)=>{const _0x35fb8b=_0x545d1b['data']['oldRange'],_0x29e207=_0x389c29['data']['oldRange'];return null===_0x35fb8b&&null===_0x29e207?0x0:null===_0x35fb8b&&null!==_0x29e207?-0x1:null!==_0x35fb8b&&null===_0x29e207?0x1:_0x35fb8b['start']['isBefore'](_0x29e207['start'])?-0x1:0x1;});const _0x1818e4=new Set(),_0x529f2f=new Set();for(const {name:_0x48b7de,data:_0x4bf28b}of _0x3eb580){const {id:_0xaa5c58}=this['_splitMarkerName'](_0x48b7de);if(null===_0x4bf28b['oldRange']){const _0x375d58=this['_handleNewSuggestionMarker'](_0x48b7de);_0x529f2f['add'](_0x375d58);}else{const _0x2b7f41=this['_suggestions']['get'](_0xaa5c58);null!==_0x4bf28b['newRange']||_0x2b7f41['isInContent']?(_0x1818e4['add'](_0x2b7f41['head']),_0x529f2f['add'](_0x2b7f41)):this['_removeSuggestion'](_0x2b7f41);}}_0x529f2f['size']>0x0&&this['_refreshSuggestionsChain'](_0x529f2f);for(const _0x5ffa06 of _0x1818e4)this['fire']('suggestionChanged',_0x5ffa06);}),_0x443309['model']['on']('applyOperation',(_0x5a2cec,_0x444161)=>{const _0x4ba877=_0x444161[0x0];if(!this['_suggestions']['size'])return;if(!_0x4ba877['isDocumentOperation'])return;if(_0x4ba877['batch']['isUndo']||!_0x4ba877['batch']['isLocal'])return;let _0x4be28d,_0x53a1cc;switch(_0x4ba877['type']){case'insert':_0x4be28d=_0x443309['model']['createPositionAt'](_0x4ba877['position']),_0x53a1cc=_0x4be28d['getShiftedBy'](_0x4ba877['howMany']);break;case'split':_0x4be28d=_0x443309['model']['createPositionAt'](_0x4ba877['splitPosition']),_0x53a1cc=_0x443309['model']['createPositionAt'](_0x4ba877['moveTargetPosition']);break;case'move':_0x4be28d=_0x443309['model']['createPositionAt'](_0x4ba877['targetPosition']),_0x53a1cc=_0x4be28d['getShiftedBy'](_0x4ba877['howMany']);break;default:return;}const _0x58052a=_0x443309['model']['createRange'](_0x4be28d,_0x53a1cc);_0x443309['model']['change'](()=>{for(const {suggestion:_0x15719d,meta:_0x27c496}of this['_findSuggestions'](_0x58052a)){if(_0x15719d['isMultiRange'])continue;if('formatInline'==_0x15719d['type'])continue;const _0x17574b=this['_getAttributeKey'](_0x15719d);if(_0x17574b&&this['_isBlockAttribute'](_0x17574b)&&'split'!=_0x4ba877['type'])continue;const _0x2f14ca=_0x15719d['data']&&_0x15719d['data']['multipleBlocks'];('formatBlock'!=_0x15719d['type']||'split'==_0x4ba877['type']&&!_0x2f14ca)&&(_0x27c496['containsRangeInObject']||'insertion'==_0x15719d['type']&&_0x27c496['isOwn']||_0x15719d['getFirstRange']()['containsRange'](_0x58052a)&&this['_breakSuggestionMarker'](_0x15719d,_0x4be28d,_0x53a1cc));}});},{'priority':'lowest'}),_0x443309['model']['on']('deleteContent',(_0x34ab38,_0x2f9932)=>{const _0x5876e9=_0x2f9932[0x0],_0x3ab2a8=_0x2f9932[0x1];if(_0x3ab2a8&&_0x3ab2a8['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x5876e9['isCollapsed'])return;const _0x4a94a5=_0x443309['model']['schema'],{start:_0x5e0aac,end:_0x45cd6c}=_0x5876e9['getFirstRange'](),_0x32a4c0=_0x5e0aac['nodeAfter']&&_0x4a94a5['isLimit'](_0x5e0aac['nodeAfter'])?null:_0x4a94a5['getNearestSelectionRange'](_0x5e0aac,'forward'),_0x2c9a89=_0x45cd6c['nodeBefore']&&_0x4a94a5['isLimit'](_0x45cd6c['nodeBefore'])?null:_0x4a94a5['getNearestSelectionRange'](_0x45cd6c,'backward'),_0x11881e=_0x443309['model']['createRange'](_0x32a4c0?_0x32a4c0['start']:_0x5e0aac,_0x2c9a89?_0x2c9a89['end']:_0x45cd6c);_0x443309['model']['change'](_0x57948f=>{this['markDeletion'](_0x11881e);const _0x15af52=_0x443309['model']['schema']['getNearestSelectionRange'](_0x11881e['start']);_0x5876e9['is']('documentSelection')?_0x57948f['setSelection'](_0x15af52):_0x5876e9['setTo'](_0x15af52);}),_0x34ab38['stop']();},{'priority':_0x372317['normal']+0xa}),_0x443309['model']['on']('insertContent',(_0xcd037c,_0x5b70f1)=>{const _0x1e09a7=_0x5b70f1[_0x5b70f1['length']-0x1];_0x1e09a7&&_0x1e09a7['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x443309['model']['change'](()=>{let _0x5ccfff=_0x443309['model']['insertContent'](_0x5b70f1[0x0],_0x5b70f1[0x1],_0x5b70f1[0x2],{'forceDefaultExecution':!0x0});if(!_0x5ccfff)return;_0xcd037c['return']=_0x5ccfff['clone']();const _0x14bcc2=_0x5ccfff['end']['nodeBefore'],_0x1170c3=_0x443309['model']['schema'];_0x14bcc2&&_0x1170c3['isBlock'](_0x14bcc2)&&!_0x1170c3['isObject'](_0x14bcc2)&&(_0x5ccfff=_0x443309['model']['createRange'](_0x5ccfff['start'],_0x443309['model']['createPositionAt'](_0x14bcc2,'end'))),this['markInsertion'](_0x5ccfff);}),_0xcd037c['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x3f761a=new $(_0x443309,this['_suggestions']);_0x443309['commands']['add']('acceptSuggestion',_0x3f761a),this['enableCommand']('acceptSuggestion');const _0x4f4044=new B(_0x443309,this['_suggestions']);_0x443309['commands']['add']('discardSuggestion',_0x4f4044),this['enableCommand']('discardSuggestion'),_0x443309['commands']['add']('acceptAllSuggestions',new x(_0x443309,_0x3f761a,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x443309['commands']['add']('discardAllSuggestions',new x(_0x443309,_0x4f4044,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x443309['commands']['add']('acceptSelectedSuggestions',new R(_0x443309,_0x3f761a,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x443309['commands']['add']('discardSelectedSuggestions',new R(_0x443309,_0x4f4044,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x3b6a1e=_0x443309['plugins']['get']('CommentsRepository');this['listenTo'](_0x3b6a1e,'addComment',(_0x4f3018,{threadId:_0x2161a5})=>{const _0x57a89d=this['_suggestions']['get'](_0x2161a5);_0x57a89d&&_0x57a89d['commentThread']&&0x1===_0x57a89d['commentThread']['length']&&this['_updateSuggestionData'](_0x2161a5,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x3b6a1e,'removeComment',(_0x31ec58,{threadId:_0x3ce80c})=>{const _0x19bfdc=this['_suggestions']['get'](_0x3ce80c);_0x19bfdc&&_0x19bfdc['commentThread']&&!_0x19bfdc['commentThread']['length']&&this['_updateSuggestionData'](_0x3ce80c,{'hasComments':!0x1});},{'priority':'low'});}set['adapter'](_0xed026d){if(this['_adapter'])throw new _0x45589d('track-changes-adapter-already-set',this);this['_adapter']=_0xed026d;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x340c57=!0x1,toJSON:_0x3c4a08=!0x1}={}){const _0x2dbe0f=[];for(const _0x1ee14d of this['_suggestions']['values']())_0x340c57&&!_0x1ee14d['isInContent']||_0x2dbe0f['push'](_0x1ee14d);return _0x3c4a08?_0x2dbe0f['map'](_0x496251=>_0x496251['toJSON']()):_0x2dbe0f;}['getSuggestion'](_0x16beae){const _0xa1e7e8=this['_suggestions']['get'](_0x16beae);if(!_0xa1e7e8)throw new _0x45589d('track-changes-suggestion-not-found',this);return _0xa1e7e8;}['hasSuggestion'](_0x3afede){return this['_suggestions']['has'](_0x3afede);}['addSuggestionData'](_0x3136c3){const {authorId:_0x1df2b1,id:_0x1bcd72,attributes:_0x579c05}=_0x3136c3,[_0x1a10cc,_0x29a832]=_0x3136c3['type']['split'](':'),_0x3ba665=this['_suggestions']['get'](_0x1bcd72)||this['_createSuggestion'](_0x1a10cc,_0x29a832,_0x1bcd72,_0x1df2b1,_0x579c05);if(this['_addThreadToSuggestion'](_0x3ba665),this['_checkSuggestionCorrectness'](_0x3ba665,_0x1a10cc,_0x29a832||null,_0x1df2b1),_0x3ba665['createdAt']=_0x3136c3['createdAt'],_0x3ba665['_isDataLoaded']=!0x0,_0x579c05&&_0x579c05['@external']){const _0x34e031=_0x579c05['@external'],_0x1321e0=this['_getExternalAuthor'](_0x34e031['authorName']);_0x3ba665['authoredAt']=_0x34e031['createdAt'],_0x3ba665['author']=_0x1321e0,_0x3ba665['isExternal']=!0x0;}else _0x3ba665['authoredAt']=_0x3136c3['createdAt'];switch(_0x3136c3['data']&&(_0x3ba665['data']=_0x3136c3['data']),_0x3136c3['attributes']&&(_0x3ba665['attributes']=_0x3136c3['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x3ba665['_saved']=!0x0),this['_suggestionState']['get'](_0x3ba665)){case'notReady':this['_suggestionState']['set'](_0x3ba665,'dataReady');break;case'markerReady':_0x3ba665['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x3ba665])),this['_refreshSuggestionsChain'](new Set([_0x3ba665])),this['_suggestionState']['set'](_0x3ba665,'ready'),this['fire']('suggestionLoaded',_0x3ba665)):this['_suggestionState']['set'](_0x3ba665,'removed');}return _0x3ba665;}['acceptSuggestion'](_0x6aa576){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x2165d5 of _0x6aa576['getAllAdjacentSuggestions']())_0x2165d5['accept']();});});}['discardSuggestion'](_0x3a8e67){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x106474 of _0x3a8e67['getAllAdjacentSuggestions']())_0x106474['discard']();});});}['enableCommand'](_0x41be27,_0x448ea3){const _0x4cee35=this['editor']['commands']['get'](_0x41be27);if(!_0x4cee35)throw new _0x45589d('track-changes-command-not-found',this,{'commandName':_0x41be27});if(this['_enabledCommands']['has'](_0x4cee35))throw new _0x45589d('track-changes-enable-command-twice',this,{'commandName':_0x41be27});this['_enabledCommands']['add'](_0x4cee35),_0x448ea3&&_0x4cee35['on']('execute',(_0x1c9787,_0x70ab35)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0x70ab35['length']>0x0&&_0x70ab35[_0x70ab35['length']-0x1]&&_0x70ab35[_0x70ab35['length']-0x1]['forceDefaultExecution']?_0x70ab35['pop']():(_0x1c9787['return']=_0x448ea3((..._0x43c3fc)=>_0x4cee35['execute'](..._0x43c3fc,{'forceDefaultExecution':!0x0}),..._0x70ab35),_0x1c9787['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x27bba3){let _0xb8e516,_0x5732f4;const _0x240ea5=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0xb8e516=_0x27bba3();}catch(_0x4af79e){_0x5732f4=_0x4af79e;}return _0x240ea5||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x5732f4&&_0x45589d['rethrowUnexpectedError'](_0x5732f4,this),_0xb8e516;}['markInsertion'](_0x170fa0,_0x1fa098=null,_0x50dda2={}){if(_0x170fa0['isCollapsed'])return null;const _0xbb09b8=this['editor']['plugins']['get']('Users')['me'];for(const {suggestion:_0x406af9,meta:_0x159be4}of this['_findSuggestions'](_0x170fa0,'insertion'))if(_0x159be4['isOwn']){if(!_0x159be4['isNextTo']){if(_0x159be4['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!Lt(_0x406af9,_0x50dda2))continue;return _0x406af9;}if(Lt(_0x406af9,_0x50dda2))return _0x406af9;this['_breakSuggestionMarker'](_0x406af9,_0x170fa0['start'],_0x170fa0['end']);break;}if(_0x1fa098==_0x406af9['subType']&&Lt(_0x406af9,_0x50dda2)){const _0x1c2885=_0x406af9['getFirstRange']();return _0x1c2885['start']['isEqual'](_0x170fa0['end'])?this['_setSuggestionRange'](_0x406af9,this['_model']['createRange'](_0x170fa0['start'],_0x1c2885['end'])):this['_setSuggestionRange'](_0x406af9,this['_model']['createRange'](_0x1c2885['start'],_0x170fa0['end'])),_0x406af9;}}const _0x17ecaa=_0x28a03f(),_0x78d648=_0xbb09b8['id'],_0x433fea=_0x1fa098?'insertion:'+_0x1fa098:'insertion',_0x3c1adb=this['_setSuggestionData']({'id':_0x17ecaa,'type':_0x433fea,'createdAt':new Date(),'authorId':_0x78d648,'attributes':_0x50dda2});return this['_addSuggestionMarker'](_0x433fea,_0x17ecaa,_0x78d648,_0x170fa0),_0x3c1adb;}['markMultiRangeInsertion'](_0x460542,_0x5d82c7='multi',_0xcf3108={}){const _0x3f6cce=this['editor']['plugins']['get']('Users')['me'],_0x57bc9f=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x5d82c7,'join');for(const _0x58ebdd of this['getSuggestions']())if(_0x58ebdd['author']['id']==_0x3f6cce['id']&&'insertion'==_0x58ebdd['type']&&_0x58ebdd['subType']==_0x5d82c7&&Lt(_0x58ebdd,_0xcf3108)&&(_0x57bc9f(_0x58ebdd['getRanges'](),_0x460542)||_0x57bc9f(_0x460542,_0x58ebdd['getRanges']()))){for(const _0x5d060d of _0x460542)_0x58ebdd['addRange'](_0x5d060d);return _0x58ebdd;}for(const {suggestion:_0x654293,meta:_0x307b88}of this['_findSuggestions'](_0x460542,'insertion')){if(!_0x307b88['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x307b88['containsRangeInObject'])continue;if(!Lt(_0x654293,_0xcf3108))continue;let _0x132828=!0x0;for(const _0x25f724 of _0x654293['getRanges']())for(const _0x27eece of _0x460542)if(!_0x25f724['containsRange'](_0x27eece)){_0x132828=!0x1;break;}if(_0x132828)return _0x654293;}const _0x4393c8=_0x28a03f(),_0x363264=_0x3f6cce['id'],_0x4a61a1='insertion:'+_0x5d82c7,_0x1a544b=this['_setSuggestionData']({'id':_0x4393c8,'type':_0x4a61a1,'createdAt':new Date(),'authorId':_0x363264,'attributes':_0xcf3108});for(const _0x38d8e2 of _0x460542)this['_addSuggestionMarker'](_0x4a61a1,_0x4393c8,_0x363264,_0x38d8e2,u['getMultiRangeId']());return _0x1a544b;}['markInlineFormat'](_0x5a89d8,_0x4c3318,_0x3f204f=null,_0x2c7fe4={}){if(_0x3f204f=_0x3f204f||Vt(_0x4c3318),_0x5a89d8['isCollapsed'])return null;if('never'===this['_trackFormatChanges']){const _0xcff1cc=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x3f204f,'accept');return this['forceDefaultExecution'](()=>_0xcff1cc([_0x5a89d8],_0x4c3318,_0x2c7fe4)),null;}const _0x2e2502=this['editor']['plugins']['get']('Users')['me'],_0x36798b=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x5f2718,meta:_0x2579bc}of this['_findSuggestions'](_0x5a89d8,'insertion'))_0x2579bc['isOwn']&&!_0x2579bc['isInsideObject']&&_0x36798b['push'](..._0x5f2718['getRanges']());}const _0x4179bf=function(_0x5e8da3,_0xf9c51b){const _0x21830a=[];for(const _0x3f414e of _0xf9c51b){const _0x4c8397=_0x5e8da3['getIntersection'](_0x3f414e);_0x4c8397&&_0x21830a['push'](_0x4c8397);}return _0x21830a;}(_0x5a89d8,_0x36798b),_0x380c5e=function(_0x2a6471,_0x571425){const _0x31cdde=[_0x2a6471];for(const _0x5af932 of _0x571425){let _0x2541dd=0x0;for(;_0x2541dd<_0x31cdde['length'];){const _0x44bcd9=_0x31cdde[_0x2541dd]['getDifference'](_0x5af932);_0x31cdde['splice'](_0x2541dd,0x1,..._0x44bcd9),_0x2541dd+=_0x44bcd9['length'];}}return _0x31cdde;}(_0x5a89d8,_0x36798b);_0x4179bf['length']&&this['_model']['change'](()=>{for(const _0x20be28 of _0x4179bf){const _0x57a724=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x3f204f,'accept');this['forceDefaultExecution'](()=>_0x57a724([_0x20be28],_0x4c3318,_0x2c7fe4));}});for(const _0x119eeb of _0x380c5e){let _0x428ac3=null,_0x28c86b=_0x119eeb['start'],_0x3ac7bb=_0x119eeb['end'];for(const {suggestion:_0x60e4d0,meta:_0x33bd08}of this['_findSuggestions'](_0x119eeb,'formatInline')){if(!_0x33bd08['isOwn'])continue;if(_0x60e4d0['subType']!=_0x3f204f)continue;if(!Lt(_0x60e4d0,_0x2c7fe4))continue;const _0x2bf8f8=_0x60e4d0['getFirstRange']();if(_0x2bf8f8['containsRange'](_0x119eeb,!0x0))return null;_0x28c86b=_0x28c86b['isBefore'](_0x2bf8f8['start'])?_0x28c86b:_0x2bf8f8['start'],_0x3ac7bb=_0x3ac7bb['isAfter'](_0x2bf8f8['end'])?_0x3ac7bb:_0x2bf8f8['end'],_0x428ac3?_0x2bf8f8['start']['isBefore'](_0x428ac3['getFirstRange']()['start'])?(_0x428ac3['removeMarkers'](),_0x428ac3=_0x60e4d0):_0x60e4d0['removeMarkers']():_0x428ac3=_0x60e4d0;}const _0xce0a8=this['_model']['createRange'](_0x28c86b,_0x3ac7bb);if(_0x428ac3)this['_setSuggestionRange'](_0x428ac3,_0xce0a8);else{const _0x31d267=_0x28a03f(),_0xf84e33=_0x2e2502['id'];this['_setSuggestionData']({'id':_0x31d267,'type':'formatInline:'+_0x3f204f,'data':_0x4c3318,'createdAt':new Date(),'authorId':_0xf84e33,'attributes':_0x2c7fe4}),this['_addSuggestionMarker']('formatInline:'+_0x3f204f,_0x31d267,_0xf84e33,_0xce0a8);}}return null;}['markBlockFormat'](_0x44221b,_0x525e39,_0x5a2dc4=[],_0x21822a=null,_0x1bc156={}){_0x525e39['formatGroupId']||(_0x525e39['formatGroupId']=_0x525e39['commandName']),_0x525e39['multipleBlocks']=_0x44221b['is']('range'),_0x21822a=_0x21822a||Vt(_0x525e39);const _0x5d2e3e=_0x5a2dc4['map'](_0x275ed4=>Gt(_0x275ed4,this['_model'])),_0x232ff6=_0x44221b['is']('range')?_0x44221b:Gt(_0x44221b,this['_model']);if('never'===this['_trackFormatChanges']){const _0x332352=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x21822a,'accept');return this['forceDefaultExecution'](()=>_0x332352([_0x232ff6],_0x525e39,_0x1bc156)),null;}_0x5d2e3e['push'](_0x232ff6);let _0x41e41c=!0x0;for(const _0x38d953 of _0x5d2e3e)if(!this['_rangeIsInLocalUserInsertion'](_0x38d953)){_0x41e41c=!0x1;break;}if(_0x41e41c&&'always'!==this['_trackFormatChanges']){const _0x51168f=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x21822a,'accept');return this['forceDefaultExecution'](()=>_0x51168f([_0x232ff6],_0x525e39,_0x1bc156)),null;}let _0x2030fd=null,_0x4293d8=_0x232ff6['start'],_0x29d35d=_0x232ff6['end'];for(const {suggestion:_0x5d9de8,meta:_0x169988}of this['_findSuggestions'](_0x232ff6,'formatBlock')){if(!_0x169988['isOwn'])continue;if(_0x169988['isNextTo']||_0x169988['containsRangeInObject']||_0x169988['isInsideObject'])continue;if(_0x5d9de8['data']['formatGroupId']!=_0x525e39['formatGroupId'])continue;if(!Lt(_0x5d9de8,_0x1bc156))continue;const _0xd9a247=_0x5d9de8['getFirstRange']();if(_0x5d9de8['subType']==_0x21822a){if(_0xd9a247['containsRange'](_0x232ff6,!0x0))return null;_0x4293d8=_0x4293d8['isBefore'](_0xd9a247['start'])?_0x4293d8:_0xd9a247['start'],_0x29d35d=_0x29d35d['isAfter'](_0xd9a247['end'])?_0x29d35d:_0xd9a247['end'],_0x2030fd?_0xd9a247['start']['isBefore'](_0x2030fd['getFirstRange']()['start'])?(_0x2030fd['removeMarkers'](),_0x2030fd=_0x5d9de8):_0x5d9de8['removeMarkers']():_0x2030fd=_0x5d9de8;}else{const _0x207129=_0x232ff6['getIntersection'](_0xd9a247);this['_cutOutSuggestionMarker'](_0x5d9de8,_0x207129);}}const _0x2ff6a4=this['editor']['plugins']['get']('Users')['me'],_0x14d0c5=_0x28a03f(),_0x49462d=_0x2ff6a4['id'];if(_0x2030fd)return this['_setSuggestionRange'](_0x2030fd,this['_model']['createRange'](_0x4293d8,_0x29d35d)),_0x2030fd;{const _0x1a3643=this['_setSuggestionData']({'id':_0x14d0c5,'type':'formatBlock:'+_0x21822a,'data':_0x525e39,'createdAt':new Date(),'authorId':_0x49462d,'attributes':_0x1bc156});return this['_addSuggestionMarker']('formatBlock:'+_0x21822a,_0x14d0c5,_0x49462d,this['_model']['createRange'](_0x4293d8,_0x29d35d)),_0x1a3643;}}['markMultiRangeBlockFormat'](_0x983bbe,_0x54de69,_0x7198fd=[],_0x609f59=null,_0x4d3b72={}){_0x54de69['formatGroupId']||(_0x54de69['formatGroupId']=_0x54de69['commandName']);const _0x957874=_0x983bbe[0x0];_0x54de69['multipleBlocks']=_0x957874['is']('range'),_0x609f59=_0x609f59||Vt(_0x54de69);const _0x2ddb88=_0x7198fd['map'](_0x4a32d7=>Gt(_0x4a32d7,this['_model'])),_0x30731a=_0x957874['is']('range')?_0x983bbe:_0x983bbe['map'](_0x2176d2=>Gt(_0x2176d2,this['_model']));if('never'===this['_trackFormatChanges']){const _0x5575bd=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x609f59,'accept');return this['forceDefaultExecution'](()=>_0x5575bd(_0x30731a,_0x54de69,_0x4d3b72)),null;}_0x2ddb88['push'](..._0x30731a);let _0x50c514=!0x0;for(const _0x14c50a of _0x2ddb88)if(!this['_rangeIsInLocalUserInsertion'](_0x14c50a)){_0x50c514=!0x1;break;}if(_0x50c514&&'always'!==this['_trackFormatChanges']){const _0x302041=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x609f59,'accept');return this['forceDefaultExecution'](()=>_0x302041(_0x30731a,_0x54de69,_0x4d3b72)),null;}const _0x5bf98e=this['editor']['plugins']['get']('Users')['me'];for(const _0x37de10 of this['getSuggestions']()){if(_0x37de10['author']['id']!=_0x5bf98e['id'])continue;if('formatBlock'!=_0x37de10['type']||_0x37de10['data']['formatGroupId']!=_0x54de69['formatGroupId'])continue;if(!Lt(_0x37de10,_0x4d3b72))continue;const _0x5eb9e3=_0x37de10['subType']==_0x609f59;for(let _0x3035e2=0x0;_0x3035e2<_0x30731a['length'];_0x3035e2++){const _0x1d67c9=_0x30731a[_0x3035e2];for(const _0x3071dd of _0x37de10['getMarkers']()){const _0x517016=_0x3071dd['getRange']();if(_0x1d67c9['isEqual'](_0x517016)){_0x5eb9e3?(_0x30731a['splice'](_0x3035e2,0x1),_0x3035e2--):_0x37de10['removeMarker'](_0x3071dd['name']);break;}}}}if(0x0==_0x30731a['length'])return null;const _0x566ae6=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x609f59,'join');for(const _0x5be642 of this['getSuggestions']())if(_0x5be642['author']['id']==_0x5bf98e['id']&&'formatBlock'==_0x5be642['type']&&_0x5be642['data']['formatGroupId']==_0x54de69['formatGroupId']&&_0x5be642['subType']==_0x609f59&&Lt(_0x5be642,_0x4d3b72)&&(_0x566ae6(_0x5be642['getRanges'](),_0x30731a)||_0x566ae6(_0x30731a,_0x5be642['getRanges']()))){for(const _0x15e523 of _0x30731a)_0x5be642['addRange'](_0x15e523);return _0x5be642;}const _0x1bd9a6=_0x28a03f(),_0x3a7f4b=_0x5bf98e['id'],_0x29f04a='formatBlock:'+_0x609f59,_0x169ab4=this['_setSuggestionData']({'id':_0x1bd9a6,'type':_0x29f04a,'data':_0x54de69,'createdAt':new Date(),'authorId':_0x3a7f4b,'attributes':_0x4d3b72});for(const _0x389694 of _0x30731a)this['_addSuggestionMarker'](_0x29f04a,_0x1bd9a6,_0x3a7f4b,_0x389694,u['getMultiRangeId']());return _0x169ab4;}['markDeletion'](_0x4d5b87,_0x549701=null,_0x237b1d={}){if(_0x4d5b87['isCollapsed'])return null;const _0x12dd7f=this['editor']['plugins']['get']('Users')['me'],_0x4a80b2=new _0x4b333b(_0x4d5b87['start'],_0x4d5b87['end']);for(const {suggestion:_0x6eea5a,meta:_0x831b15}of this['_findSuggestions'](_0x4a80b2,'insertion'))if(_0x831b15['isOwn']&&!_0x831b15['isNextTo']){if(_0x6eea5a['isMultiRange']){const _0x36263f=_0x6eea5a['getRanges']()['filter'](_0x16900e=>'$graveyard'!=_0x16900e['root']['rootName']);_0x36263f['every'](_0x3c29e9=>_0x4a80b2['containsRange'](_0x3c29e9,!0x0))&&_0x6eea5a['discard']();if(_0x36263f['some'](_0x5a62f2=>_0x5a62f2['containsRange'](_0x4a80b2,!0x0))){const _0x1b179e=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x549701,'accept');return this['forceDefaultExecution'](()=>_0x1b179e([_0x4a80b2],null,_0x237b1d)),null;}}else{const _0x14ec9c=_0x4a80b2['getIntersection'](_0x6eea5a['getFirstRange']());null!==_0x14ec9c&&_0x6eea5a['_onDiscard']([_0x14ec9c],null,_0x237b1d);}}if(_0x4a80b2['detach'](),_0x4a80b2['isCollapsed']||'$graveyard'==_0x4a80b2['root']['rootName'])return null;let _0x1b5985=null,_0x550ccd=_0x4a80b2['start'],_0x2e08a3=_0x4a80b2['end'];const _0x909b40=this['_findSuggestions'](_0x4a80b2,'deletion');for(const {suggestion:_0x3d3001,meta:_0x43b19e}of _0x909b40){const _0x4cf425=this['_model']['createRange'](_0x550ccd,_0x2e08a3);if(_0x43b19e['isOwn']&&(this['_mergeNestedSuggestions']||!_0x43b19e['containsRangeInObject']&&!_0x43b19e['isInsideObject'])){if(_0x3d3001['isMultiRange']){if(!Lt(_0x3d3001,_0x237b1d))continue;let _0x176791=!0x0;for(const _0x2f58df of _0x3d3001['getRanges']()){if(_0x2f58df['containsRange'](_0x4cf425,!0x0))return _0x3d3001;_0x4cf425['containsRange'](_0x2f58df)||(_0x176791=!0x1);}_0x176791&&_0x3d3001['discard']();}else{const _0x54fb38=_0x3d3001['getFirstRange']();if(_0x54fb38['containsRange'](_0x4cf425,!0x0))return _0x3d3001;if(!Lt(_0x3d3001,_0x237b1d)){_0x4cf425['containsRange'](_0x54fb38)?_0x3d3001['removeMarkers']():_0x54fb38['containsPosition'](_0x550ccd)?_0x550ccd=_0x54fb38['end']:_0x54fb38['containsPosition'](_0x2e08a3)&&(_0x2e08a3=_0x54fb38['start']);continue;}_0x550ccd=_0x550ccd['isBefore'](_0x54fb38['start'])?_0x550ccd:_0x54fb38['start'],_0x2e08a3=_0x2e08a3['isAfter'](_0x54fb38['end'])?_0x2e08a3:_0x54fb38['end'],_0x237b1d=Object['assign']({},_0x3d3001['attributes']),_0x1b5985?_0x54fb38['start']['isBefore'](_0x1b5985['getFirstRange']()['start'])?(_0x1b5985['removeMarkers'](),_0x1b5985=_0x3d3001):_0x3d3001['removeMarkers']():_0x1b5985=_0x3d3001;}}}if(_0x1b5985)return this['_setSuggestionRange'](_0x1b5985,this['_model']['createRange'](_0x550ccd,_0x2e08a3)),_0x1b5985;{const _0x10f377=_0x28a03f(),_0x42292c=this['_model']['createRange'](_0x550ccd,_0x2e08a3),_0x2eaed6=_0x12dd7f['id'],_0x334c86=_0x549701?'deletion:'+_0x549701:'deletion',_0x4b8c31=this['_setSuggestionData']({'id':_0x10f377,'type':_0x334c86,'createdAt':new Date(),'authorId':_0x2eaed6,'attributes':_0x237b1d});return this['_addSuggestionMarker'](_0x334c86,_0x10f377,_0x2eaed6,_0x42292c),_0x4b8c31;}}['markMultiRangeDeletion'](_0x33eea3,_0x5795ba='multi',_0x3d77d3={}){const _0xbcd439=this['editor']['plugins']['get']('Users')['me'],_0x48e406=_0x33eea3['map'](_0x3bcde8=>new _0x4b333b(_0x3bcde8['start'],_0x3bcde8['end'])),_0x3e81fc=new Set();for(const {suggestion:_0x30991d,meta:_0x57b940}of this['_findSuggestions'](_0x48e406,'insertion'))_0x57b940['isOwn']&&!_0x57b940['isNextTo']&&_0x3e81fc['add'](_0x30991d);for(const _0x14048e of _0x3e81fc)if(_0x14048e['isMultiRange']){const _0x5b4238=_0x14048e['getRanges']();(!_0x14048e['attributes']||!_0x14048e['attributes']['skipNestingCheck'])&&(_0x5b4238['every'](_0x44533a=>_0x48e406['some'](_0x4e35=>_0x4e35['containsRange'](_0x44533a,!0x0)))&&_0x14048e['discard']());if(_0x48e406['every'](_0x3891a8=>_0x5b4238['some'](_0x807571=>_0x807571['containsRange'](_0x3891a8,!0x0)))){const _0x2a374f=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x5795ba,'accept');return this['forceDefaultExecution'](()=>_0x2a374f(_0x33eea3,null,_0x3d77d3)),null;}}else{const _0x1460e9=_0x14048e['getFirstRange']();_0x48e406['some'](_0x18d0fd=>_0x18d0fd['containsRange'](_0x1460e9,!0x0))&&_0x14048e['discard']();if(_0x48e406['every'](_0x4fd8e1=>_0x1460e9['containsRange'](_0x4fd8e1,!0x0))){const _0x291fc1=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x5795ba,'accept');return this['forceDefaultExecution'](()=>_0x291fc1(_0x48e406,null,_0x3d77d3)),null;}}const _0x2ede36=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x5795ba,'join');let _0x1126e4=null;for(const _0x78158f of this['getSuggestions']())if(_0x78158f['author']['id']==_0xbcd439['id']&&_0x78158f['isInContent']&&'deletion'==_0x78158f['type']&&_0x78158f['subType']==_0x5795ba&&Lt(_0x78158f,_0x3d77d3)&&(_0x2ede36(_0x78158f['getRanges'](),_0x48e406)||_0x2ede36(_0x48e406,_0x78158f['getRanges']()))){if(_0x1126e4){if(_0x78158f['commentThread']&&_0x78158f['commentThread']['length'])continue;for(const _0x25e893 of _0x78158f['getRanges']())_0x1126e4['isIntersectingWithRange'](_0x25e893)||_0x1126e4['addRange'](_0x25e893);_0x78158f['removeMarkers']();}else{_0x1126e4=_0x78158f;for(const _0x525bec of _0x48e406)_0x78158f['isIntersectingWithRange'](_0x525bec)||_0x78158f['addRange'](_0x525bec);}}if(_0x1126e4)return _0x1126e4;_0x3e81fc['clear']();for(const {suggestion:_0x27b55c,meta:_0x4dce45}of this['_findSuggestions'](_0x48e406,'deletion'))_0x4dce45['isOwn']&&(this['_mergeNestedSuggestions']||!_0x4dce45['containsRangeInObject']&&!_0x4dce45['isInsideObject'])&&Lt(_0x27b55c,_0x3d77d3)&&_0x3e81fc['add'](_0x27b55c);for(const _0x414c4e of _0x3e81fc){const _0x4d2d79=_0x414c4e['getRanges']();if(!_0x3d77d3||!_0x3d77d3['skipNestingCheck']){if(_0x48e406['every'](_0x5c504d=>_0x4d2d79['some'](_0x3154b5=>_0x3154b5['containsRange'](_0x5c504d,!0x0))))return _0x414c4e;}(!_0x414c4e['attributes']||!_0x414c4e['attributes']['skipNestingCheck'])&&(_0x4d2d79['every'](_0x1a62ba=>_0x48e406['some'](_0x583060=>_0x583060['containsRange'](_0x1a62ba,!0x0)))&&_0x414c4e['discard']());}const _0x3cb478=_0x28a03f(),_0x249343=_0xbcd439['id'],_0x5c0abc='deletion:'+_0x5795ba,_0x2899e0=this['_setSuggestionData']({'id':_0x3cb478,'type':_0x5c0abc,'createdAt':new Date(),'authorId':_0x249343,'attributes':_0x3d77d3});for(const _0x254606 of _0x48e406)_0x254606['detach'](),_0x254606['isCollapsed']||'$graveyard'==_0x254606['root']['rootName']||this['_addSuggestionMarker'](_0x5c0abc,_0x3cb478,_0x249343,_0x254606,u['getMultiRangeId']());return _0x2899e0;}['markAttributeChange'](_0x48b676,_0x11b8e1,_0x4a3ab4,_0x341e81,_0x576475){if(_0x48b676['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x2a804c=this['editor']['plugins']['get']('Users')['me']['id'],_0x258e69=Array['from'](this['_suggestions']['values']())['filter'](_0x1de94e=>'attribute'==_0x1de94e['type']&&_0x1de94e['data']['key']==_0x11b8e1&&_0x1de94e['isIntersectingWithRange'](_0x48b676));if('default'===this['_trackFormatChanges']){const _0x33c53c=this['_findSuggestions'](_0x48b676,'insertion')['filter'](({meta:_0x206f76})=>_0x206f76['isOwn']&&!_0x206f76['isInsideObject']&&!_0x206f76['isNextTo'])['map'](({suggestion:_0x6ff6cc})=>_0x6ff6cc);_0x258e69['unshift'](..._0x33c53c);}const _0x54ffad=new Map([[_0x48b676,_0x4a3ab4]]);for(const _0x189109 of _0x258e69){const _0x1f32c0='attribute'==_0x189109['type']?_0x189109['data']['oldValue']:void 0x0,_0x5860bf=_0x189109['getFirstRange'](),_0x10c3b0=Array['from'](_0x54ffad['keys']())['find'](_0x2b94ef=>_0x2b94ef['isIntersecting'](_0x5860bf));if(!_0x10c3b0)continue;const _0x1f53d2=_0x10c3b0['getDifference'](_0x5860bf);this['_isBlockAttribute'](_0x11b8e1)&&'insertion'==_0x189109['type']&&0x0!=_0x1f53d2['length']||(_0x54ffad['delete'](_0x10c3b0),_0x1f53d2['forEach'](_0x15eede=>{_0x54ffad['set'](_0x15eede,_0x4a3ab4);}),'insertion'!=_0x189109['type']&&_0x1f32c0!=_0x341e81&&_0x54ffad['set'](_0x10c3b0['getIntersection'](_0x5860bf),_0x1f32c0));}const _0x1776ba=[];for(const [_0x3c6ee8,_0x1085e0]of _0x54ffad){const _0xdb304a=_0x28a03f(),_0x49c4ae={'key':_0x11b8e1,'oldValue':_0x1085e0,'newValue':_0x341e81};_0x11b8e1['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x11b8e1});const _0x295a52=('attribute:'+(_0x11b8e1+'|'+Vt({'newValue':_0x341e81})))['substring'](0x0,0x3c),_0x5746ec=this['_setSuggestionData']({'id':_0xdb304a,'type':_0x295a52,'data':_0x49c4ae,'createdAt':new Date(),'authorId':_0x2a804c,'attributes':_0x576475});_0x1776ba['push'](_0x5746ec),this['_addSuggestionMarker'](_0x295a52,_0xdb304a,_0x2a804c,_0x3c6ee8);}return _0x1776ba;}['enableDefaultAttributesIntegration'](_0x6bfa9f){this['enableCommand'](_0x6bfa9f,(_0x51f805,..._0x3c9c74)=>{this['_recordAttributeChanges'](()=>{_0x51f805(..._0x3c9c74);});});}['registerBlockAttribute'](_0x4364a8){this['_blockAttributeKeys']['add'](_0x4364a8);}['registerInlineAttribute'](_0x562320){this['_inlineAttributeKeys']['add'](_0x562320);}['_getAttributeKey'](_0x4f4031){return'attribute'==_0x4f4031['type']?_0x4f4031['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x1bbd24,_0x589e8b){const _0x184869=_0x1bbd24['getFirstMarker']();this['_model']['change'](_0x3e1e1f=>{_0x3e1e1f['updateMarker'](_0x184869,{'range':_0x589e8b});});}['_addThreadToSuggestion'](_0x506ce8){const _0x2e4654=_0x506ce8['id'],_0x571711=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x2e4654)||this['_commentsRepository']['addCommentThread']({'channelId':_0x571711,'threadId':_0x2e4654,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x55a7e0=this['_commentsRepository']['getCommentThread'](_0x2e4654);_0x55a7e0['unbind']('isRemovable'),_0x55a7e0['isRemovable']=!0x1,_0x506ce8['commentThread']=_0x55a7e0;}['_checkSuggestionCorrectness'](_0x42269a,_0x2da71c,_0x1c2fe1,_0x42851c){if(_0x42269a['type']!=_0x2da71c||_0x42269a['subType']!=_0x1c2fe1||_0x42269a['creator']['id']!=_0x42851c)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x45589d('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x16a1ac,_0x236fea){const _0x2de7be=_0x16a1ac['getFirstRange']();if(_0x236fea['isEqual'](_0x2de7be))_0x16a1ac['removeMarkers']();else{if(_0x2de7be['containsRange'](_0x236fea)){const _0x1840b9=this['_model']['createPositionAt'](_0x236fea['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x16a1ac,this['_model']['createRange'](_0x2de7be['start'],_0x1840b9));const _0x2bf5a3=_0x28a03f(),_0x2b82e1=_0x16a1ac['creator']['id'],_0x38c889=_0x16a1ac['type']+':'+_0x16a1ac['subType'];this['_setSuggestionData']({'id':_0x2bf5a3,'type':_0x38c889,'createdAt':new Date(),'authorId':_0x2b82e1,'data':_0x16a1ac['data'],'attributes':_0x16a1ac['attributes']});const _0x341aa3=this['_model']['createPositionAt'](_0x236fea['end']['parent'],'after'),_0x5c6120=this['_model']['createRange'](_0x341aa3,_0x2de7be['end']);this['_addSuggestionMarker'](_0x38c889,_0x2bf5a3,_0x2b82e1,_0x5c6120);}else{if(_0x2de7be['containsPosition'](_0x236fea['start'])){const _0x55effe=this['_model']['createPositionAt'](_0x236fea['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x16a1ac,this['_model']['createRange'](_0x2de7be['start'],_0x55effe));}else{const _0x18c722=this['_model']['createPositionAt'](_0x236fea['end']['parent'],'after');this['_setSuggestionRange'](_0x16a1ac,this['_model']['createRange'](_0x18c722,_0x2de7be['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x5c3e06){for(const {suggestion:_0x3c4531,meta:_0x19083d}of this['_findSuggestions'](_0x5c3e06,'insertion')){if(!_0x19083d['isOwn'])continue;const _0x12c324=_0x3c4531['getRanges']();for(const _0x4a2f2d of _0x12c324)if(!_0x5c3e06['getDifference'](_0x4a2f2d)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x5814ca){const _0x373b5b=this['editor']['plugins']['get']('Users')['getUser'](_0x5814ca);if(!_0x373b5b)throw new _0x45589d('track-changes-user-not-found',this);return _0x373b5b;}['_getExternalAuthor'](_0x401bca){const _0x276865=this['editor']['plugins']['get']('Users'),_0x3cc629=_0x363ea6('external:'+_0x401bca),_0x2c6bff=_0x276865['getUser'](_0x3cc629);return _0x2c6bff||_0x276865['addUser']({'id':_0x3cc629,'name':_0x401bca});}['_createSuggestion'](_0x75f761,_0xdd4578,_0x35a5a5,_0x364f51,_0x31ed54){const _0x31979a=this['_getAuthorFromId'](_0x364f51),_0x43ad0c=this['_suggestionFactory']['buildSuggestion'](_0x75f761,_0xdd4578,_0x35a5a5,_0x31979a,_0x31ed54,_0x24fd7c=>{this['_updateSuggestionData'](_0x35a5a5,{'attributes':_0x24fd7c});const _0x346988=this['getSuggestion'](_0x35a5a5);this['_joinWithAdjacentSuggestions'](new Set([_0x346988])),this['_refreshSuggestionsChain'](new Set([_0x346988]));});return this['listenTo'](_0x43ad0c,'accept',()=>{this['_updateSuggestionData'](_0x35a5a5,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x43ad0c,'discard',()=>{this['_updateSuggestionData'](_0x35a5a5,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x35a5a5,_0x43ad0c),this['_suggestionState']['set'](_0x43ad0c,'notReady'),_0x43ad0c;}['_splitMarkerName'](_0x3cc3b4){const _0x2e2e36=_0x3cc3b4['split'](':');return{'group':_0x2e2e36[0x0],'type':_0x2e2e36[0x1],'subType':_0x2e2e36['length']>=0x5?_0x2e2e36[0x2]:null,'id':_0x2e2e36['length']<0x5?_0x2e2e36[0x2]:_0x2e2e36[0x3],'authorId':_0x2e2e36['length']<0x5?_0x2e2e36[0x3]:_0x2e2e36[0x4],'markerCount':0x6==_0x2e2e36['length']?_0x2e2e36[0x5]:null};}['_breakSuggestionMarker'](_0x31f054,_0x5a6808,_0x20ad68){const _0x432ab5=_0x31f054['getFirstRange'](),_0x49eaf4=_0x432ab5['start'],_0x2f83d7=_0x432ab5['end'];this['_setSuggestionRange'](_0x31f054,this['_model']['createRange'](_0x49eaf4,_0x5a6808));const _0x112d8e=_0x28a03f(),_0x1b1ccc=_0x31f054['creator']['id'],_0x524fac=_0x31f054['type']+(_0x31f054['subType']?':'+_0x31f054['subType']:'');this['_setSuggestionData']({'id':_0x112d8e,'type':_0x524fac,'createdAt':new Date(),'authorId':_0x1b1ccc,'originalSuggestionId':_0x31f054['id'],'attributes':_0x31f054['attributes'],'data':_0x31f054['data']});const _0x1e04d7=this['_getAttributeKey'](_0x31f054);('formatBlock'==_0x31f054['type']||_0x1e04d7&&this['_isBlockAttribute'](_0x1e04d7))&&(_0x20ad68=this['_model']['createPositionBefore'](_0x20ad68['parent'])),this['_addSuggestionMarker'](_0x524fac,_0x112d8e,_0x1b1ccc,this['_model']['createRange'](_0x20ad68,_0x2f83d7));}['_findSuggestions'](_0x3ae07d,_0x58a826=null){const _0xcaadac=[],_0x5406d5=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x3ae07d)||(_0x3ae07d=[_0x3ae07d]);for(const _0x5880b9 of this['getSuggestions']()){if(!_0x5880b9['isInContent'])continue;if(_0x58a826&&_0x5880b9['type']!=_0x58a826)continue;let _0x371486=!0x1;for(const _0x129d04 of _0x5880b9['getRanges']()){for(const _0x34934a of _0x3ae07d){const _0x12287b=_0x34934a['start']['isEqual'](_0x129d04['end'])||_0x34934a['end']['isEqual'](_0x129d04['start']);if(_0x12287b||_0x34934a['getIntersection'](_0x129d04)){const _0x3d1a78=_0x34934a['containsRange'](_0x129d04)&&Rt(this['_model']['schema'],_0x129d04['start'],_0x34934a),_0x17898e=_0x129d04['containsRange'](_0x34934a)&&Rt(this['_model']['schema'],_0x34934a['start'],_0x129d04);_0xcaadac['push']({'suggestion':_0x5880b9,'meta':{'isOwn':_0x5406d5==_0x5880b9['author'],'isNextTo':_0x12287b,'isInsideObject':_0x3d1a78,'containsRangeInObject':_0x17898e}}),_0x371486=!0x0;break;}}if(_0x371486)break;}}return _0xcaadac;}['_addSuggestionMarker'](_0x299523,_0x46f8e3,_0x178a8f,_0x261869,_0x10af5f){this['_model']['change'](_0x2bc139=>{let _0x34e76f='suggestion:'+_0x299523+':'+_0x46f8e3+':'+_0x178a8f;_0x10af5f&&(_0x34e76f=_0x34e76f+':'+_0x10af5f),_0x2bc139['addMarker'](_0x34e76f,{'range':_0x261869,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x12296f){const _0x3ced11=_0x12296f['previous'],_0x4fdfa6=_0x12296f['next'];_0x12296f['previous']=null,_0x12296f['next']=null,null!=_0x3ced11&&_0x3ced11['next']==_0x12296f&&(_0x3ced11['next']=_0x4fdfa6),null!=_0x4fdfa6&&_0x4fdfa6['previous']==_0x12296f&&(_0x4fdfa6['previous']=_0x3ced11),'ready'==this['_suggestionState']['get'](_0x12296f)&&(this['_suggestionState']['set'](_0x12296f,'removed'),this['fire']('suggestionUnloaded',_0x12296f,_0x3ced11,_0x4fdfa6));}['_setSuggestionData'](_0x196103){const _0x57668e=_0x196103['id'],_0x12cfce=this['addSuggestionData'](_0x196103);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x3d808d=this['editor']['plugins']['get']('PendingActions'),_0xcdf14c=_0x12cfce['hasComments'],_0x3385a7=_0x12cfce['subType']?_0x12cfce['type']+':'+_0x12cfce['subType']:_0x12cfce['type'],_0x12214b=this['editor']['locale'],_0x202e99=_0x3d808d['add'](o(_0x12214b,'PENDING_ACTION_SUGGESTION')),_0x46a966={'id':_0x57668e,'type':_0x3385a7,'hasComments':_0xcdf14c,'data':_0x196103['data']||null,'originalSuggestionId':_0x196103['originalSuggestionId']||null,'attributes':_0x12cfce['attributes']};this['_adapter']['addSuggestion'](_0x46a966)['then'](_0x18c5a6=>{_0x12cfce['_saved']=!0x0,_0x3d808d['remove'](_0x202e99),_0x18c5a6&&_0x18c5a6['createdAt']&&(this['_suggestions']['get'](_0x57668e)['createdAt']=_0x18c5a6['createdAt']);})['catch'](_0x346c72=>{throw _0x2418e7('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x12cfce['discard']();}),_0x12cfce['stopListening'](),this['_suggestions']['delete'](_0x12cfce['id']),this['_suggestionState']['delete'](_0x12cfce),_0x346c72;});}return _0x12cfce;}['_isBlockAttribute'](_0x1937fb){return this['_blockAttributeKeys']['has'](_0x1937fb);}['_updateSuggestionData'](_0x473ae7,_0x16a713){const _0x308cc0=this['editor']['plugins']['get']('PendingActions'),_0x4603c2=this['getSuggestion'](_0x473ae7);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x4603c2['_saved']){const _0x29ddc1=_0x308cc0['add'](o(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0x473ae7,_0x16a713)['then'](()=>{_0x308cc0['remove'](_0x29ddc1);});}else _0x4603c2['on']('change:_saved',()=>{this['_updateSuggestionData'](_0x473ae7,_0x16a713);});}}['_getSuggestionData'](_0x49b8a6){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x45589d('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x49b8a6);}['_handleNewSuggestionMarker'](_0x3ea6be){const {id:_0x31f4ce,type:_0x445b51,subType:_0x3a23fb,authorId:_0x2b73ad}=this['_splitMarkerName'](_0x3ea6be),_0x1420c7=this['_suggestions']['get'](_0x31f4ce)||this['_createSuggestion'](_0x445b51,_0x3a23fb,_0x31f4ce,_0x2b73ad,{});switch(this['_checkSuggestionCorrectness'](_0x1420c7,_0x445b51,_0x3a23fb,_0x2b73ad),this['_suggestionState']['get'](_0x1420c7)){case'notReady':this['_getSuggestionData'](_0x31f4ce)['then'](_0x416fbf=>{let _0x549e45=Promise['resolve']();_0x416fbf['hasComments']&&(_0x549e45=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x31f4ce})),_0x549e45['then'](()=>{this['addSuggestionData'](_0x416fbf)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x1420c7,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x31f4ce,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x1420c7,'ready'),this['fire']('suggestionLoaded',_0x1420c7);break;case'ready':this['fire']('suggestionChanged',_0x1420c7);}return _0x1420c7['addMarkerName'](_0x3ea6be),_0x1420c7;}['_refreshSuggestionsChain'](_0x13fd43){const _0xb422f3=Array['from'](_0x13fd43),_0x4ced28=_0xb422f3['filter'](_0x101ae1=>'attribute'==_0x101ae1['type']);this['_refreshAttributeSuggestionsChain'](_0x4ced28);const _0x175034=_0xb422f3['filter'](_0x2768e1=>!_0x2768e1['isMultiRange']&&'attribute'!=_0x2768e1['type']),_0x133638=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x2e0c0d=>!_0x2e0c0d['isMultiRange']&&'attribute'!=_0x2e0c0d['type']),_0x126631=_0x133638['filter'](_0x19162a=>!_0x13fd43['has'](_0x19162a)),_0x40f919=new Map(_0x133638['map'](_0x5dedda=>[_0x5dedda,this['_suggestionFactory']['getSuggestionCallback'](_0x5dedda['type'],_0x5dedda['subType'],'chain')])),_0x28be61=new Map(_0x133638['map'](_0x4e51a8=>[_0x4e51a8,_0x4e51a8['getFirstRange']()])),_0x12d314=new Set(),_0x4b4543=new Set();for(let _0xfd3779=0x0;_0xfd3779<_0x175034['length'];_0xfd3779++)_0x3500c8(_0x175034[_0xfd3779],_0x175034,_0xfd3779+0x1);for(let _0x18cc65=0x0;_0x18cc65<_0x175034['length'];_0x18cc65++)_0x3500c8(_0x175034[_0x18cc65],_0x126631,0x0);const _0xca0d16=new Set();for(let _0x43f790=0x0;_0x43f790<_0x175034['length'];_0x43f790++){const _0x2cacf2=_0x175034[_0x43f790];!_0x4b4543['has'](_0x2cacf2)&&_0x2cacf2['previous']&&(_0xca0d16['add'](_0x2cacf2['previous']),_0x2cacf2['previous']['next']===_0x2cacf2&&(_0x2cacf2['previous']['next']=null),_0x2cacf2['previous']=null),!_0x12d314['has'](_0x2cacf2)&&_0x2cacf2['next']&&(_0xca0d16['add'](_0x2cacf2['next']),_0x2cacf2['next']['previous']===_0x2cacf2&&(_0x2cacf2['next']['previous']=null),_0x2cacf2['next']=null);}function _0x3500c8(_0x3b5db0,_0x2e460f,_0x418255){for(let _0x2f8bb8=_0x418255;_0x2f8bb8<_0x2e460f['length'];_0x2f8bb8++){const _0x1e80e9=_0x1e962d(_0x3b5db0,_0x2e460f[_0x2f8bb8]);_0x1e80e9&&(_0x1e80e9[0x0]['next']=_0x1e80e9[0x1],_0x1e80e9[0x1]['previous']=_0x1e80e9[0x0],_0x12d314['add'](_0x1e80e9[0x0]),_0x4b4543['add'](_0x1e80e9[0x1]));}}function _0x1e962d(_0x3e5492,_0x393a15){if(_0x3e5492['author']['id']!==_0x393a15['author']['id'])return null;const _0x5e8c0b=_0x40f919['get'](_0x3e5492)(_0x3e5492,_0x393a15,_0x28be61['get'](_0x3e5492),_0x28be61['get'](_0x393a15));if(!_0x5e8c0b)return null;return _0x40f919['get'](_0x393a15)(_0x3e5492,_0x393a15,_0x28be61['get'](_0x3e5492),_0x28be61['get'](_0x393a15))?_0x5e8c0b[0x1]['commentThread']&&_0x5e8c0b[0x1]['commentThread']['length']?null:_0x5e8c0b:null;}_0xca0d16['size']&&this['_refreshSuggestionsChain'](_0xca0d16);}['_refreshAttributeSuggestionsChain'](_0x17532d){if(0x0==_0x17532d['length'])return;const _0x16cbf7=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x3ddd66=>'attribute'==_0x3ddd66['type']&&_0x3ddd66['_isDataLoaded']),_0x10161f=[],_0x40a5e3=new Map();for(const _0x3c58d0 of _0x16cbf7){const _0xee01e4=_0x363ea6(_0x3c58d0['attributes']);_0x40a5e3['has'](_0xee01e4)||(_0x40a5e3['set'](_0xee01e4,_0x10161f['length']),_0x10161f['push']([]));const _0xcd9742=_0x40a5e3['get'](_0xee01e4);_0x10161f[_0xcd9742]['push'](_0x3c58d0);}!(function(){_0x10161f['sort']((_0x1d409,_0xf07820)=>{const _0x4ce658=_0x1d409[0x0]['createdAt'],_0x55d5e8=_0xf07820[0x0]['createdAt'];return _0x4ce658==_0x55d5e8?_0x1d409[0x0]['attributes']['groupId']<_0xf07820[0x0]['attributes']['groupId']?-0x1:0x1:_0x4ce658<_0x55d5e8?-0x1:0x1;});for(const _0x246b72 of _0x10161f)_0x246b72['sort']((_0x234bae,_0x557646)=>_0x234bae['id']<_0x557646['id']?-0x1:0x1);}());for(let _0x1fa63e=0x0;_0x1fa63e<_0x10161f['length'];_0x1fa63e++){if(0x0==_0x10161f[_0x1fa63e]['length'])continue;const _0x503b69=[];for(let _0x1658c8=_0x1fa63e+0x1;_0x1658c8<_0x10161f['length'];_0x1658c8++)0x0!=_0x10161f[_0x1658c8]['length']&&_0x1b5b3e(_0x10161f[_0x1fa63e],_0x10161f[_0x1658c8])&&_0x503b69['push'](_0x1658c8);for(const _0x212fbb of _0x503b69)_0x10161f[_0x1fa63e]=_0x10161f[_0x1fa63e]['concat'](_0x10161f[_0x212fbb]),_0x10161f[_0x212fbb]=[];}for(const _0x18be73 of _0x10161f)for(let _0x2aa8c7=0x0;_0x2aa8c7<_0x18be73['length'];_0x2aa8c7++)_0x18be73[_0x2aa8c7]['next']=_0x18be73[_0x2aa8c7+0x1]||null;for(const _0x4c7178 of _0x10161f)for(let _0x1e8f99=0x0;_0x1e8f99<_0x4c7178['length'];_0x1e8f99++)_0x4c7178[_0x1e8f99]['previous']=_0x4c7178[_0x1e8f99-0x1]||null;function _0x1b5b3e(_0x295206,_0x1b4b53){if(_0x295206[0x0]['attributes']['groupId']!==_0x1b4b53[0x0]['attributes']['groupId']&&_0x295206[0x0]['author']!==_0x1b4b53[0x0]['author'])return!0x1;if(!function(_0x2f047d,_0x290717){if(!_0x2f047d['hasComments']&&!_0x290717['hasComments'])return!0x0;if(_0x2f047d['hasComments']&&_0x290717['hasComments'])return!0x1;if(_0x2f047d['hasComments']&&_0x290717['createdAt']<_0x2f047d['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x290717['hasComments']&&_0x2f047d['createdAt']<_0x290717['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0x295206[0x0],_0x1b4b53[0x0]))return!0x1;const _0x18f3bf=Bt(_0x295206[0x0]['attributes'],'groupId'),_0x31d82f=Bt(_0x1b4b53[0x0]['attributes'],'groupId');if(!_0x4e6dbd(_0x18f3bf,_0x31d82f))return!0x1;return!!_0x295206['every'](_0x1d9729=>_0x1b4b53['some'](_0x1b6586=>_0x1d9729['getFirstRange']()['isEqual'](_0x1b6586['getFirstRange']())))&&_0x1b4b53['every'](_0x30bd49=>_0x295206['some'](_0x24d9fd=>_0x30bd49['getFirstRange']()['isEqual'](_0x24d9fd['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x161997){const _0x1a156f=Array['from'](_0x161997),_0x9b4930=this['getSuggestions']({'skipNotAttached':!0x0}),_0xb68358=_0x9b4930['filter'](_0x28a6ff=>!_0x161997['has'](_0x28a6ff)),_0x1895e3=new Map(_0x1a156f['map'](_0x536b45=>[_0x536b45,this['_suggestionFactory']['getSuggestionCallback'](_0x536b45['type'],_0x536b45['subType'],'join')])),_0x4fdef0=new Map(_0x9b4930['map'](_0x22e804=>[_0x22e804,_0x22e804['getRanges']()]));for(let _0x8d8710=0x0;_0x8d8710<_0x1a156f['length'];_0x8d8710++){if(_0x4da916(this,_0x1a156f[_0x8d8710],_0x1a156f,_0x8d8710+0x1))return!0x0;}for(let _0x3cd9db=0x0;_0x3cd9db<_0x1a156f['length'];_0x3cd9db++){if(_0x4da916(this,_0x1a156f[_0x3cd9db],_0xb68358,0x0))return!0x0;}return!0x1;function _0x4da916(_0x5e10b2,_0x59e374,_0x2f9d56,_0x5e53fa){for(let _0x32d189=_0x5e53fa;_0x32d189<_0x2f9d56['length'];_0x32d189++){const _0xdee3c9=_0x2f9d56[_0x32d189];if(_0xdee3c9['type']!==_0x59e374['type']||_0xdee3c9['author']['id']!==_0x59e374['author']['id']||_0xdee3c9['subType']!==_0x59e374['subType'])continue;if(!Pt(_0x59e374,_0xdee3c9,['groupId']))continue;if('attribute'==_0x59e374['type']&&_0x59e374['data']['oldValue']!=_0xdee3c9['data']['oldValue'])continue;if('attribute'==_0x59e374['type']&&_0x5e10b2['_isBlockAttribute'](_0x59e374['data']['key']))continue;if('formatBlock'==_0x59e374['type']){const _0x8b6412=_0x5e10b2['editor']['model'],_0x2373be=_0x59e374['getContainedElement']();if(_0x2373be&&(_0x8b6412['schema']['isObject'](_0x2373be)||_0x8b6412['schema']['isLimit'](_0x2373be)))continue;}const _0x148af9=_0x1895e3['get'](_0x59e374),_0x298588=_0x4fdef0['get'](_0x59e374),_0x54e807=_0x4fdef0['get'](_0xdee3c9),_0x558528=_0x59e374['commentThread']&&_0x59e374['commentThread']['length'],_0x5f3081=_0xdee3c9['commentThread']&&_0xdee3c9['commentThread']['length'];if(!_0x558528&&_0x148af9(_0x54e807,_0x298588))return _0x5e10b2['_joinSuggestions'](_0xdee3c9,_0x59e374),_0x4fdef0['delete'](_0x59e374),!0x0;if(!_0x5f3081&&_0x148af9(_0x298588,_0x54e807))return _0x5e10b2['_joinSuggestions'](_0x59e374,_0xdee3c9),_0x4fdef0['delete'](_0xdee3c9),!0x0;}return!0x1;}}['_joinSuggestions'](_0x527e3c,_0x3e058e){if(_0x527e3c['isMultiRange']){for(const _0x4248de of _0x3e058e['getRanges']())_0x527e3c['addRange'](_0x4248de);}else{const _0x231793=_0x3e058e['getFirstRange']()['end'];this['_setSuggestionRange'](_0x527e3c,this['_model']['createRange'](_0x527e3c['getFirstRange']()['start'],_0x231793));}_0x3e058e['removeMarkers']();}['_getMarkerAnnouncementText'](_0x2dbdc5,_0x2d181a){const _0x1d905c=_0x2dbdc5['startsWith']('format')||_0x2dbdc5['startsWith']('attribute')?'FORMATTING':_0x2dbdc5['toUpperCase']();return o(this['editor']['locale'],_0x2d181a+'_'+_0x1d905c+'_SUGGESTION_ANNOUNCEMENT');}['_initAriaMarkerChangeAnnouncements'](){const _0x443356=this['editor'];if(!_0x443356['ui'])return;const {ariaLiveAnnouncer:_0x2620eb}=_0x443356['ui'];_0x47c132(this['_model'],({left:_0x5f2cb7,entered:_0x15afd9})=>{for(const _0x3bbd54 of _0x5f2cb7){const {group:_0xce0aa9,type:_0x2f4b3b}=this['_splitMarkerName'](_0x3bbd54['name']);if('suggestion'===_0xce0aa9){_0x2620eb['announce'](this['_getMarkerAnnouncementText'](_0x2f4b3b,'LEAVE'));break;}}for(const _0x3d5f88 of _0x15afd9){const {group:_0x56a4f2,type:_0x59fd37}=this['_splitMarkerName'](_0x3d5f88['name']);if('suggestion'===_0x56a4f2){_0x2620eb['announce'](this['_getMarkerAnnouncementText'](_0x59fd37,'ENTER'));break;}}});}['_processAttributeChanges'](_0x553c94){if(this['_recordAttributeSuggestions'])return!0x1;const _0x3255ac=this['editor'],_0x19cb7e=_0x3255ac['model']['document']['differ']['getChanges']();if(0x0==_0x19cb7e['length'])return!0x1;const _0x687aba=[],_0x31174f=_0x19cb7e['filter'](_0x5961f1=>'attribute'==_0x5961f1['type']),_0x45e84f=_0x19cb7e['filter'](_0x5eca15=>'insert'==_0x5eca15['type']&&'$text'!=_0x5eca15['name']),_0x250048=_0x19cb7e['filter'](_0x37e7c5=>'remove'==_0x37e7c5['type']&&'$text'!=_0x37e7c5['name']);for(const _0x460a09 of _0x31174f)_0x687aba['push']({'key':_0x460a09['attributeKey'],'newValue':_0x460a09['attributeNewValue'],'oldValue':_0x460a09['attributeOldValue'],'range':Ot(_0x460a09['range'],_0x3255ac['model'])});for(const _0x277dd6 of _0x45e84f){const _0x268326=_0x250048['find'](_0x379cb3=>_0x379cb3['position']['isEqual'](_0x277dd6['position']));_0x268326&&_0x687aba['push']({'key':m,'newValue':_0x277dd6['name'],'oldValue':_0x268326['name'],'range':_0x3255ac['model']['createRangeOn'](_0x277dd6['position']['nodeAfter'])});}return 0x0!=_0x687aba['length']&&this['_reduceExistingSuggestions'](_0x553c94,_0x687aba);}['_processAttributeSuggestions'](_0x480dcb){let _0x55ca93=!0x1;const _0x2bc3d2=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x428a92=>_0x428a92['data']['newRange']&&_0x428a92['name']['startsWith']('suggestion:attribute:'));for(const _0x1ad815 of _0x2bc3d2){const {subType:_0x173061,id:_0x9a1d2f}=this['_splitMarkerName'](_0x1ad815['name']),_0x59c3b4=_0x173061['split']('|')[0x0];for(const _0x56b4ca of this['getSuggestions']({'skipNotAttached':!0x0}))_0x56b4ca['id']!=_0x9a1d2f&&'attribute'==_0x56b4ca['type']&&_0x56b4ca['data']&&_0x56b4ca['data']['key']==_0x59c3b4&&_0x56b4ca['getFirstRange']()['isIntersecting'](_0x1ad815['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x56b4ca,_0x1ad815['data']['newRange'],_0x480dcb),_0x55ca93=!0x0);}return _0x55ca93;}['_recordAttributeChanges'](_0x4a2c42){this['editor'],this['_recordAttributeSuggestions']=!0x0,_0x4a2c42();}['_isRegisteredAttribute'](_0x38ca16){const _0x59ee7e=this['_isBlockAttribute'](_0x38ca16),_0x47f582=this['_inlineAttributeKeys']['has'](_0x38ca16);return _0x59ee7e||_0x47f582;}['_reduceExistingSuggestions'](_0xb44335,_0x2d945c){if(0x0==_0x2d945c['length'])return!0x1;let _0x46e5ee=!0x1;for(const _0x41b500 of _0x2d945c){const _0x5480e9=this['_findSuggestions'](_0x41b500['range'],'attribute')['filter'](_0x480ff8=>!_0x480ff8['meta']['isNextTo'])['map'](_0x43890b=>_0x43890b['suggestion']),_0x2b1bc3=_0x363ea6({'newValue':_0x41b500['newValue']});_0x5480e9['filter'](_0x4a4053=>{const [_0x2f4b2f,_0x2e82b0]=_0x4a4053['subType']['split']('|');return _0x2f4b2f==_0x41b500['key']&&_0x2e82b0!=_0x2b1bc3;})['forEach'](_0x44d31c=>{this['_reduceSuggestionAttributeRange'](_0x44d31c,_0x41b500['range'],_0xb44335),_0x46e5ee=!0x0;});}return _0x46e5ee;}['_reduceSuggestionAttributeRange'](_0x5248d5,_0x1ad82d,_0x23f0da){const _0x460d2b=_0x5248d5['getFirstRange']()['getDifference'](_0x1ad82d);0x0!==_0x460d2b['length']?0x1!==_0x460d2b['length']?this['_breakSuggestionMarker'](_0x5248d5,_0x1ad82d['start'],_0x1ad82d['end']):this['_setSuggestionRange'](_0x5248d5,_0x460d2b[0x0]):_0x23f0da['removeMarker'](_0x5248d5['getFirstMarker']());}}class xt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x346f4c){this['_editor']=_0x346f4c,this['_model']=_0x346f4c['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0x361f7e,_0xd17f27,_0x28ef8e,_0x3add2c,_0x3262b8,_0x2aa315){return new u(this['_model'],{'type':_0x361f7e,'subType':_0xd17f27,'id':_0x28ef8e,'author':_0x3add2c,'creator':_0x3add2c,'attributes':_0x3262b8,'onAttributesChange':_0x2aa315,'onAccept':(..._0x34b738)=>this['getSuggestionCallback'](_0x361f7e,_0xd17f27,'accept')(..._0x34b738),'onDiscard':(..._0x219e04)=>this['getSuggestionCallback'](_0x361f7e,_0xd17f27,'discard')(..._0x219e04)});}['registerCustomCallback'](_0x556e56,_0x25161c,_0xa21e6d,_0x1ec68d){const _0x58a051=_0x556e56+':'+_0x25161c+':'+_0xa21e6d;this['_customCallbacks']['set'](_0x58a051,_0x1ec68d);}['getSuggestionCallback'](_0x6c5ebd,_0x12eb9a,_0x4c0381){const _0x48a722=_0x6c5ebd+':'+_0x12eb9a+':'+_0x4c0381;return this['_customCallbacks']['get'](_0x48a722)||this['_defaultCallbacks']['get'](_0x6c5ebd+':'+_0x4c0381);}['_registerDefaultCallbacks'](){const _0x1cd203=()=>!0x1,_0x4e1faa=_0x1264c8=>{_0x1264c8['sort']((_0x36231f,_0x2ab3db)=>_0x36231f['start']['isBefore'](_0x2ab3db['start'])?0x1:-0x1),this['_model']['change'](_0x35ff96=>{for(const _0x14039b of _0x1264c8){let _0x59253b;_0x59253b=_0x14039b['end']['isAtEnd']&&_0x14039b['end']['parent']==_0x14039b['start']['nodeAfter']?_0x35ff96['createSelection'](_0x14039b['start']['nodeAfter'],'on'):_0x35ff96['createSelection'](_0x14039b),this['_model']['deleteContent'](_0x59253b,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x4a5c50=(_0x2efbbf,_0x5dac6f)=>{_0x5dac6f&&this['_model']['change'](_0x1a3a57=>{const {commandName:_0x31b1ca,commandParams:_0x39a269=[]}=_0x5dac6f,_0x1355ba=_0x2efbbf['map'](_0x29b3cf=>(Tt(_0x29b3cf)&&(_0x29b3cf=this['_model']['createRange'](_0x29b3cf['end'])),_0x29b3cf))['filter'](_0x46a335=>'$graveyard'!==_0x46a335['root']['rootName']);if(_0x1355ba['length']<0x1)return;const _0x2a31f5=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x1f5015=>_0x4b333b['fromRange'](_0x1f5015));_0x1a3a57['setSelection'](_0x1355ba);for(const _0x2a2c0e of this['_editor']['commands']['commands']())_0x2a2c0e['refresh']();_0x39a269['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x31b1ca,..._0x39a269);const _0x5225df=_0x2a31f5['filter'](_0x3bf7e5=>'$graveyard'!=_0x3bf7e5['root']['rootName']);_0x5225df['length']>0x0&&_0x1a3a57['setSelection'](_0x5225df);for(const _0x30e230 of _0x2a31f5)_0x30e230['detach']();});},_0x47f991=(_0x3bdc56,_0x2c7039)=>0x1==_0x3bdc56['length']&&0x1==_0x2c7039['length']&&_0x3bdc56[0x0]['end']['isEqual'](_0x2c7039[0x0]['start']),_0x17f272=(_0x5307da,_0x512f03,_0x454a3a,_0x4e14b6)=>Ft(_0x5307da,_0x512f03,_0x454a3a,_0x4e14b6,this['_model'])?[_0x5307da,_0x512f03]:Ft(_0x512f03,_0x5307da,_0x4e14b6,_0x454a3a,this['_model'])?[_0x512f03,_0x5307da]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x1cd203),this['_defaultCallbacks']['set']('insertion:discard',_0x4e1faa),this['_defaultCallbacks']['set']('insertion:join',_0x47f991),this['_defaultCallbacks']['set']('insertion:chain',_0x17f272),this['_defaultCallbacks']['set']('deletion:accept',_0x4e1faa),this['_defaultCallbacks']['set']('deletion:discard',_0x1cd203),this['_defaultCallbacks']['set']('deletion:join',_0x47f991),this['_defaultCallbacks']['set']('deletion:chain',_0x17f272),this['_defaultCallbacks']['set']('formatInline:accept',_0x4a5c50),this['_defaultCallbacks']['set']('formatInline:discard',_0x1cd203),this['_defaultCallbacks']['set']('formatInline:join',_0x47f991),this['_defaultCallbacks']['set']('formatInline:chain',_0x1cd203),this['_defaultCallbacks']['set']('formatBlock:accept',_0x4a5c50),this['_defaultCallbacks']['set']('formatBlock:discard',_0x1cd203),this['_defaultCallbacks']['set']('formatBlock:join',_0x47f991),this['_defaultCallbacks']['set']('formatBlock:chain',_0x1cd203),this['_defaultCallbacks']['set']('attribute:accept',_0x1cd203),this['_defaultCallbacks']['set']('attribute:discard',(_0x1c5146,_0x9461f5)=>{if(!_0x9461f5)return;const _0x392439=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x4d8584=>{if(_0x9461f5['key']==m)for(const _0x4ed570 of _0x1c5146){const _0xe4b3fe=_0x4ed570['start']['nodeAfter'],_0x3e3baf=_0x9461f5['oldValue'];_0x4d8584['rename'](_0xe4b3fe,_0x3e3baf);}else{if(_0x392439['_isBlockAttribute'](_0x9461f5['key'])){for(const _0x554d25 of _0x1c5146)void 0x0!==_0x9461f5['oldValue']?_0x4d8584['setAttribute'](_0x9461f5['key'],_0x9461f5['oldValue'],_0x554d25['start']['nodeAfter']):_0x4d8584['removeAttribute'](_0x9461f5['key'],_0x554d25['start']['nodeAfter']);}else{for(const _0x45fa46 of _0x1c5146)_0x9461f5['oldValue']?_0x4d8584['setAttribute'](_0x9461f5['key'],_0x9461f5['oldValue'],_0x45fa46):_0x4d8584['removeAttribute'](_0x9461f5['key'],_0x45fa46);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x47f991);}}function Rt(_0x17b99a,_0x236d54,_0x197d8e){for(const _0x13a113 of _0x236d54['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x13a113['root']==_0x13a113)return!0x1;if(!_0x197d8e['containsItem'](_0x13a113))return!0x1;if(_0x17b99a['isObject'](_0x13a113)||_0x17b99a['isLimit'](_0x13a113))return!0x0;}return!0x1;}function Tt(_0x93a89b){return _0x93a89b['end']['parent']==_0x93a89b['start']['nodeAfter']&&_0x93a89b['end']['isAtStart'];}function Et(_0x1d6056,_0xb8bf67,_0x32f087,_0x274f82){const _0x4a0802=_0x2d8e13=>!_0x2d8e13['item']['is']('$textProxy')&&!_0x274f82['isObject'](_0x2d8e13['item']),_0x4aeca6=_0x1d6056['start']['getLastMatchingPosition'](_0x4a0802),_0x59de0c=_0x1d6056['end']['getLastMatchingPosition'](_0x4a0802,{'direction':'backward'});return(!_0x1d6056['start']['isEqual'](_0x4aeca6)||!_0x1d6056['end']['isEqual'](_0x59de0c))&&(_0x4aeca6['isBefore'](_0x59de0c)?_0x32f087['updateMarker'](_0xb8bf67,{'range':_0x32f087['createRange'](_0x4aeca6,_0x59de0c)}):_0x32f087['removeMarker'](_0xb8bf67),!0x0);}function Vt(_0x3de546){return _0x363ea6(_0x3de546);}function Ut(_0x51bff4){const _0x52d29e=_0x51bff4['start']['nodeAfter'];return _0x52d29e&&_0x52d29e['is']('element');}function Ot(_0x533002,_0x5e2e62){return null==_0x533002['end']['nodeBefore']&&_0x533002['end']['parent']==_0x533002['start']['nodeAfter']?Gt(_0x533002['start']['nodeAfter'],_0x5e2e62):_0x533002;}function Gt(_0x5e3ee1,_0x127ac0){const _0x1a74db=_0x127ac0['schema']['isObject'](_0x5e3ee1)||_0x127ac0['schema']['isSelectable'](_0x5e3ee1);return _0x127ac0['createRange'](_0x127ac0['createPositionAt'](_0x5e3ee1,'before'),_0x1a74db?_0x127ac0['createPositionAfter'](_0x5e3ee1):_0x127ac0['createPositionAt'](_0x5e3ee1,'end'));}function Ft(_0x3a7932,_0x4e179f,_0x5a1981,_0x2e356e,_0x1622d2){if(!Pt(_0x3a7932,_0x4e179f))return!0x1;if(_0x5a1981['end']['isEqual'](_0x2e356e['start']))return!0x0;if(_0x3a7932['type']!=_0x4e179f['type'])return!0x1;if(!_0x5a1981['end']['isTouching'](_0x2e356e['start']))return!0x1;const _0xc4111e=_0x1622d2['createRange'](_0x5a1981['end'],_0x2e356e['start'])['getWalker']();for(const _0x121647 of _0xc4111e)if(['elementStart','elementEnd']['includes'](_0x121647['type'])&&_0x1622d2['schema']['isLimit'](_0x121647['item']))return!0x1;return!0x0;}function Pt(_0x2f79ef,_0x1840db,_0x42baf7=[]){return!(!_0x2f79ef['_isDataLoaded']||!_0x1840db['_isDataLoaded'])&&_0x4e6dbd(Bt(_0x2f79ef['attributes'],_0x42baf7),Bt(_0x1840db['attributes'],_0x42baf7));}function Lt(_0x30f4a9,_0x2a1281){const _0xd9e1cc=Ht(_0x30f4a9['attributes']),_0x1cbac2=Ht(_0x2a1281);if(!_0x30f4a9['_isDataLoaded'])return!0x1;for(const _0x41944a of Object['keys'](_0x1cbac2))if(!_0x4e6dbd(_0xd9e1cc[_0x41944a],_0x1cbac2[_0x41944a]))return!0x1;return!0x0;}function Ht(_0x4c5f1b){const _0x37022a=Object['assign']({},_0x4c5f1b);return delete _0x37022a['skipNestingCheck'],delete _0x37022a['tablePasteChainId'],_0x37022a;}class oe extends/* #__PURE__ -- @preserve */
_0x25052f(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x5d8f43,_0x4db285,_0x1306e2,_0x9cebda){super(),this['model']=_0x4db285,this['view']=_0x1306e2,this['commentThreadController']=_0x9cebda,this['_editor']=_0x5d8f43,this['_acceptCommand']=_0x5d8f43['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x5d8f43['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x44eacb,_0x57dd6a)=>_0x44eacb||_0x57dd6a),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x40ba29=>_0x40ba29&&this['_editor']['model']['canEditAt'](_0x4db285['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x5861b0=>_0x5861b0&&this['_editor']['model']['canEditAt'](_0x4db285['getRanges']())),this['_pendingAction']=null,_0x1306e2['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x1306e2,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x1306e2,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x1306e2,'change:isDirty',()=>{_0x1306e2['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x38a2da=o(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x38a2da);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class es extends _0x53ccf7{['commentsListView'];['commentThreadInputView'];['_model'];['_localUser'];['_config'];constructor(_0x8950af,_0x282896,_0x182a47,_0x29fd43){super(_0x8950af),this['commentsListView']=null,this['commentThreadInputView']=null,this['set']('isActive',!0x1),this['set']('authoredAt',_0x282896['authoredAt']),this['bind']('authoredAt')['to'](_0x282896),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['_model']=_0x282896,this['_localUser']=_0x182a47,this['_config']=_0x29fd43,_0x29fd43['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x4d224b}=this['_config'];this['commentsListView']=new _0x4d224b(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x2dd50b=>_0x2dd50b+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0xce81cf,_0xeb9742)=>_0xce81cf||!!_0xeb9742);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x378f60}=this['_config'],_0x1dbd0c=new _0x378f60(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x359806=_0x1dbd0c['commentInputView'];return _0x1dbd0c['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x359806,'value',(_0x5e7013,_0x2ac230,_0x35aabb)=>!!_0x35aabb||_0x5e7013&&!_0x2ac230),_0x359806['on']('submit',(_0x6e824e,_0x2baca8)=>{this['fire']('addComment',_0x2baca8),_0x359806['editor']['setData']('');}),_0x359806['on']('cancel',()=>this['focus']()),_0x359806['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x1dbd0c;}}class ne extends es{['userView'];['acceptButton'];['discardButton'];['_descriptionElement'];constructor(_0x40e987,_0x5b2e79,_0x170f87,_0x2d2f82){super(_0x40e987,_0x5b2e79,_0x170f87,_0x2d2f82),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x197da1=>_0x197da1&&_0x197da1[0x0]?_0x197da1[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x171b82,_0x157c73)=>{let _0xc74b94='';for(const _0x5e2859 of _0x171b82)_0xc74b94+='<p>'+ds(_0x5e2859['content'],_0x5e2859['color'])+'</p>';return _0x157c73?_0xc74b94:_0x1b0cb7(_0xc74b94,{'limit':0x8c});}),this['_descriptionElement']=null,this['acceptButton']=this['_createButton'](o(_0x40e987,'Accept\x20suggestion'),_0x3b06df['check'],'ck-suggestion--accept','acceptSuggestion','sw'),this['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['discardButton']=this['_createButton'](o(_0x40e987,'Discard\x20suggestion'),_0x3b06df['cancel'],'ck-suggestion--discard','discardSuggestion','sw'),this['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['userView']=new _0x4bbdec(_0x40e987,this['_model']['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x135b53=this['bindTemplate'],_0x45c517=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x135b53['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x135b53['to']('authoredAt',_0x5e3be1=>this['_config']['formatDateTime'](_0x5e3be1))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];this['_model']['isExternal']&&_0x45c517['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]});const _0x1895ff={'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x135b53['if']('isActive','ck-suggestion-wrapper--active'),_0x135b53['to']('type',_0x14dbb4=>'ck-suggestion-'+_0x14dbb4),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':_0x45c517}]}]};return this['commentsListView']&&this['commentThreadInputView']&&(_0x1895ff['children']['push'](this['commentsListView'],this['commentThreadInputView']),this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this),this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this)),_0x1895ff;}['render'](){super['render'](),this['_descriptionElement']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['_descriptionElement']['innerHTML']=this['description'],this['on']('change:description',(_0xb1ba22,_0x428705,_0x15100e)=>{this['_descriptionElement']['innerHTML']=_0x15100e;});}['_createButton'](_0x40c02f,_0x5d4d25,_0x3cb5b2,_0x4decd5,_0x2a1a5e){const _0x233859=new _0x422088(this['locale']);return _0x233859['set']({'label':_0x40c02f,'icon':_0x5d4d25,'tooltip':!0x0,'tooltipPosition':_0x2a1a5e}),_0x233859['extendTemplate']({'attributes':{'class':_0x3cb5b2}}),_0x233859['on']('execute',()=>{this['fire'](_0x4decd5,this['_model']['id']);}),_0x233859;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):o(this['locale'],'EXTERNAL_SUGGESTION');}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):o(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}}function ds(_0x52c017,_0x393ed4){let _0xd7a926='';return _0xd7a926+=_0x52c017['split']('*')['map']((_0x11811c,_0x3fea09)=>_0x3fea09%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+us(_0x11811c)+'</span>':us(_0x11811c))['join'](''),_0x393ed4&&(_0xd7a926+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x393ed4['value']+'\x22\x20title=\x22'+_0x393ed4['title']+'\x22></span>'),_0xd7a926;}function us(_0xf938a6){const _0x14f806=document['createElement']('span');return _0x14f806['innerText']=_0xf938a6,_0x14f806['innerHTML'];}var ie='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20width=\x2220\x22\x20height=\x2220\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><g\x20fill=\x22#000\x22\x20fill-rule=\x22nonzero\x22><path\x20d=\x22M1\x203.28C1\x202.574\x201.574\x202\x202.272\x202h10.23c.703\x200\x201.272.573\x201.272\x201.28v12.768c0\x20.708-.574\x201.281-1.271\x201.281H2.272A1.276\x201.276\x200\x200\x201\x201\x2016.049V3.28zm11.503\x2012.954c-.008\x200-.006-12.77-.006-12.77\x200-.003-10.225-.004-10.225-.004.007\x200\x20.005\x2012.77.005\x2012.77\x200\x20.003\x2010.226.004\x2010.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351\x200\x20.636.284.636.64a.641.641\x200\x200\x201-.636.638H4.829a.636.636\x200\x200\x201-.635-.639zm0\x202.554c0-.352.292-.638.636-.638h5.116c.351\x200\x20.636.283.636.638a.641.641\x200\x200\x201-.636.639H4.829a.636.636\x200\x200\x201-.635-.639zm0\x202.555c0-.353.289-.639.633-.639h2.567c.35\x200\x20.633.284.633.64a.639.639\x200\x200\x201-.633.638H4.826a.634.634\x200\x200\x201-.632-.639z\x22/><path\x20d=\x22M10.515\x2017.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319\x200-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6\x201.059-.56\x202.11.119\x201.051.68\x201.443\x201.271\x201.177\x201.771L14.53\x2017.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954\x202.954\x200\x200\x200-.487.21\x202.044\x202.044\x200\x200\x200-.347.31c-.193.174-.332.262-.416.262-.064\x200-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z\x22/></g></svg>\x0a';class d extends _0xb043f8{['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x41dc47,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}constructor(_0x35659c){super(_0x35659c),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x10f22f=this['editor']['config'];_0x10f22f['define']('trackChanges.SuggestionThreadView',ne),_0x10f22f['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x10f22f['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x54bbf9,_0x2aed07){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x95abb,_0x207809]of this['_handleControllerBuffer']){const _0xcbac77=this['_suggestionToController']['has'](_0x95abb);_0xcbac77||_0x207809?_0xcbac77&&_0x207809&&this['_destroyController'](_0x95abb):this['_initializeController'](_0x95abb);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x54bbf9,_0x2aed07);}['init'](){const _0x18416a=this['editor'],_0x37f58e=_0x18416a['plugins']['get']('TrackChangesEditing'),_0x190712=_0x18416a['plugins']['get']('Annotations'),_0x430a65=_0x18416a['plugins']['get']('EditorAnnotations'),_0x3e0a81=_0x18416a['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x430a65['addSourceCollector'](()=>{const _0x47ffb3=[];for(const [_0x2db05a,_0x5bd97e]of Array['from'](this['_suggestionToController'])){const _0x19c767=_0x2db05a['getAllAdjacentSuggestions'](),_0x133c74=[];for(const _0x48e133 of _0x19c767){if(!_0x48e133['isInContent'])continue;if(_0x48e133['isMultiRange']){_0x133c74['push'](..._0x48e133['getRanges']());continue;}const _0x345e9b=_0x48e133['getFirstRange']();if(_0x133c74['length']>0x0){const _0x30d64b=_0x133c74[0x0]['getJoined'](_0x345e9b);if(_0x30d64b){_0x133c74[0x0]=_0x30d64b;continue;}}_0x133c74['push'](_0x345e9b);}_0x47ffb3['push']([_0x5bd97e['view'],_0x133c74]);}return _0x47ffb3;}),this['listenTo'](_0x37f58e,'suggestionLoaded',(_0x15646a,_0x3f59f6)=>{this['listenTo'](_0x3f59f6,'change:previous',(_0x4a40af,_0x3f17b6,_0x528f8b,_0x57799c)=>{_0x3f59f6['isInContent']&&(null==_0x528f8b?(this['_updateController'](_0x57799c['head']),this['_handleSuggestionControllerDelayed'](_0x3f59f6,!0x1)):(this['_updateController'](_0x528f8b['head']),null==_0x57799c&&this['_handleSuggestionControllerDelayed'](_0x3f59f6,!0x0)));}),null!==_0x3f59f6['previous']?this['_updateController'](_0x3f59f6['head']):this['_handleSuggestionControllerDelayed'](_0x3f59f6,!0x1);}),this['listenTo'](_0x37f58e,'suggestionUnloaded',(_0x208aa7,_0x3f2033,_0x170534)=>{this['stopListening'](_0x3f2033,'change:previous'),this['_handleControllerBuffer']['delete'](_0x3f2033),this['_suggestionToController']['has'](_0x3f2033)&&this['_destroyController'](_0x3f2033),_0x170534&&this['_updateController'](_0x170534['head']);}),this['listenTo'](_0x37f58e,'suggestionChanged',(_0x5c023a,_0x3725f8)=>{this['_updateController'](_0x3725f8);}),this['listenTo'](_0x190712,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x3e0a81,'addComment',(_0x451782,{threadId:_0x390e53,isFromAdapter:_0x2e6771})=>{if(_0x2e6771||!_0x37f58e['hasSuggestion'](_0x390e53))return;const _0x1c6429=_0x37f58e['getSuggestion'](_0x390e53);this['_suggestionToController']['get'](_0x1c6429)['view']['focus']();},{'priority':'lowest'});}['_refreshActiveMarkers'](){const _0x58dd0d=this['editor']['plugins']['get']('Annotations'),_0xde6319=this['editor']['plugins']['get']('TrackChangesEditing'),_0x50cccf=Array['from'](_0x58dd0d['activeAnnotations'],_0x50199d=>_0x50199d['innerView'])['filter'](_0x5463eb=>this['_viewToController']['has'](_0x5463eb)),_0x59e96c=[];for(const _0x43b623 of _0x50cccf){const _0x5c7266=this['_viewToController']['get'](_0x43b623)['model']['getAllAdjacentSuggestions']();_0x59e96c['push'](..._0x5c7266['reduce']((_0x2b49fe,_0x2d4d5e)=>[..._0x2b49fe,..._0x2d4d5e['getMarkerNames']()],[]));}_0xde6319['activeMarkers']=_0x59e96c;}['_addUIComponentsToFactory'](){const _0x5f135c=this['editor'],_0x5a5136=_0x5f135c['locale'],_0x475eab=o(_0x5a5136,'Track\x20changes'),_0x52f302=new Wt([{'type':'switchbutton','model':new te({'withText':!0x0,'label':_0x475eab,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x5a5136,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x5a5136,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x5a5136,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x5a5136,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);for(const _0x4f1910 of _0x52f302)if(ae(_0x4f1910)){const _0x276566=_0x5f135c['commands']['get'](_0x4f1910['model']['commandName']);_0x4f1910['model']['bind']('isOn','isEnabled')['to'](_0x276566,'value','isEnabled');}_0x5f135c['ui']['componentFactory']['add']('trackChanges',_0x18aa7b=>this['_createToolbarButton'](_0x18aa7b,_0x52f302,_0x475eab)),_0x5f135c['ui']['componentFactory']['add']('menuBar:trackChanges',_0x315e05=>this['_createMenuBarMenu'](_0x315e05,_0x52f302,_0x475eab));}['_createToolbarButton'](_0x398f79,_0x456bb5,_0x570d39){const _0xfdb8d0=zt(_0x398f79,Zt),_0x5c26a3=this['editor']['commands']['get']('trackChanges');_0xfdb8d0['buttonView']['set']({'tooltip':_0x570d39,'label':_0x570d39,'icon':ie}),_0xfdb8d0['buttonView']['bind']('isOn')['to'](_0x5c26a3,'value'),_0xfdb8d0['buttonView']['on']('execute',()=>{_0x5c26a3['execute'](),this['editor']['editing']['view']['focus']();}),qt(_0xfdb8d0,_0x456bb5,{'role':'menu'});const _0x16f2e8=[];for(const _0x1160a7 of _0x456bb5)ae(_0x1160a7)&&_0x16f2e8['push'](this['editor']['commands']['get'](_0x1160a7['model']['commandName']));const _0x5f4b0e=_0xfdb8d0['buttonView'];return _0x5f4b0e['actionView']['unbind']('isEnabled'),_0x5f4b0e['arrowView']['unbind']('isEnabled'),_0x5f4b0e['actionView']['bind']('isEnabled')['to'](_0x5c26a3,'isEnabled'),_0x5f4b0e['arrowView']['bind']('isEnabled')['toMany'](_0x16f2e8,'isEnabled',(..._0x3465d7)=>_0x3465d7['some'](_0x37904b=>_0x37904b)),_0xfdb8d0['on']('execute',_0x3bcefb=>{this['editor']['execute'](_0x3bcefb['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0xfdb8d0;}['_createMenuBarMenu'](_0x536c50,_0x563037,_0x33db8e){const _0x104f9d=new Kt(_0x536c50),_0x17f9f2=this['editor']['commands']['get']('trackChanges');_0x104f9d['buttonView']['set']({'label':_0x33db8e,'icon':ie});const _0x484c24=new Qt(_0x536c50);for(const _0x28dba1 of _0x563037){if('separator'==_0x28dba1['type']){_0x484c24['items']['add'](new Jt(_0x536c50));continue;}const _0x27a9e8=new Xt(_0x536c50,_0x104f9d),_0x1abf1a=new Yt(_0x536c50),_0x4f3b83=_0x28dba1['model'];_0x1abf1a['bind'](...Object['keys'](_0x4f3b83))['to'](_0x4f3b83),_0x1abf1a['delegate']('execute')['to'](_0x104f9d),_0x1abf1a['on']('execute',()=>{this['editor']['execute'](_0x4f3b83['commandName']),this['editor']['editing']['view']['focus']();}),_0x27a9e8['children']['add'](_0x1abf1a),_0x484c24['items']['add'](_0x27a9e8);}return _0x104f9d['bind']('isEnabled')['to'](_0x17f9f2,'isEnabled'),_0x104f9d['panelView']['children']['add'](_0x484c24),_0x104f9d;}['_initializeController'](_0x221b51){const _0x57129d=this['editor'],_0x2132a3=_0x57129d['config'],_0x369d78=_0x57129d['plugins']['get']('Annotations'),_0x3999b7=_0x57129d['plugins']['get']('CommentsRepository'),_0x2a94fb=_0x57129d['plugins']['get']('EditorAnnotations'),_0x348a0f=_0x57129d['plugins']['get'](_0x41dc47)['me'],_0x38a60c=_0x2132a3['get']('trackChanges')['SuggestionThreadView'],{CommentsListView:_0x297116,CommentThreadInputView:_0x3846d1}=_0x57129d['plugins']['get']('CommentsUI');let _0x968fbc,_0x4e217e;this['_annotationViews']['has'](_0x221b51['id'])?(_0x4e217e=this['_annotationViews']['get'](_0x221b51['id']),_0x968fbc=_0x4e217e['mainView']):(_0x968fbc=new _0x38a60c(_0x57129d['locale'],_0x221b51,_0x348a0f,{'disableComments':this['_disableComments'],'editorConfig':_0x2132a3['get']('comments.editorConfig'),'maxCommentsWhenCollapsed':_0x2132a3['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x2132a3['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x2132a3['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x29d890(_0x2132a3['get']('locale')),'CommentView':_0x2132a3['get']('comments')['CommentView'],'CommentsListView':_0x297116,'CommentThreadInputView':_0x3846d1}),_0x968fbc['acceptButton']['on']('execute',()=>{_0x57129d['editing']['view']['focus']();}),_0x968fbc['discardButton']['on']('execute',()=>{_0x57129d['editing']['view']['focus']();}),_0x4e217e=_0x369d78['createAnnotationView'](this['editor']['locale'],_0x968fbc),_0x4e217e['bind']('isDirty')['to'](_0x968fbc,'isDirty'),_0x4e217e['bind']('length')['to'](_0x968fbc),_0x4e217e['bind']('type')['to'](_0x968fbc,'type',_0x4f82d7=>'suggestion-'+_0x4f82d7),this['_annotationViews']['set'](_0x221b51['id'],_0x4e217e));const _0x130586=_0x3999b7['createCommentThreadController'](_0x221b51['commentThread'],_0x968fbc),_0x1ef3f3=new oe(_0x57129d,_0x221b51,_0x968fbc,_0x130586),_0x2dc69d=_0x221b51['getAllAdjacentSuggestions']()['filter'](_0x630036=>_0x630036['isInContent']);_0x968fbc['descriptionParts']=_0x57129d['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x2dc69d),this['_suggestionToController']['set'](_0x221b51,_0x1ef3f3),this['_viewToController']['set'](_0x968fbc,_0x1ef3f3);const _0x41dc31=_0x369d78['createAnnotation']({'view':_0x4e217e,'target':()=>{const _0x56df52=[],_0x152804=_0x221b51['getAllAdjacentSuggestions']()['filter'](_0xa16646=>_0xa16646['isInContent']);for(const _0x55f3f0 of _0x152804)_0x56df52['push'](..._0x55f3f0['getMarkers']());return _0xaff61b(_0x57129d['editing'],_0x56df52);},'type':()=>'suggestion-'+_0x1ef3f3['view']['type']});_0x3999b7['_bindAnnotationToEditors'](_0x968fbc,_0x41dc31),_0x369d78['add'](_0x41dc31),_0x2a94fb['registerAnnotation'](_0x41dc31);}['_destroyController'](_0x33c611){const _0x4abd09=this['editor']['plugins']['get']('CommentsRepository'),_0x234487=this['editor']['plugins']['get']('Annotations'),_0x3b78d6=this['_suggestionToController']['get'](_0x33c611),_0x5ee0e8=_0x3b78d6['view'],_0x9204ac=_0x234487['getByInnerView'](_0x5ee0e8);_0x4abd09['_unbindEditors'](_0x5ee0e8),_0x9204ac&&_0x234487['remove'](_0x9204ac),this['_suggestionToController']['delete'](_0x33c611),this['_viewToController']['delete'](_0x5ee0e8),_0x3b78d6['destroy']();}['_updateController'](_0x56a7d5){if(!_0x56a7d5['isInContent']||!this['_suggestionToController']['has'](_0x56a7d5))return;const _0x1d960d=this['editor']['plugins']['get']('TrackChangesEditing'),_0x22980e=this['_suggestionToController']['get'](_0x56a7d5),_0x37c16a=_0x56a7d5['getAllAdjacentSuggestions']();_0x22980e['view']['descriptionParts']=_0x1d960d['descriptionFactory']['getDescriptions'](_0x37c16a);}['destroy'](){for(const _0x5db817 of this['_suggestionToController']['keys']())this['_destroyController'](_0x5db817);for(const _0x2f548a of this['_annotationViews']['values']())_0x2f548a['mainView']['destroy']();super['destroy']();}}function ae(_0x3e580a){return'model'in _0x3e580a;}class k extends _0xb043f8{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}set['adapter'](_0x599cd2){this['editor']['plugins']['get'](p)['adapter']=_0x599cd2;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x166f56){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x166f56);}['getSuggestions']({skipNotAttached:_0x2864b0=!0x1,toJSON:_0xa4263a=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x2864b0,'toJSON':_0xa4263a});}['getSuggestion'](_0x5134da){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x5134da);}}const T=['Pagination'];class P extends _0xb043f8{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}['init'](){const _0x3d62fd=this['editor'];if(_0x3d62fd['config']['define']('trackChangesData.editorCreator',_0x159c2a=>{const _0x11da96=_0x3d62fd['model']['document']['getRootNames']()['reduce']((_0x2dd6b8,_0xda4015)=>(_0x2dd6b8[_0xda4015]='',_0x2dd6b8),{});return _0x3d62fd['constructor']['create'](_0x11da96,_0x159c2a);}),'function'!=typeof _0x3d62fd['config']['get']('trackChangesData')['editorCreator'])throw new _0x45589d('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x111ec6){return N(this['editor'],!0x0,_0x111ec6);}['getDataWithDiscardedSuggestions'](_0x431ffe){return N(this['editor'],!0x1,_0x431ffe);}}class D extends _0xb043f8{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}constructor(_0x43b061){super(_0x43b061),this['result']='end';}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function v(_0x4f2a7e){return void 0x0!==_0x4f2a7e['getRootsAttributes'];}async function N(_0x34bb5d,_0x42197b,_0x2a543b){const _0x1561a3=_0x525b78(_0x34bb5d,T);_0x1561a3['plugins']['push'](p,D),_0x1561a3['rootsAttributes']=v(_0x34bb5d)?_0x34bb5d['getRootsAttributes']():void 0x0;const _0x2ad382=document['createDocumentFragment'](),_0x3603bb=_0x34bb5d['config']['get']('trackChangesData')['editorCreator'],_0x3d6b8f=await _0x3603bb(_0x1561a3,()=>function(_0x468251){const _0x38ebaf=document['createElement']('div');return _0x468251['appendChild'](_0x38ebaf),_0x38ebaf;}(_0x2ad382));!function(_0x54f527,_0x8d5e75){const _0x2fe815=_0x54f527['model']['document']['getRootNames']()['reduce']((_0x5653b1,_0x8f4040)=>(_0x5653b1[_0x8f4040]=_0x54f527['data']['get']({'rootName':_0x8f4040}),_0x5653b1),{}),_0x3a4f50=_0x54f527['plugins']['get']('Users')['users']['map'](_0x270ca2=>({'id':_0x270ca2['id'],'name':_0x270ca2['name']})),_0x22039f=_0x54f527['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x4e8c1f=_0x54f527['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x5f8c0a=_0x8d5e75['plugins']['get']('Users'),_0x5b2726=_0x8d5e75['plugins']['get']('TrackChangesEditing'),_0x55a936=_0x8d5e75['plugins']['get']('CommentsRepository');for(const _0x881f69 of _0x3a4f50)_0x5f8c0a['getUser'](_0x881f69['id'])||_0x5f8c0a['addUser'](_0x881f69);_0x5f8c0a['me']||_0x5f8c0a['useAnonymousUser']();for(const _0x35e305 of _0x4e8c1f)_0x55a936['addCommentThread'](_0x35e305);for(const _0x2867d2 of _0x22039f)_0x5b2726['addSuggestionData'](_0x2867d2);_0x8d5e75['data']['set'](_0x2fe815);}(_0x34bb5d,_0x3d6b8f),_0x3d6b8f['execute'](_0x42197b?'acceptAllSuggestions':'discardAllSuggestions');const _0x1850f9=v(_0x3d6b8f)?_0x3d6b8f['getFullData'](_0x2a543b):_0x3d6b8f['data']['get'](_0x2a543b);return await _0x3d6b8f['destroy'](),_0x1850f9;}export{es as BaseSuggestionThreadView,k as TrackChanges,P as TrackChangesData,p as TrackChangesEditing};
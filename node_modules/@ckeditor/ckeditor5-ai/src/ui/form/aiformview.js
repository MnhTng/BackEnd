/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x33f44f=_0x3daa;function _0x3daa(_0x3d9dd7,_0x25f1a3){const _0x174b64=_0x174b();return _0x3daa=function(_0x3daacb,_0x57239b){_0x3daacb=_0x3daacb-0xd3;let _0x214b3a=_0x174b64[_0x3daacb];return _0x214b3a;},_0x3daa(_0x3d9dd7,_0x25f1a3);}(function(_0x1dd92f,_0x5e10b1){const _0x4e6beb=_0x3daa,_0x225dec=_0x1dd92f();while(!![]){try{const _0x55f314=parseInt(_0x4e6beb(0xf1))/0x1+parseInt(_0x4e6beb(0x110))/0x2+parseInt(_0x4e6beb(0x10d))/0x3+parseInt(_0x4e6beb(0xdc))/0x4*(parseInt(_0x4e6beb(0x128))/0x5)+-parseInt(_0x4e6beb(0xe6))/0x6+parseInt(_0x4e6beb(0xf9))/0x7+-parseInt(_0x4e6beb(0x104))/0x8;if(_0x55f314===_0x5e10b1)break;else _0x225dec['push'](_0x225dec['shift']());}catch(_0xa25687){_0x225dec['push'](_0x225dec['shift']());}}}(_0x174b,0xaae97));import{FocusTracker as _0x2d4229,KeystrokeHandler as _0x51b010}from'ckeditor5/src/utils.js';import{View as _0x33bf17,FocusCycler as _0x10afe7,createLabeledTextarea as _0x6c2257}from'ckeditor5/src/ui.js';import _0x45db9e,{AIFormToolbarViewMainActionLabel as _0x36e966}from'./aiformtoolbarview.js';function _0x174b(){const _0x531b93=['trim','Ask\x20AI\x20to\x20edit\x20or\x20generate','476243QjXLxI','stopProcessing','label','clearHistory','promptView','shift\x20+\x20tab','reset','Ask\x20AI\x20to\x20improve\x20generated\x20text','5320301dmLYeM','_focusables','queryView','bindTo','isError','value','stop','focusNext','backwardCycle','submitPrompt','high','16046512EtoYWs','bindTemplate','ck-ai-form','historyGroupView','bind','render','replaceContent','fire','search','2065626AcJGyA','items','_createToolbar','579614kAVdBn','focusTracker','div','tryAgainButton','_createPromptView','forwardCycle','isVisible','prompt','isProcessing','isEnabled','focusPrevious','tab','focusCycler','REPLACE','createCollection','add','tryAgainEvent','Ask\x20AI\x20and\x20your\x20prompts\x20will\x20be\x20listed\x20here\x20for\x20you\x20to\x20use\x20later.','insertContentBelow','locale','focusLast','Empty\x20history','setTemplate','AI_ERROR_FAILED','5MRumUN','element','copyButtonView','set','keystrokes','stopButton','handleError','startProcessing','delegate','listenTo','_createHistoryView','3321412FjNfOa','submit','insertButton','fieldView','focusFirst','_promptHistory','focus','mainAction','ck-hidden','errorView','2034714CYaWpF','contentArea','toolbar','text','execute','clear','ck-ai-form-content','finishProcessing','replaceButton'];_0x174b=function(){return _0x531b93;};return _0x174b();}import _0x15d654 from'./aiformcontentarea.js';import _0x1ba814 from'./aiformerrorview.js';import _0x2d15ad from'./aiformpromptview.js';import _0x152197 from'./aihistorylistview.js';import _0x2e7cfa from'./aihistorylistitemview.js';import _0x46f64a from'./prompthistory.js';import{getTranslation as _0x4982fc}from'../../utils/common-translations.js';import{escape as _0x446eb3}from'lodash-es';export default class x extends _0x33bf17{constructor(_0x45d331,_0x53e6e8,_0x31a8d2=''){const _0x5e6f25=_0x3daa;super(_0x45d331),this[_0x5e6f25(0xd4)](_0x5e6f25(0x119),!0x0),this[_0x5e6f25(0xd4)](_0x5e6f25(0x118),!0x1),this[_0x5e6f25(0xd4)](_0x5e6f25(0x117),''),this[_0x5e6f25(0xd4)](_0x5e6f25(0xfe),''),this[_0x5e6f25(0xd4)](_0x5e6f25(0xfd),!0x1),this[_0x5e6f25(0xd4)](_0x5e6f25(0xe3),_0x36e966[_0x5e6f25(0x11d)]),this[_0x5e6f25(0xe1)]=new _0x46f64a(),this[_0x5e6f25(0xe5)]=new _0x1ba814(_0x45d331),this[_0x5e6f25(0xe7)]=new _0x15d654(_0x45d331,_0x31a8d2),this[_0x5e6f25(0xe7)][_0x5e6f25(0x108)](_0x5e6f25(0x118))['to'](this),this[_0x5e6f25(0xe7)][_0x5e6f25(0x108)](_0x5e6f25(0xfe))['to'](this),this[_0x5e6f25(0xe8)]=this[_0x5e6f25(0x10f)](),this[_0x5e6f25(0xe8)][_0x5e6f25(0x108)](_0x5e6f25(0xe3))['to'](this),this[_0x5e6f25(0xf5)]=this[_0x5e6f25(0x114)](),this[_0x5e6f25(0x111)]=new _0x2d4229(),this[_0x5e6f25(0xd5)]=new _0x51b010(),this[_0x5e6f25(0xfa)]=this[_0x5e6f25(0x11e)]([this[_0x5e6f25(0xe7)],this[_0x5e6f25(0xe7)][_0x5e6f25(0xd3)],this[_0x5e6f25(0xe8)],this[_0x5e6f25(0xf5)]]),this[_0x5e6f25(0x11c)]=new _0x10afe7({'focusables':this[_0x5e6f25(0xfa)],'focusTracker':this[_0x5e6f25(0x111)],'keystrokeHandler':this[_0x5e6f25(0xd5)],'actions':{'focusPrevious':_0x5e6f25(0xf6),'focusNext':_0x5e6f25(0x11b)}}),this[_0x5e6f25(0xf5)][_0x5e6f25(0x11c)]['on'](_0x5e6f25(0x115),_0x35b5ae=>{const _0x2d1379=_0x5e6f25;this[_0x2d1379(0x11c)][_0x2d1379(0x100)](),_0x35b5ae[_0x2d1379(0xff)]();}),this[_0x5e6f25(0xf5)][_0x5e6f25(0x11c)]['on'](_0x5e6f25(0x101),_0x3d489d=>{const _0x1529e6=_0x5e6f25;this[_0x1529e6(0x11c)][_0x1529e6(0x11a)](),_0x3d489d[_0x1529e6(0xff)]();}),this[_0x5e6f25(0xf5)][_0x5e6f25(0xfb)][_0x5e6f25(0xdf)][_0x5e6f25(0x108)](_0x5e6f25(0xfe))['to'](this,_0x5e6f25(0x117));const _0x369658=this[_0x5e6f25(0x105)];this[_0x5e6f25(0x126)]({'tag':_0x5e6f25(0x112),'attributes':{'class':['ck',_0x5e6f25(0x106),_0x53e6e8],'tabindex':'-1'},'children':[{'tag':_0x5e6f25(0x112),'attributes':{'class':['ck',_0x5e6f25(0xec)]},'children':[{'tag':_0x5e6f25(0x112),'attributes':{'class':[_0x369658['if'](_0x5e6f25(0xfd),_0x5e6f25(0xe4),_0x486bfd=>!_0x486bfd)]},'children':[this[_0x5e6f25(0xe5)]]},this[_0x5e6f25(0xe7)],this[_0x5e6f25(0xe8)],this[_0x5e6f25(0xf5)]]}]});}[_0x33f44f(0x109)](){const _0x215729=_0x33f44f;super[_0x215729(0x109)](),this[_0x215729(0x111)][_0x215729(0x11f)](this[_0x215729(0xe7)][_0x215729(0x129)]),this[_0x215729(0x111)][_0x215729(0x11f)](this[_0x215729(0xe7)][_0x215729(0xd3)][_0x215729(0x129)]),this[_0x215729(0x111)][_0x215729(0x11f)](this[_0x215729(0xe8)][_0x215729(0x129)]),this[_0x215729(0x111)][_0x215729(0x11f)](this[_0x215729(0xf5)][_0x215729(0x129)]),this[_0x215729(0xd5)][_0x215729(0xda)](this[_0x215729(0x129)]);}[_0x33f44f(0xe2)](_0x3fceb9=0x1){const _0x4468ac=_0x33f44f;-0x1===_0x3fceb9?this[_0x4468ac(0x11c)][_0x4468ac(0x124)]():this[_0x4468ac(0x11c)][_0x4468ac(0xe0)]();}[_0x33f44f(0xf7)](){const _0x20d9a5=_0x33f44f;this[_0x20d9a5(0x117)]='',this[_0x20d9a5(0xfe)]='',this[_0x20d9a5(0xfd)]=!0x1,this[_0x20d9a5(0xf5)][_0x20d9a5(0xf7)](),this[_0x20d9a5(0xe7)][_0x20d9a5(0x116)]=!0x1,this[_0x20d9a5(0xe8)][_0x20d9a5(0x116)]=!0x1;}[_0x33f44f(0x114)](){const _0x3b2584=_0x33f44f,_0x1606d8=this[_0x3b2584(0x123)],_0x48ef73=new _0x2d15ad(_0x1606d8,{'queryView':{'label':_0x4982fc(_0x1606d8,_0x3b2584(0xf0)),'creator':_0x6c2257,'showIcon':!0x1,'showResetButton':!0x1},'infoView':{'text':{'noSearchableItems':{'primary':_0x4982fc(_0x1606d8,_0x3b2584(0x125)),'secondary':_0x4982fc(_0x1606d8,_0x3b2584(0x121))}}},'filteredView':this[_0x3b2584(0xdb)](),'queryMinChars':0x1/0x0,'resetOnBlur':!0x1});return _0x48ef73[_0x3b2584(0x108)](_0x3b2584(0x119))['to'](this,_0x3b2584(0x119),this,_0x3b2584(0x118),(_0x365e10,_0x1480cb)=>_0x365e10&&!_0x1480cb),this[_0x3b2584(0xda)](_0x48ef73,_0x3b2584(0xdd),(_0x2129dd,_0x4e98d9)=>{const _0x58babb=_0x3b2584;this[_0x58babb(0x117)]=_0x4e98d9;const _0xf8fc10=_0x446eb3(_0x4e98d9);this[_0x58babb(0x10b)](_0x58babb(0x102),_0xf8fc10),_0x4e98d9[_0x58babb(0xef)]()&&this[_0x58babb(0xe1)][_0x58babb(0x11f)]({'prompt':_0xf8fc10},0x0);},{'priority':_0x3b2584(0x103)}),_0x48ef73;}[_0x33f44f(0xdb)](){const _0xd1e5cf=_0x33f44f,_0x371304=new _0x152197(this[_0xd1e5cf(0x123)]);return _0x371304[_0xd1e5cf(0x107)][_0xd1e5cf(0x10e)][_0xd1e5cf(0xfc)](this[_0xd1e5cf(0xe1)])['as'](_0x2e7cfa),_0x371304['on'](_0xd1e5cf(0xf4),()=>{const _0x414f69=_0xd1e5cf;this[_0x414f69(0xe1)][_0x414f69(0xeb)](),this[_0x414f69(0xf5)][_0x414f69(0x10c)](''),this[_0x414f69(0xf5)][_0x414f69(0xe2)]();}),_0x371304;}[_0x33f44f(0x10f)](){const _0x117a99=_0x33f44f,_0x39a3f5=new _0x45db9e(this[_0x117a99(0x123)]);return _0x39a3f5[_0x117a99(0xee)][_0x117a99(0x108)](_0x117a99(0x119))['to'](this,_0x117a99(0x119),this,_0x117a99(0x118),this,_0x117a99(0xfe),(_0x5e7596,_0x4578c1,_0x15b749)=>_0x5e7596&&!_0x4578c1&&!!_0x15b749),_0x39a3f5[_0x117a99(0xee)][_0x117a99(0xd9)](_0x117a99(0xea))['to'](this,_0x117a99(0x10a)),_0x39a3f5[_0x117a99(0xde)][_0x117a99(0x108)](_0x117a99(0x119))['to'](this,_0x117a99(0x119),this,_0x117a99(0x118),this,_0x117a99(0xfe),(_0x172c8b,_0x1f2014,_0x3dbb22)=>_0x172c8b&&!_0x1f2014&&!!_0x3dbb22),_0x39a3f5[_0x117a99(0xde)][_0x117a99(0xd9)](_0x117a99(0xea))['to'](this,_0x117a99(0x122)),_0x39a3f5[_0x117a99(0x113)][_0x117a99(0x108)](_0x117a99(0x119))['to'](this,_0x117a99(0x119),this,_0x117a99(0x118),(_0x4d0f17,_0x4ab853)=>_0x4d0f17&&!_0x4ab853),_0x39a3f5[_0x117a99(0x113)][_0x117a99(0xd9)](_0x117a99(0xea))['to'](this,_0x117a99(0x120)),_0x39a3f5[_0x117a99(0xd6)][_0x117a99(0x108)](_0x117a99(0x119))['to'](this,_0x117a99(0x118)),_0x39a3f5[_0x117a99(0xd6)][_0x117a99(0xd9)](_0x117a99(0xea))['to'](this,_0x117a99(0xf2)),_0x39a3f5;}[_0x33f44f(0xd8)](){const _0x45afda=_0x33f44f;this[_0x45afda(0xfe)]='',this[_0x45afda(0xfd)]=!0x1,this[_0x45afda(0x118)]=!0x0,this[_0x45afda(0xe7)][_0x45afda(0x116)]=!0x0,this[_0x45afda(0xe8)][_0x45afda(0x116)]=!0x0,this[_0x45afda(0xe7)][_0x45afda(0xe2)]();}[_0x33f44f(0xed)](){const _0x7a8129=_0x33f44f,_0x20cc05=this[_0x7a8129(0x123)];this[_0x7a8129(0x118)]=!0x1,this[_0x7a8129(0x117)]='',this[_0x7a8129(0xf5)][_0x7a8129(0xf7)](),this[_0x7a8129(0xfe)]&&(this[_0x7a8129(0xf5)][_0x7a8129(0xfb)][_0x7a8129(0xf3)]=_0x4982fc(_0x20cc05,_0x7a8129(0xf8)));}[_0x33f44f(0xd7)](_0x3f3496){const _0x29ed53=_0x33f44f,_0xbc991=this[_0x29ed53(0x123)];this[_0x29ed53(0xed)](),this[_0x29ed53(0xfd)]=!0x0,this[_0x29ed53(0xe5)][_0x29ed53(0xe9)]=_0x3f3496||_0x4982fc(_0xbc991,_0x29ed53(0x127)),this[_0x29ed53(0xfe)]||(this[_0x29ed53(0xe7)][_0x29ed53(0x116)]=!0x1);}}
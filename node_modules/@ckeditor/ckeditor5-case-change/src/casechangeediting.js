/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x3cce9d}from'ckeditor5/src/core.js';import _0x203f85 from'./casechangecommand.js';export default class s extends _0x3cce9d{constructor(){super(...arguments),this['_currentCommandIndex']=0x0;}static get['pluginName'](){return'CaseChangeEditing';}['init'](){const _0x54524a=this['editor'],_0xee214=_0x54524a['locale']['contentLanguage'],_0xe3d35d=function(_0x339c2a=[]){return'function'==typeof _0x339c2a?_0x339c2a:(_0x499b9d,{wordIndex:_0x4ffaaa})=>_0x4ffaaa>0x0&&_0x339c2a['includes'](_0x499b9d);}(_0x54524a['config']['get']('caseChange.titleCase.excludeWords')),_0x338d14={'changeCaseUpper':new _0x203f85(_0x54524a,_0x2826a5=>_0x2826a5['toLocaleUpperCase'](_0xee214)),'changeCaseLower':new _0x203f85(_0x54524a,_0x2f3c1a=>_0x2f3c1a['toLocaleLowerCase'](_0xee214)),'changeCaseTitle':new _0x203f85(_0x54524a,_0x46f49d=>function(_0x3d64e5,_0x42a006,_0x590d84){return function(_0x9d2961,_0x42d339){let _0x2cc452='',_0x19791b=0x0,_0x5ab57a=0x0;for(const _0x40d586 of _0x9d2961['matchAll'](/ +/g)){const _0x486fc0=_0x40d586['index'],_0x2bc9ea=_0x9d2961['substring'](_0x19791b,_0x486fc0);_0x2bc9ea['length']&&(_0x2cc452+=_0x42d339(_0x2bc9ea,_0x19791b,_0x5ab57a++)),_0x2cc452+=_0x40d586[0x0],_0x19791b=_0x486fc0+_0x40d586[0x0]['length'];}const _0x468149=_0x9d2961['substring'](_0x19791b);return _0x468149['length']&&(_0x2cc452+=_0x42d339(_0x468149,_0x19791b,_0x5ab57a)),_0x2cc452;}(_0x3d64e5,(_0x30dafa,_0x245f39,_0x4aa559)=>{const _0x4cd145=_0x30dafa['toLocaleLowerCase'](_0x590d84);return _0x42a006(_0x4cd145,{'charOffset':_0x245f39,'wordIndex':_0x4aa559,'blockText':_0x3d64e5})?_0x4cd145:_0x4cd145['replace'](/(?:^|[^\p{L}\d'])\p{L}/gu,_0x431874=>_0x431874['toLocaleUpperCase'](_0x590d84));});}(_0x46f49d,_0xe3d35d,_0xee214))};for(const [_0x449c0c,_0x1812e5]of Object['entries'](_0x338d14))_0x54524a['commands']['add'](_0x449c0c,_0x1812e5),_0x1812e5['on']('execute',()=>{this['_announceCaseChangeOperation'](_0x449c0c);});this['listenTo'](_0x54524a['editing']['view']['document'],'selectionChange',()=>{this['_currentCommandIndex']=0x0;}),_0x54524a['keystrokes']['set']('shift+f3',(_0x153820,_0x5f3a1d)=>{const _0x14c0b1=_getOptions(this['editor']['t']),_0x735b29=_0x14c0b1[this['_currentCommandIndex']%_0x14c0b1['length']]['commandName'];_0x54524a['execute'](_0x735b29),this['_currentCommandIndex']++,_0x5f3a1d();});}['_announceCaseChangeOperation'](_0x26bc48){const {t:t,ui:_0x3390c9}=this['editor'],_0x48f18a=_getOptions(t)['find'](_0x43742a=>_0x43742a['commandName']===_0x26bc48)['label']['toLowerCase']();_0x3390c9['ariaLiveAnnouncer']['announce'](t('Changed\x20case\x20to\x20%0',_0x48f18a));}}export function _getOptions(t){return[{'label':t('UPPERCASE'),'commandName':'changeCaseUpper'},{'label':t('lowercase'),'commandName':'changeCaseLower'},{'label':t('Title\x20Case'),'commandName':'changeCaseTitle'}];}
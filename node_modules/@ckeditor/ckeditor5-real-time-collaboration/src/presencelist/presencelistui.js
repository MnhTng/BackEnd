/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x30a408=_0x5d62;(function(_0x45c232,_0x48ce6b){const _0x595b34=_0x5d62,_0x33d7f4=_0x45c232();while(!![]){try{const _0x108efc=parseInt(_0x595b34(0x1f8))/0x1*(parseInt(_0x595b34(0x1dc))/0x2)+parseInt(_0x595b34(0x1cc))/0x3+-parseInt(_0x595b34(0x200))/0x4+parseInt(_0x595b34(0x1de))/0x5*(parseInt(_0x595b34(0x1f0))/0x6)+parseInt(_0x595b34(0x1d7))/0x7*(parseInt(_0x595b34(0x1f5))/0x8)+parseInt(_0x595b34(0x20e))/0x9+-parseInt(_0x595b34(0x1e9))/0xa;if(_0x108efc===_0x48ce6b)break;else _0x33d7f4['push'](_0x33d7f4['shift']());}catch(_0x30ae00){_0x33d7f4['push'](_0x33d7f4['shift']());}}}(_0x3636,0xdd13f));import{ContextPlugin as _0x5a7f1f}from'ckeditor5/src/core.js';import{CKEditorError as _0xa92cda,Collection as _0x5a928f}from'ckeditor5/src/utils.js';function _0x3636(){const _0x47aee1=['_handleUserRemove','42BHjvVu','define','_bodyCollection','plugins','presencelist-collapseat-invalid-format','18nBikGl','last','410rfCURn','isCollapsed','isVisible','get','locale','balloonPanelView','from','presenceDropdownView','add','hasTooltip','showDropdown','23428020lWKcVc','usersCount','bind','requires','_createView','reverse','displayMe','16458oKNPbn','number','ck\x20ck-presence-list__balloon','content','items','1329056JPAmAG','pin','hideDropdown','81717vEqegm','set','isMe','config','presenceList','counterView','presenceList.container','isHidden','3777364wAQgeF','allConnectedUsers','using','context','currentDisplayedUsers','onClick','presenceList.displayMe','_handleUserAdd','_allConnectedUsers','class','appendChild','destroy','listenTo','view','10264896npGbzZ','length','attachToDom','remove','presencelist-missing-container','execute','render','3284889bxlmmx','isRendered','_calculateNewUserPosition','init','bindTo','inlineListView','detachFromDom','presenceList.collapseAt','element','unpin'];_0x3636=function(){return _0x47aee1;};return _0x3636();}function _0x5d62(_0x209a0f,_0x2e676c){const _0x363665=_0x3636();return _0x5d62=function(_0x5d6275,_0x36d40f){_0x5d6275=_0x5d6275-0x1c8;let _0x61c6b8=_0x363665[_0x5d6275];return _0x61c6b8;},_0x5d62(_0x209a0f,_0x2e676c);}import{clickOutsideHandler as _0x3c291f,BodyCollection as _0x79dc96,BalloonPanelView as _0x33e2b4}from'ckeditor5/src/ui.js';import{isElement as _0x4cb3d1}from'lodash-es';import _0x551a63 from'../realtimecollaborativeediting/sessions.js';import _0x12b94c from'./view/presencelistview.js';import _0x4e3d21 from'./view/presencedropdownlistview.js';import _0x286499 from'./view/presencedropdownlistitemview.js';import _0x43f20a from'./view/presenceinlinelistitemview.js';const _={'collapseAt':0x6,'displayMe':!0x0};export default class s extends _0x5a7f1f{constructor(_0x3736a0){const _0x418811=_0x5d62;super(_0x3736a0),this[_0x418811(0x203)][_0x418811(0x1fb)][_0x418811(0x1d8)](_0x418811(0x1fc),_);const _0x12f7e2=_0x3736a0[_0x418811(0x1fb)][_0x418811(0x1e1)](_0x418811(0x1d3));if(_0x418811(0x1f1)!=typeof _0x12f7e2)throw new _0xa92cda(_0x418811(0x1db),this);if(_0x12f7e2<0x1)throw new _0xa92cda(_0x418811(0x1db),this);this[_0x418811(0x208)]=this[_0x418811(0x203)][_0x418811(0x1da)][_0x418811(0x1e1)](_0x551a63)[_0x418811(0x201)],this[_0x418811(0x1f9)](_0x418811(0x1ea),0x0),this[_0x418811(0x204)]=new _0x5a928f(),this[_0x418811(0x1e3)]=new _0x33e2b4(),this[_0x418811(0x1e3)][_0x418811(0x209)]=_0x418811(0x1f2),this[_0x418811(0x20d)]=this[_0x418811(0x1ed)](),this[_0x418811(0x1e5)]=void 0x0;}static get[_0x30a408(0x1ec)](){return[_0x551a63];}[_0x30a408(0x1cf)](){const _0x51312b=_0x30a408;for(const _0x2da0f2 of this[_0x51312b(0x208)])this[_0x51312b(0x207)](_0x2da0f2);this[_0x51312b(0x20c)](this[_0x51312b(0x208)],_0x51312b(0x1e6),(_0x25203b,_0x118f70)=>{const _0x879389=_0x51312b;this[_0x879389(0x207)](_0x118f70);}),this[_0x51312b(0x20c)](this[_0x51312b(0x208)],_0x51312b(0x1c8),(_0x1fb3e9,_0x5ee220)=>{const _0x29fc4a=_0x51312b;this[_0x29fc4a(0x1d6)](_0x5ee220);});}[_0x30a408(0x1ed)](){const _0x53832b=_0x30a408,_0x5a9310=this[_0x53832b(0x203)],_0xac0da6=new _0x12b94c(this[_0x53832b(0x203)][_0x53832b(0x1e2)]),_0x301357=this[_0x53832b(0x1e3)];if(!_0x4cb3d1(_0x5a9310[_0x53832b(0x1fb)][_0x53832b(0x1e1)](_0x53832b(0x1fe))))throw new _0xa92cda(_0x53832b(0x1c9),this);return _0xac0da6[_0x53832b(0x1fd)][_0x53832b(0x1eb)](_0x53832b(0x1ea))['to'](this),_0xac0da6[_0x53832b(0x1eb)](_0x53832b(0x1df))['to'](this,_0x53832b(0x1ea),_0x125953=>{const _0x2c38fe=_0x53832b,{collapseAt:_0x3d8d3b,displayMe:_0x4f9d82}=_0x5a9310[_0x2c38fe(0x1fb)][_0x2c38fe(0x1e1)](_0x2c38fe(0x1fc)),_0x25b92b=_0x125953>=_0x3d8d3b;return _0xac0da6[_0x2c38fe(0x1fd)][_0x2c38fe(0x1ff)]=!(0x1==_0x125953&&_0x4f9d82||_0x25b92b),_0x25b92b||this[_0x2c38fe(0x1f7)](),_0x25b92b;}),_0xac0da6[_0x53832b(0x1d1)][_0x53832b(0x1f4)][_0x53832b(0x1d0)](this[_0x53832b(0x204)])[_0x53832b(0x202)](_0x4732c8=>{const _0x2e12e5=_0x53832b,_0x158987=_0x5a9310[_0x2e12e5(0x1fb)][_0x2e12e5(0x1e1)](_0x2e12e5(0x1fc)),_0x5d4d9b=new _0x43f20a(_0x5a9310[_0x2e12e5(0x1e2)],_0x4732c8,!!_0x158987[_0x2e12e5(0x205)]);return _0x5d4d9b[_0x2e12e5(0x1eb)](_0x2e12e5(0x1e7))['to'](_0xac0da6,_0x2e12e5(0x1df),_0x3e8542=>!_0x3e8542),_0x158987[_0x2e12e5(0x205)]&&this[_0x2e12e5(0x20c)](_0x5d4d9b,_0x2e12e5(0x1ca),()=>{const _0x11c8f3=_0x2e12e5;this[_0x11c8f3(0x20d)][_0x11c8f3(0x1df)]||_0x158987[_0x11c8f3(0x205)](_0x4732c8,_0x5d4d9b[_0x11c8f3(0x1d4)]);}),_0x5d4d9b;}),this[_0x53832b(0x20c)](_0xac0da6[_0x53832b(0x1d1)],_0x53832b(0x1ca),()=>{const _0x44f551=_0x53832b;this[_0x44f551(0x1e5)]?this[_0x44f551(0x1f7)]():this[_0x44f551(0x20d)][_0x44f551(0x1df)]&&this[_0x44f551(0x1e8)]();}),_0xac0da6[_0x53832b(0x1cb)](),_0x301357[_0x53832b(0x1cb)](),_0x3c291f({'emitter':_0xac0da6,'activator':()=>_0x301357[_0x53832b(0x1e0)],'contextElements':[_0x301357[_0x53832b(0x1d4)],_0xac0da6[_0x53832b(0x1d1)][_0x53832b(0x1d4)]],'callback':()=>this[_0x53832b(0x1f7)]()}),_0x5a9310[_0x53832b(0x1fb)][_0x53832b(0x1e1)](_0x53832b(0x1fe))[_0x53832b(0x20a)](_0xac0da6[_0x53832b(0x1d4)]),this[_0x53832b(0x1d9)]=new _0x79dc96(this[_0x53832b(0x203)][_0x53832b(0x1e2)]),this[_0x53832b(0x1d9)][_0x53832b(0x210)](),this[_0x53832b(0x1d9)][_0x53832b(0x1e6)](_0x301357),_0xac0da6;}[_0x30a408(0x207)](_0xe6b501){const _0x2d1020=_0x30a408;if(!this[_0x2d1020(0x203)][_0x2d1020(0x1fb)][_0x2d1020(0x1e1)](_0x2d1020(0x206))&&_0xe6b501[_0x2d1020(0x1fa)])return;const _0x21703a=this[_0x2d1020(0x203)][_0x2d1020(0x1fb)][_0x2d1020(0x1e1)](_0x2d1020(0x1d3))-0x1;this[_0x2d1020(0x1ea)]++,this[_0x2d1020(0x204)][_0x2d1020(0x20f)]==_0x21703a&&this[_0x2d1020(0x204)][_0x2d1020(0x1c8)](0x0);const _0x5da7f0=this[_0x2d1020(0x1ce)](_0xe6b501);this[_0x2d1020(0x204)][_0x2d1020(0x1e6)](_0xe6b501,_0x5da7f0);}[_0x30a408(0x1d6)](_0x36828a){const _0x134452=_0x30a408;if(this[_0x134452(0x1ea)]--,this[_0x134452(0x204)][_0x134452(0x1e1)](_0x36828a['id'])&&(this[_0x134452(0x204)][_0x134452(0x1c8)](_0x36828a['id']),this[_0x134452(0x204)][_0x134452(0x20f)]<this[_0x134452(0x1ea)])){for(const _0x51d3f8 of Array[_0x134452(0x1e4)](this[_0x134452(0x208)])[_0x134452(0x1ee)]())if(!this[_0x134452(0x204)][_0x134452(0x1e1)](_0x51d3f8['id']))return void this[_0x134452(0x204)][_0x134452(0x1e6)](_0x51d3f8,0x0);}}[_0x30a408(0x1ce)](_0x161b49){const _0x24c922=_0x30a408;return Boolean(this[_0x24c922(0x204)][_0x24c922(0x1dd)]&&this[_0x24c922(0x204)][_0x24c922(0x1dd)][_0x24c922(0x1fa)])&&!_0x161b49[_0x24c922(0x1fa)]?this[_0x24c922(0x204)][_0x24c922(0x20f)]-0x1:this[_0x24c922(0x204)][_0x24c922(0x20f)];}[_0x30a408(0x1e8)](){const _0x923054=_0x30a408;if(this[_0x923054(0x1e5)])return;this[_0x923054(0x1e5)]=new _0x4e3d21(this[_0x923054(0x203)][_0x923054(0x1e2)]);const _0x3d9f37=this[_0x923054(0x203)][_0x923054(0x1fb)][_0x923054(0x1e1)](_0x923054(0x1fc));this[_0x923054(0x1e5)][_0x923054(0x1f4)][_0x923054(0x1d0)](this[_0x923054(0x208)])[_0x923054(0x202)](_0xc4dcb9=>{const _0x55a96c=_0x923054;if(!_0x3d9f37[_0x55a96c(0x1ef)]&&_0xc4dcb9[_0x55a96c(0x1fa)])return null;const _0x312c3a=new _0x286499(this[_0x55a96c(0x203)][_0x55a96c(0x1e2)],_0xc4dcb9,!!_0x3d9f37[_0x55a96c(0x205)]);return _0x3d9f37[_0x55a96c(0x205)]&&this[_0x55a96c(0x20c)](_0x312c3a,_0x55a96c(0x1ca),()=>{const _0x3fd94f=_0x55a96c;_0x3d9f37[_0x3fd94f(0x205)](_0xc4dcb9,_0x312c3a[_0x3fd94f(0x1d4)]);}),_0x312c3a;}),this[_0x923054(0x1e3)][_0x923054(0x1f3)][_0x923054(0x1e6)](this[_0x923054(0x1e5)]),this[_0x923054(0x1e3)][_0x923054(0x1f6)]({'target':this[_0x923054(0x20d)][_0x923054(0x1d1)][_0x923054(0x1d4)]});}[_0x30a408(0x1f7)](){const _0x5c441a=_0x30a408;this[_0x5c441a(0x1e5)]&&(this[_0x5c441a(0x1e3)][_0x5c441a(0x1d5)](),this[_0x5c441a(0x1e3)][_0x5c441a(0x1f3)][_0x5c441a(0x1c8)](this[_0x5c441a(0x1e5)]),this[_0x5c441a(0x1e5)][_0x5c441a(0x20b)](),this[_0x5c441a(0x1e5)]=void 0x0);}[_0x30a408(0x20b)](){const _0x277392=_0x30a408;super[_0x277392(0x20b)](),this[_0x277392(0x20d)]&&this[_0x277392(0x20d)][_0x277392(0x1cd)]&&this[_0x277392(0x20d)][_0x277392(0x20b)](),this[_0x277392(0x1d9)]&&this[_0x277392(0x1d9)][_0x277392(0x1d2)]();}}
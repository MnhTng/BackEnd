/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x51f8d2=_0x555e;(function(_0x44a52a,_0x3d80f9){const _0x4d155e=_0x555e,_0x5d7cdc=_0x44a52a();while(!![]){try{const _0x596b77=-parseInt(_0x4d155e(0x1fe))/0x1*(parseInt(_0x4d155e(0x1fc))/0x2)+-parseInt(_0x4d155e(0x1e1))/0x3+-parseInt(_0x4d155e(0x1ee))/0x4+parseInt(_0x4d155e(0x1ef))/0x5+parseInt(_0x4d155e(0x225))/0x6+-parseInt(_0x4d155e(0x1d2))/0x7+parseInt(_0x4d155e(0x1d7))/0x8;if(_0x596b77===_0x3d80f9)break;else _0x5d7cdc['push'](_0x5d7cdc['shift']());}catch(_0x18c64d){_0x5d7cdc['push'](_0x5d7cdc['shift']());}}}(_0x340b,0x61328));function _0x555e(_0x508161,_0x35c50b){const _0x340b40=_0x340b();return _0x555e=function(_0x555e1b,_0x324f58){_0x555e1b=_0x555e1b-0x1b9;let _0x37e82c=_0x340b40[_0x555e1b];return _0x37e82c;},_0x555e(_0x508161,_0x35c50b);}import{Plugin as _0x32340a}from'ckeditor5/src/core.js';import{version as _0xe1282c}from'ckeditor5/src/utils.js';import{Users as _0x40b141}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x38cefb from'../realtimecollaborativeediting/realtimecollaborationclient.js';function _0x340b(){const _0x327102=['getUser','collaboration.channelId','map','_getLatestVersionFromServerOperations','_lastRequestId','165138PpLqFq','_oldOffset','2YzYQBz','addUser','marker','_bufferedUpdates','catch','creatorId','_handleRevisionsUpdate','setRevisionData','isConnected','_handleReconnectionError','requires','createdAt','change:_isPendingUpdate','sessionId','change:_isConnected','_fetchMissingUsers','getRevision','_preventResendingRevisionData','listenTo','init','remove','from','repository','connected','add','buildRevisionData','getMany','cloudServices.bundleVersion','data','_update','serverHistory','addToReconnectionStack','off','_waitForServiceReady','updateRevisions','once','isBundleUploaded','type','cloud-services-internal-error:\x20Not\x20connected.','1195590lKtfKX','reconnect','getRevisions','_createCurrentRevision','RevisionTracker','connection','getOperations','state','get','_isPendingUpdate','addRevisionData','message','startsWith','size','currentRevision','CONNECTED','reInit','plugins','_startingVersion','isEnabled','authors','keys','diffData','toVersion','code','400','4402902XQbbHx','isEmptyCurrent','baseVersion','fromVersion','wrongRequestId','11489816dmNtxY','bind','connect','cloud-services-internal-error:\x20Request\x20timeout.','_getLatestVersion','setSource','_fixRevision','revisionsUpdated','_bufferUpdate','config','347277tGCQIT','_isConnected','length','destroy','_revisionDataBuilder','_revisionTracker','reverse','RevisionHistoryService','then','affectsData','_offset','_revisions','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','2243628fFyZBw','1167090BsPvNH','adapter','_revisionHistoryService','max','sendBufferedUpdates','editor','has','authorsIds'];_0x340b=function(){return _0x327102;};return _0x340b();}import _0xc1097e from'../realtimecollaborativeediting/websocketgateway.js';import _0x42945b from'../realtimecollaborativeediting/sessions.js';import{EditorService as _0x44a35b,RevisionHistoryService as _0x20ed56,User as _0x402009,WEB_SOCKET_GATEWAY_STATES as _0x1924d9}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class v extends _0x32340a{static get[_0x51f8d2(0x208)](){const _0x3b61d0=_0x51f8d2;return[_0xc1097e,_0x38cefb,_0x3b61d0(0x1bc),_0x42945b,_0x40b141];}constructor(_0x3d0e8e){const _0x3875a1=_0x51f8d2;super(_0x3d0e8e);const _0x1733fa=this[_0x3875a1(0x1f4)][_0x3875a1(0x1e0)][_0x3875a1(0x1c0)](_0x3875a1(0x1f8));this[_0x3875a1(0x1fb)]=null,this[_0x3875a1(0x1e6)]=this[_0x3875a1(0x1f4)][_0x3875a1(0x1c9)][_0x3875a1(0x1c0)](_0x3875a1(0x1bc)),this[_0x3875a1(0x1f1)]=new v[(_0x3875a1(0x1e8))](_0x1733fa);}async[_0x51f8d2(0x211)](){const _0x4741e3=_0x51f8d2,_0x529bf4=this[_0x4741e3(0x1f4)][_0x4741e3(0x1c9)][_0x4741e3(0x1c0)](_0x38cefb),_0xe9889e=_0x529bf4[_0x4741e3(0x21c)],_0x31e156=this[_0x4741e3(0x1f4)][_0x4741e3(0x1c9)][_0x4741e3(0x1c0)](_0xc1097e);this[_0x4741e3(0x1e6)][_0x4741e3(0x1dc)]({'history':_0xe9889e,'getLatestVersion':()=>this[_0x4741e3(0x1db)](),'getCurrentRevisionId':()=>_0x529bf4[_0x4741e3(0x20b)]});const _0x5a8d9b=this[_0x4741e3(0x1f4)][_0x4741e3(0x1e0)][_0x4741e3(0x1c0)](_0x4741e3(0x219))||_0xe1282c,_0x5c5817=await _0x44a35b[_0x4741e3(0x222)](_0x31e156[_0x4741e3(0x1bd)],_0x5a8d9b);this[_0x4741e3(0x1e6)][_0x4741e3(0x1f0)]={'getRevision':async({revisionId:_0x1cc537})=>(await this[_0x4741e3(0x21f)](),await this[_0x4741e3(0x1f1)][_0x4741e3(0x20e)](_0x1cc537)),'updateRevisions':async _0x304df1=>{const _0x3d4582=_0x4741e3;await this[_0x3d4582(0x21f)]();const _0x1d6167=this[_0x3d4582(0x1e6)][_0x3d4582(0x1c6)];if(_0x5c5817&&0x1===_0x304df1[_0x3d4582(0x1e3)]&&_0x304df1[0x0]['id']===_0x1d6167['id'])return _0x304df1;for(const _0x478714 of _0x304df1)_0x478714['id']===_0x1d6167['id']&&(_0x478714[_0x3d4582(0x1d3)]=_0x478714[_0x3d4582(0x1d5)]===_0x478714[_0x3d4582(0x1cf)]);return this[_0x3d4582(0x1f1)][_0x3d4582(0x220)](_0x304df1,this[_0x3d4582(0x1fb)])[_0x3d4582(0x1e9)](_0xc73d5e=>(this[_0x3d4582(0x1fb)]=_0xc73d5e,_0x304df1))[_0x3d4582(0x202)](_0x102445=>{const _0x4ce40d=_0x3d4582;if(st(_0x102445)||_0x4ce40d(0x1d1)===_0x102445[_0x4ce40d(0x1d0)]&&void 0x0!==_0x102445[_0x4ce40d(0x21a)][_0x4ce40d(0x1d6)]){for(const _0x29a49c of _0x304df1){!this[_0x4ce40d(0x1e6)][_0x4ce40d(0x214)][_0x4ce40d(0x20e)](_0x29a49c['id'])||this[_0x4ce40d(0x1e6)][_0x4ce40d(0x1df)](_0x29a49c['id'],_0x29a49c,!0x1);}if(st(_0x102445))throw _0x102445;return _0x304df1;}throw _0x102445;});}},this[_0x4741e3(0x210)](this[_0x4741e3(0x1f1)],_0x4741e3(0x1de),(_0x34edc4,{revisionsData:_0x46f12b,requestId:_0x2f26d7})=>{const _0x211981=_0x4741e3;Math[_0x211981(0x1f2)](..._0x46f12b[_0x211981(0x1f9)](_0x333a1f=>_0x333a1f[_0x211981(0x1cf)]))>this[_0x211981(0x1fa)]()-0x1?this[_0x211981(0x1db)]()[_0x211981(0x1e9)](()=>{const _0x49d3b4=_0x211981;this[_0x49d3b4(0x204)](_0x46f12b,_0x2f26d7);}):this[_0x211981(0x204)](_0x46f12b,_0x2f26d7);});const {revisions:_0x55a385,requestId:_0x52a236}=await this[_0x4741e3(0x1f1)][_0x4741e3(0x1d9)](_0x31e156[_0x4741e3(0x1bd)]);_0x31e156[_0x4741e3(0x21d)](this),this[_0x4741e3(0x1fb)]=_0x52a236,await this[_0x4741e3(0x20d)](_0x55a385);for(const _0x4b6cc9 of _0x55a385)this[_0x4741e3(0x1e6)][_0x4741e3(0x1c2)](_0x4b6cc9);this[_0x4741e3(0x210)](_0x529bf4,_0x4741e3(0x20c),(_0x1bb0a3,_0x1a3f8c,_0x4f26f9)=>{const _0x2746ee=_0x4741e3;_0x4f26f9&&(this[_0x2746ee(0x1fd)]=_0x529bf4[_0x2746ee(0x1eb)],_0x1bb0a3[_0x2746ee(0x21e)]());}),this[_0x4741e3(0x1e6)][_0x4741e3(0x1d8)](_0x4741e3(0x1cb))['to'](_0x31e156,_0x4741e3(0x1bf),_0x567ddf=>_0x567ddf===_0x1924d9[_0x4741e3(0x1c7)]);}async[_0x51f8d2(0x1b9)](){const _0x4b1758=_0x51f8d2,_0x389d56=this[_0x4b1758(0x1f4)][_0x4b1758(0x1c9)][_0x4b1758(0x1c0)](_0xc1097e),_0x8302ae=this[_0x4b1758(0x1f4)][_0x4b1758(0x1c9)][_0x4b1758(0x1c0)](_0x38cefb),_0x1afc4d=async()=>{const _0x956cf7=_0x4b1758,_0x5a388e=this[_0x956cf7(0x1e6)][_0x956cf7(0x1c6)],_0x153c06=_0x5a388e['id'],_0x2382d7=_0x153c06!==_0x8302ae[_0x956cf7(0x20b)];if(_0x2382d7){const _0x49485c=_0x8302ae[_0x956cf7(0x1eb)]-this[_0x956cf7(0x1fd)],_0x5bdb46=this[_0x956cf7(0x1fa)]();this[_0x956cf7(0x1e6)][_0x956cf7(0x1e5)][_0x956cf7(0x1c8)]();if(_0x5a388e[_0x956cf7(0x1cf)]+_0x49485c!==_0x5bdb46){const _0x1dccd0=_0x5a388e[_0x956cf7(0x1d5)]+_0x49485c,_0x5db5b5=this[_0x956cf7(0x1f4)][_0x956cf7(0x1c9)][_0x956cf7(0x1c0)](_0x40b141),_0x42f578=this[_0x956cf7(0x1e6)][_0x956cf7(0x217)]({'revision':_0x5a388e,'from':_0x1dccd0,'to':_0x5bdb46});_0x42f578['id']=_0x5a388e['id'];const _0x4911cf=_0x42f578[_0x956cf7(0x1f6)][_0x956cf7(0x1f9)](_0x152fb7=>_0x5db5b5[_0x956cf7(0x1f7)](_0x152fb7));_0x5a388e[_0x956cf7(0x21b)]({..._0x42f578,'authors':_0x4911cf},!0x0),this[_0x956cf7(0x1e6)][_0x956cf7(0x1df)](_0x5a388e['id'],_0x42f578,!0x0);}this[_0x956cf7(0x1e6)][_0x956cf7(0x1ca)]=_0x5bdb46,(_0x5a388e[_0x956cf7(0x1cf)]===_0x5a388e[_0x956cf7(0x1d5)]&&!this[_0x956cf7(0x1e6)][_0x956cf7(0x201)][_0x956cf7(0x1f5)](_0x153c06)&&this[_0x956cf7(0x1e6)][_0x956cf7(0x214)][_0x956cf7(0x1ec)][_0x956cf7(0x212)](_0x153c06),this[_0x956cf7(0x1e6)][_0x956cf7(0x1bb)](_0x5bdb46));}const {revisions:_0x5781c3,requestId:_0x1129ec}=await this[_0x956cf7(0x1f1)][_0x956cf7(0x1b9)](_0x389d56[_0x956cf7(0x1bd)],this[_0x956cf7(0x1fb)]);_0x2382d7&&_0x5781c3[_0x956cf7(0x1e3)]>0x0?_0x8302ae[_0x956cf7(0x207)]():(await this[_0x956cf7(0x20d)](_0x5781c3),this[_0x956cf7(0x204)](_0x5781c3,_0x1129ec),this[_0x956cf7(0x1e6)][_0x956cf7(0x1f3)]());};return _0x8302ae[_0x4b1758(0x1e2)]?_0x1afc4d():new Promise((_0x4c0e00,_0x3ac5d0)=>{const _0x1916e8=_0x4b1758;_0x8302ae[_0x1916e8(0x221)](_0x1916e8(0x20c),()=>{const _0x388dfe=_0x1916e8;_0x1afc4d()[_0x388dfe(0x1e9)](_0x4c0e00)[_0x388dfe(0x202)](_0x3ac5d0);});});}[_0x51f8d2(0x1e4)](){const _0x21622f=_0x51f8d2;super[_0x21622f(0x1e4)]();}async[_0x51f8d2(0x21f)](){const _0x569787=_0x51f8d2;this[_0x569787(0x1f1)][_0x569787(0x206)]||await new Promise(_0x60c730=>{const _0x184cff=_0x569787;this[_0x184cff(0x210)](this[_0x184cff(0x1f1)],_0x184cff(0x215),_0x3d07db=>{const _0x23e8c7=_0x184cff;_0x3d07db[_0x23e8c7(0x21e)](),_0x60c730();});});}[_0x51f8d2(0x1fa)](){const _0x6f80dd=_0x51f8d2,_0x292866=this[_0x6f80dd(0x1f4)][_0x6f80dd(0x1c9)][_0x6f80dd(0x1c0)](_0x38cefb)[_0x6f80dd(0x21c)][_0x6f80dd(0x1be)]()[_0x6f80dd(0x1e7)]();for(const _0x503a12 of _0x292866)if(_0x6f80dd(0x200)!==_0x503a12[_0x6f80dd(0x223)]||_0x503a12[_0x6f80dd(0x1ea)])return _0x503a12[_0x6f80dd(0x1d4)]+0x1;}[_0x51f8d2(0x1db)](){const _0x5745b7=_0x51f8d2,_0x4ed6b3=this[_0x5745b7(0x1f4)][_0x5745b7(0x1c9)][_0x5745b7(0x1c0)](_0x38cefb);return new Promise(_0x13932a=>{const _0x44ac0c=_0x5745b7;_0x4ed6b3[_0x44ac0c(0x1c1)]?_0x4ed6b3[_0x44ac0c(0x221)](_0x44ac0c(0x20a),()=>{const _0xf3e0d3=_0x44ac0c;_0x13932a(this[_0xf3e0d3(0x1fa)]());}):_0x13932a(this[_0x44ac0c(0x1fa)]());});}[_0x51f8d2(0x204)](_0x32e45b,_0x1b8096){const _0x1f8fe2=_0x51f8d2,_0x214fed=this[_0x1f8fe2(0x1e6)][_0x1f8fe2(0x214)];this[_0x1f8fe2(0x1fb)]=_0x1b8096;for(const _0x140bb4 of _0x32e45b){const _0x5b71ca=_0x214fed[_0x1f8fe2(0x20e)](_0x140bb4['id']);if(_0x5b71ca){if((_0x140bb4[_0x1f8fe2(0x1d5)]||_0x140bb4[_0x1f8fe2(0x1cf)])&&(_0x140bb4[_0x1f8fe2(0x1ce)]=null),_0x5b71ca===this[_0x1f8fe2(0x1e6)][_0x1f8fe2(0x1c6)]){const _0x55b6ce=Math[_0x1f8fe2(0x1f2)](_0x5b71ca[_0x1f8fe2(0x1cf)],_0x140bb4[_0x1f8fe2(0x1cf)]),_0x5b7272=Math[_0x1f8fe2(0x1f2)](_0x5b71ca[_0x1f8fe2(0x1d5)],_0x140bb4[_0x1f8fe2(0x1d5)]);let _0x573848;_0x5b71ca[_0x1f8fe2(0x1cf)]===_0x140bb4[_0x1f8fe2(0x1cf)]&&_0x5b71ca[_0x1f8fe2(0x1d5)]===_0x140bb4[_0x1f8fe2(0x1d5)]?(_0x573848=!0x0,this[_0x1f8fe2(0x20f)](_0x140bb4)):_0x140bb4[_0x1f8fe2(0x1cf)]===_0x55b6ce&&_0x140bb4[_0x1f8fe2(0x1d5)]===_0x5b7272?_0x573848=!0x1:(_0x5b71ca[_0x1f8fe2(0x1cf)]===_0x55b6ce&&_0x5b71ca[_0x1f8fe2(0x1d5)]===_0x5b7272||this[_0x1f8fe2(0x1dd)]({'revision':_0x5b71ca,'from':_0x5b7272,'to':_0x55b6ce}),_0x573848=!0x0),_0x573848&&(delete _0x140bb4[_0x1f8fe2(0x1d5)],delete _0x140bb4[_0x1f8fe2(0x1cf)],delete _0x140bb4[_0x1f8fe2(0x1ce)],delete _0x140bb4[_0x1f8fe2(0x209)],delete _0x140bb4[_0x1f8fe2(0x1f6)]);}this[_0x1f8fe2(0x1e6)][_0x1f8fe2(0x205)](_0x140bb4),this[_0x1f8fe2(0x20f)](_0x140bb4);}else this[_0x1f8fe2(0x1e6)][_0x1f8fe2(0x1c2)](_0x140bb4);}const _0xb4b8d7=_0x214fed[_0x1f8fe2(0x1ba)]();_0xb4b8d7[_0x1f8fe2(0x1e7)]();for(let _0x47e430=0x0;_0x47e430<_0xb4b8d7[_0x1f8fe2(0x1e3)]-0x1;_0x47e430++){const _0x2d23b6=_0xb4b8d7[_0x47e430],_0x2514e5=_0xb4b8d7[_0x47e430+0x1];if(_0x2d23b6[_0x1f8fe2(0x1d5)]<_0x2514e5[_0x1f8fe2(0x1cf)]){const _0x398f29=_0x2514e5[_0x1f8fe2(0x1cf)],_0xc7b86b=Math[_0x1f8fe2(0x1f2)](_0x398f29,_0x2d23b6[_0x1f8fe2(0x1cf)]);this[_0x1f8fe2(0x1dd)]({'revision':_0x2d23b6,'from':_0x398f29,'to':_0xc7b86b});}}}[_0x51f8d2(0x1dd)]({revision:_0xd5cce9,from:_0x4c0c33,to:_0x1f9d1d}={}){const _0x5d59dc=_0x51f8d2,_0x654222=this[_0x5d59dc(0x1f4)][_0x5d59dc(0x1c9)][_0x5d59dc(0x1c0)](_0x40b141),_0x122ae5=this[_0x5d59dc(0x1e6)][_0x5d59dc(0x217)]({'revision':_0xd5cce9,'from':_0x4c0c33,'to':_0x1f9d1d});_0x122ae5[_0x5d59dc(0x1cc)]=_0x122ae5[_0x5d59dc(0x1f6)][_0x5d59dc(0x1f9)](_0x5da721=>_0x654222[_0x5d59dc(0x1f7)](_0x5da721)),_0xd5cce9[_0x5d59dc(0x21b)](_0x122ae5);}[_0x51f8d2(0x20f)](_0x12851f){const _0x30cdf5=_0x51f8d2,_0x48d3a0={};_0x48d3a0['id']=_0x12851f['id'];for(const _0x467d2d of Object[_0x30cdf5(0x1cd)](_0x12851f))'id'!==_0x467d2d&&(_0x48d3a0[_0x467d2d]=void 0x0);this[_0x30cdf5(0x1e6)][_0x30cdf5(0x1df)](_0x48d3a0['id'],_0x48d3a0,!0x0);}async[_0x51f8d2(0x20d)](_0x1ea6d4){const _0x36128c=_0x51f8d2,_0x202d0a=this[_0x36128c(0x1f4)][_0x36128c(0x1c9)][_0x36128c(0x1c0)](_0x40b141),{connection:_0x5aa251}=this[_0x36128c(0x1f4)][_0x36128c(0x1c9)][_0x36128c(0x1c0)](_0xc1097e),_0x4efc52=new Set();for(const _0x3d81c7 of _0x1ea6d4){for(const _0x4e231e of _0x3d81c7[_0x36128c(0x1f6)])_0x1da76c(_0x4e231e);_0x3d81c7[_0x36128c(0x203)]&&_0x1da76c(_0x3d81c7[_0x36128c(0x203)]);}if(0x0===_0x4efc52[_0x36128c(0x1c5)])return;const _0x2f9e84=await _0x402009[_0x36128c(0x218)](_0x5aa251,Array[_0x36128c(0x213)](_0x4efc52));for(const _0x3915c0 of _0x2f9e84)_0x202d0a[_0x36128c(0x1f7)](_0x3915c0['id'])||_0x202d0a[_0x36128c(0x1ff)](_0x3915c0);function _0x1da76c(_0x1c35d7){const _0x15da49=_0x36128c;_0x202d0a[_0x15da49(0x1f7)](_0x1c35d7)||_0x4efc52[_0x15da49(0x216)](_0x1c35d7);}}}v[_0x51f8d2(0x1e8)]=_0x20ed56;export default v;function st(_0xd92cf4){const _0x577ef7=_0x51f8d2;return _0xd92cf4[_0x577ef7(0x1c3)][_0x577ef7(0x1c4)](_0x577ef7(0x1ed))||_0xd92cf4[_0x577ef7(0x1c3)][_0x577ef7(0x1c4)](_0x577ef7(0x224))||_0xd92cf4[_0x577ef7(0x1c3)][_0x577ef7(0x1c4)](_0x577ef7(0x1da));}
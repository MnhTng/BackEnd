/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2ddc7a=_0x43ad;(function(_0x43affa,_0x1e5ea6){const _0x460892=_0x43ad,_0x228f50=_0x43affa();while(!![]){try{const _0x37f93f=-parseInt(_0x460892(0xe7))/0x1*(-parseInt(_0x460892(0x111))/0x2)+parseInt(_0x460892(0xe2))/0x3*(-parseInt(_0x460892(0x104))/0x4)+-parseInt(_0x460892(0xdf))/0x5*(parseInt(_0x460892(0xe0))/0x6)+parseInt(_0x460892(0xf8))/0x7*(parseInt(_0x460892(0x103))/0x8)+parseInt(_0x460892(0x113))/0x9+-parseInt(_0x460892(0xe9))/0xa+parseInt(_0x460892(0xf2))/0xb*(parseInt(_0x460892(0x112))/0xc);if(_0x37f93f===_0x1e5ea6)break;else _0x228f50['push'](_0x228f50['shift']());}catch(_0x13c421){_0x228f50['push'](_0x228f50['shift']());}}}(_0x5317,0xc50be));function _0x43ad(_0x4d3da2,_0x2446b0){const _0x531779=_0x5317();return _0x43ad=function(_0x43adce,_0x2cbf2e){_0x43adce=_0x43adce-0xd6;let _0x5989c4=_0x531779[_0x43adce];return _0x5989c4;},_0x43ad(_0x4d3da2,_0x2446b0);}import{ContextPlugin as _0x2945f1}from'ckeditor5/src/core.js';import{Collection as _0x420c14,CKEditorError as _0x28015d}from'ckeditor5/src/utils.js';import _0x3091e1 from'./websocketgateway.js';import{Users as _0xfffecb}from'ckeditor5-collaboration/src/collaboration-core.js';export default class r extends _0x2945f1{static get[_0x2ddc7a(0xf5)](){const _0x3916c4=_0x2ddc7a;return _0x3916c4(0x102);}static get[_0x2ddc7a(0xe8)](){return[_0x3091e1,_0xfffecb];}constructor(_0x4ebf84){const _0x25aa56=_0x2ddc7a;super(_0x4ebf84),this[_0x25aa56(0xfa)]=new Map(),this[_0x25aa56(0x10c)]=new Map(),this[_0x25aa56(0xdc)]=new _0x420c14(),this[_0x25aa56(0xec)]=new Map(),this[_0x25aa56(0xe5)]=0x0,this[_0x25aa56(0x106)]=this[_0x25aa56(0xdb)][_0x25aa56(0xea)][_0x25aa56(0x109)](_0xfffecb);}[_0x2ddc7a(0xfb)](){const _0x3d5275=_0x2ddc7a,_0x2cccd6=this[_0x3d5275(0xdb)][_0x3d5275(0xea)][_0x3d5275(0x109)](_0x3091e1);this[_0x3d5275(0x10e)](_0x2cccd6,_0x3d5275(0xf6),(_0x52a79b,_0x21ed07,_0x8a4935)=>{const _0x377e70=_0x3d5275;if(_0x377e70(0x100)!==_0x8a4935)this[_0x377e70(0xfa)][_0x377e70(0x10f)](_0x1de318=>_0x1de318[_0x377e70(0x107)]()),this[_0x377e70(0x10c)][_0x377e70(0x10f)](_0x5f3a86=>_0x5f3a86[_0x377e70(0x107)]()),this[_0x377e70(0xdc)][_0x377e70(0x107)]();else{for(const [_0x365c4e,_0x4f2000]of this[_0x377e70(0xec)])for(const _0x471fb0 of _0x4f2000)this[_0x377e70(0xfc)](_0x365c4e,_0x471fb0);}}),this[_0x3d5275(0xf3)](_0x2cccd6[_0x3d5275(0xf9)]['me'],!0x0);}[_0x2ddc7a(0xd9)](_0x5ce0bd,_0x47dfa0){const _0x287fd3=_0x2ddc7a;if(this[_0x287fd3(0xec)][_0x287fd3(0x10b)](_0x5ce0bd))throw new _0x28015d(_0x287fd3(0xf7),null,{'channelId':_0x5ce0bd});this[_0x287fd3(0xec)][_0x287fd3(0xf0)](_0x5ce0bd,_0x47dfa0),this[_0x287fd3(0xfa)][_0x287fd3(0xf0)](_0x5ce0bd,new _0x420c14()),this[_0x287fd3(0x10c)][_0x287fd3(0xf0)](_0x5ce0bd,new _0x420c14()),this[_0x287fd3(0x10e)](_0x47dfa0,_0x287fd3(0xe1),(_0x12af2f,_0x4329c3)=>this[_0x287fd3(0xfc)](_0x5ce0bd,_0x4329c3)),this[_0x287fd3(0x10e)](_0x47dfa0,_0x287fd3(0xda),(_0x294510,_0x521fc1)=>this[_0x287fd3(0xfd)](_0x5ce0bd,_0x521fc1));for(const _0x468034 of _0x47dfa0)this[_0x287fd3(0xfc)](_0x5ce0bd,_0x468034);}[_0x2ddc7a(0x10a)](_0x1baf28){const _0x49b140=_0x2ddc7a;if(!this[_0x49b140(0xec)][_0x49b140(0x10b)](_0x1baf28))throw new _0x28015d(_0x49b140(0xe4),null,{'channelId':_0x1baf28});const _0x501a4b=this[_0x49b140(0xec)][_0x49b140(0x109)](_0x1baf28);this[_0x49b140(0xed)](_0x501a4b);for(const _0xdc2b0d of _0x501a4b)_0x49b140(0x100)===this[_0x49b140(0xdb)][_0x49b140(0xea)][_0x49b140(0x109)](_0x3091e1)[_0x49b140(0xfe)]&&this[_0x49b140(0xfd)](_0x1baf28,_0xdc2b0d);this[_0x49b140(0xec)][_0x49b140(0x108)](_0x1baf28),this[_0x49b140(0xfa)][_0x49b140(0x108)](_0x1baf28),this[_0x49b140(0x10c)][_0x49b140(0x108)](_0x1baf28);}get[_0x2ddc7a(0xeb)](){const _0x1d88ea=_0x2ddc7a;return this[_0x1d88ea(0xdb)][_0x1d88ea(0xea)][_0x1d88ea(0x109)](_0x3091e1)[_0x1d88ea(0xf9)][_0x1d88ea(0xf4)];}[_0x2ddc7a(0x105)](_0x60e35){const _0x4da183=_0x2ddc7a;for(const _0x320981 of this[_0x4da183(0xfa)][_0x4da183(0xef)]())for(const _0xd6fa58 of _0x320981)if(_0xd6fa58['id']===_0x60e35)return _0xd6fa58[_0x4da183(0x110)];}[_0x2ddc7a(0x101)](_0x6257e2,_0xfc19c3){const _0x44115c=_0x2ddc7a,_0x401de6=_0xfc19c3?[this[_0x44115c(0xfa)][_0x44115c(0x109)](_0xfc19c3)]:this[_0x44115c(0xfa)][_0x44115c(0xef)](),_0x74d241=new Set();for(const _0x5130cb of _0x401de6)for(const _0x35f09b of _0x5130cb)_0x35f09b[_0x44115c(0x110)]['id']===_0x6257e2['id']&&_0x74d241[_0x44115c(0xe1)](_0x35f09b['id']);return _0x74d241;}[_0x2ddc7a(0xdd)](_0x33616f){const _0xd58d7b=_0x2ddc7a;for(const _0x7d9e3b of this[_0xd58d7b(0xfa)][_0xd58d7b(0xef)]())for(const _0x4108d6 of _0x7d9e3b)if(_0x4108d6[_0xd58d7b(0x110)]===_0x33616f)return _0x4108d6[_0xd58d7b(0xee)];}[_0x2ddc7a(0xfc)](_0x30b382,_0x51ad06){const _0x4d8993=_0x2ddc7a;if(_0x4d8993(0x100)!==this[_0x4d8993(0xdb)][_0x4d8993(0xea)][_0x4d8993(0x109)](_0x3091e1)[_0x4d8993(0xfe)])return;const _0x33f01f=_0x51ad06[_0x4d8993(0x110)],_0x854362=this[_0x4d8993(0x106)][_0x4d8993(0xd6)](_0x33f01f['id'])||this[_0x4d8993(0xf3)](_0x33f01f),_0x1af45c=Object[_0x4d8993(0xd8)]({},_0x51ad06,{'user':_0x854362});this[_0x4d8993(0xfa)][_0x4d8993(0x109)](_0x30b382)[_0x4d8993(0xe1)](_0x1af45c);const _0xce16c5=this[_0x4d8993(0x10c)][_0x4d8993(0x109)](_0x30b382);_0xce16c5[_0x4d8993(0x10b)](_0x854362['id'])||_0xce16c5[_0x4d8993(0xe1)](_0x854362),this[_0x4d8993(0xdc)][_0x4d8993(0x10b)](_0x854362['id'])||this[_0x4d8993(0xdc)][_0x4d8993(0xe1)](_0x854362,_0x854362[_0x4d8993(0xe6)]?0x0:void 0x0),this[_0x4d8993(0xd7)](_0x4d8993(0xff)+_0x30b382,{'channelId':_0x30b382,'session':_0x1af45c});}[_0x2ddc7a(0xfd)](_0xa83717,_0x57ec0e){const _0x7774b3=_0x2ddc7a;if(_0x7774b3(0x100)!==this[_0x7774b3(0xdb)][_0x7774b3(0xea)][_0x7774b3(0x109)](_0x3091e1)[_0x7774b3(0xfe)])return;const _0x45e259=this[_0x7774b3(0x10c)][_0x7774b3(0x109)](_0xa83717),_0x4263e6=_0x57ec0e[_0x7774b3(0x110)];_0x4263e6['id']&&(this[_0x7774b3(0xfa)][_0x7774b3(0x109)](_0xa83717)[_0x7774b3(0xda)](_0x57ec0e['id']),_0x45e259[_0x7774b3(0x10b)](_0x4263e6['id'])&&!this[_0x7774b3(0x101)](_0x4263e6,_0xa83717)[_0x7774b3(0xde)]&&_0x45e259[_0x7774b3(0xda)](_0x4263e6['id']),this[_0x7774b3(0xdc)][_0x7774b3(0x109)](_0x4263e6['id'])&&!this[_0x7774b3(0x101)](_0x4263e6)[_0x7774b3(0xde)]&&this[_0x7774b3(0xdc)][_0x7774b3(0xda)](_0x4263e6['id']));}[_0x2ddc7a(0xf3)](_0x1c4925,_0x2ebb8b){const _0x318163=_0x2ddc7a,_0x102736=this[_0x318163(0x106)][_0x318163(0x10d)](_0x1c4925);return _0x2ebb8b&&this[_0x318163(0x106)][_0x318163(0xf1)](_0x1c4925['id']),_0x102736[_0x318163(0xe3)]=this[_0x318163(0xe5)]++,_0x102736;}}function _0x5317(){const _0x4d9faf=['100875RSnVtt','orderNumber','sessions-unregister-not-exist','_uniqueUsersCount','isMe','16451VsJILW','requires','3965930WzaIqt','plugins','mySessionId','_registeredSessions','stopListening','role','values','set','defineMe','1496ULKZXj','_createUser','sessionId','pluginName','change:state','sessions-register-already-registered','7TQyOhn','connection','channelSessions','init','_handleSessionAdd','_handleSessionRemove','state','sessionAdd:','connected','getUserSessions','Sessions','12672992TTxEyv','188MwkxsQ','getUserBySessionId','_users','clear','delete','get','unregister','has','channelConnectedUsers','addUser','listenTo','forEach','user','80UYUGQu','34416KNRdtw','3073410AoNeEt','getUser','fire','assign','register','remove','context','allConnectedUsers','getUserRole','size','320VuSeMN','17778zHNgZw','add'];_0x5317=function(){return _0x4d9faf;};return _0x5317();}
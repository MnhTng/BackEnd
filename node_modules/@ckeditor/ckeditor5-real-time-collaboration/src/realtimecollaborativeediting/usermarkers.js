/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1a01b5=_0x2e91;(function(_0x57abd1,_0x34b236){const _0x2b78fc=_0x2e91,_0x2fc2ce=_0x57abd1();while(!![]){try{const _0x366421=-parseInt(_0x2b78fc(0x182))/0x1*(parseInt(_0x2b78fc(0x144))/0x2)+parseInt(_0x2b78fc(0x184))/0x3+-parseInt(_0x2b78fc(0x137))/0x4+parseInt(_0x2b78fc(0x188))/0x5*(-parseInt(_0x2b78fc(0x164))/0x6)+parseInt(_0x2b78fc(0x146))/0x7*(parseInt(_0x2b78fc(0x187))/0x8)+parseInt(_0x2b78fc(0x19e))/0x9*(-parseInt(_0x2b78fc(0x125))/0xa)+parseInt(_0x2b78fc(0x16b))/0xb*(parseInt(_0x2b78fc(0x190))/0xc);if(_0x366421===_0x34b236)break;else _0x2fc2ce['push'](_0x2fc2ce['shift']());}catch(_0x212187){_0x2fc2ce['push'](_0x2fc2ce['shift']());}}}(_0x15cb,0xdba18));import{Plugin as _0x55bea6}from'ckeditor5/src/core.js';import{global as _0x1a162e,DomEmitterMixin as _0x221c2f}from'ckeditor5/src/utils.js';import _0x49c474 from'./sessions.js';import{LiveRange as _0x4f04d1}from'ckeditor5/src/engine.js';import'../../theme/usermarkers.css';export default class H extends _0x55bea6{constructor(){const _0x16f967=_0x2e91;super(...arguments),this[_0x16f967(0x130)]=new(_0x221c2f())();}static get[_0x1a01b5(0x12c)](){return[_0x49c474];}static get[_0x1a01b5(0x17a)](){const _0x1e3e38=_0x1a01b5;return _0x1e3e38(0x14a);}[_0x1a01b5(0x1a0)](){const _0x2699c8=_0x1a01b5,_0x16726d=this[_0x2699c8(0x176)],_0x52afe3=_0x16726d[_0x2699c8(0x18c)][_0x2699c8(0x151)](_0x49c474);_0x16726d[_0x2699c8(0x169)][_0x2699c8(0x124)](_0x2699c8(0x15d))[_0x2699c8(0x185)]({'model':_0x2699c8(0x13f),'view':(_0xeb7830,{writer:_0xb581cd})=>function(_0xabba67,_0x5f39b1,_0x1e8255,_0x44dec1){const _0x962da7=_0x2699c8,_0x43651e=_0xabba67[_0x962da7(0x12e)][_0x962da7(0x18e)](':')[0x2],_0x43dd84=_0x1e8255[_0x962da7(0x159)](_0x43651e);if(!_0x43dd84||_0x43651e===_0x1e8255[_0x962da7(0x172)])return;if(!_0x44dec1[_0x962da7(0x14c)][_0x962da7(0x189)][_0x962da7(0x17d)](_0xabba67[_0x962da7(0x196)][_0x962da7(0x153)],_0x962da7(0x14b)))return;const _0x50119b={'class':_0x962da7(0x129)+_0x43dd84[_0x962da7(0x158)][_0x962da7(0x15e)](),'data-name':_0x43dd84[_0x962da7(0x161)],'data-session-id':_0x43651e},_0x333895=_0x44dec1[_0x962da7(0x14c)][_0x962da7(0x179)][_0x962da7(0x151)](_0xabba67[_0x962da7(0x12e)]),_0x1bf696=_0x333895[_0x962da7(0x13d)](),_0x9a6fea=_0x1bf696[_0x962da7(0x127)],_0x49aa32=_0x44dec1[_0x962da7(0x14c)][_0x962da7(0x189)];if(_0x9a6fea&&_0x49aa32[_0x962da7(0x13c)](_0x9a6fea)&&_0x49aa32[_0x962da7(0x131)](_0x9a6fea)&&!_0x44dec1[_0x962da7(0x14c)][_0x962da7(0x179)][_0x962da7(0x151)](_0x962da7(0x198)+_0x43651e)[_0x962da7(0x186)]()[_0x962da7(0x120)])return;const _0x242dc2=_0x1bf696[_0x962da7(0x12b)];return _0x44dec1[_0x962da7(0x14c)][_0x962da7(0x189)][_0x962da7(0x133)](_0x242dc2)&&!_0x44dec1[_0x962da7(0x14c)][_0x962da7(0x126)](_0x242dc2)&&(_0x50119b[_0x962da7(0x13b)]=!0x1),function(_0x12b274,_0x37c917,_0x472eb1){const _0x1f7612=_0x962da7,_0x175981=_0x12b274[_0x1f7612(0x15b)](_0x1f7612(0x16c),_0x37c917);return _0x12b274[_0x1f7612(0x11f)](_0x1f7612(0x14f),!0x0,_0x175981),_0x175981[_0x1f7612(0x195)]=function(_0x1d58c9){const _0x5b8ea8=_0x1f7612,_0x1f6182=this[_0x5b8ea8(0x197)](_0x1d58c9);return _0x1f6182[_0x5b8ea8(0x19f)]=_0x5b8ea8(0x157)+_0x472eb1[_0x5b8ea8(0x161)]+_0x5b8ea8(0x178),_0x1f6182[_0x5b8ea8(0x147)](_0x5b8ea8(0x140),()=>{const _0x2e9b23=_0x5b8ea8;_0x1f6182[_0x2e9b23(0x136)][_0x2e9b23(0x143)](_0x2e9b23(0x17e));}),_0x1f6182[_0x5b8ea8(0x147)](_0x5b8ea8(0x139),()=>{const _0x468cb6=_0x5b8ea8;_0x1f6182[_0x468cb6(0x136)][_0x468cb6(0x177)](_0x468cb6(0x17e));}),_0x1f6182;},_0x175981[_0x1f7612(0x14e)]=function(_0x2c06ef){const _0x3f9c40=_0x1f7612;return!(!this[_0x3f9c40(0x132)](_0x3f9c40(0x14f))||!_0x2c06ef[_0x3f9c40(0x132)](_0x3f9c40(0x14f))||this[_0x3f9c40(0x192)](_0x3f9c40(0x141))!=_0x2c06ef[_0x3f9c40(0x192)](_0x3f9c40(0x141)));},_0x175981;}(_0x5f39b1,_0x50119b,_0x43dd84);}(_0xeb7830,_0xb581cd,_0x52afe3,_0x16726d)}),_0x16726d[_0x2699c8(0x169)][_0x2699c8(0x124)](_0x2699c8(0x15d))[_0x2699c8(0x15a)]({'model':_0x2699c8(0x148),'view':_0x3b809f=>function(_0x5c11ac,_0x142947){const _0x43c970=_0x2699c8,_0x35fb9d=_0x5c11ac[_0x43c970(0x12e)][_0x43c970(0x18e)](':')[0x2];if(_0x35fb9d===_0x142947[_0x43c970(0x172)])return null;const _0x2b80c2=_0x142947[_0x43c970(0x159)](_0x35fb9d);if(!_0x2b80c2)return{'id':_0x35fb9d,'classes':[]};return{'id':_0x35fb9d,'classes':[_0x43c970(0x19b),_0x2b80c2[_0x43c970(0x158)][_0x43c970(0x135)]()],'attributes':{'data-session-id':_0x35fb9d},'priority':0x7d0+_0x2b80c2[_0x43c970(0x16a)]};}(_0x3b809f,_0x52afe3)}),function(_0x542c20){const _0x29b3ac=_0x2699c8,_0x56e252=_0x542c20[_0x29b3ac(0x14c)],_0x260753=new Map(),_0xdf1a02=_0x542c20[_0x29b3ac(0x18c)][_0x29b3ac(0x151)](_0x49c474);_0x56e252[_0x29b3ac(0x179)]['on'](_0x29b3ac(0x173),(_0x126342,_0x477882,_0x402ce4,_0x1243f4)=>{const _0x33e903=_0x29b3ac;if(!_0x1243f4&&_0x260753[_0x33e903(0x151)](_0x477882[_0x33e903(0x161)]))return _0x260753[_0x33e903(0x151)](_0x477882[_0x33e903(0x161)])[_0x33e903(0x155)](),void _0x260753[_0x33e903(0x166)](_0x477882[_0x33e903(0x161)]);const _0x553011=_0x477882[_0x33e903(0x161)][_0x33e903(0x18e)](':')[0x2];if(_0x553011===_0xdf1a02[_0x33e903(0x172)])return;const _0x3a8686=_0x33e903(0x175)+_0x553011;_0x56e252[_0x33e903(0x179)][_0x33e903(0x167)](_0x3a8686)&&_0x542c20[_0x33e903(0x18f)][_0x33e903(0x170)](_0x3a8686),_0x477882['on'](_0x33e903(0x1a1),(_0x636230,_0x429549,_0x361798)=>{const _0x1bd1aa=_0x33e903;if(_0x1bd1aa(0x160)!=_0x429549[_0x1bd1aa(0x138)][_0x1bd1aa(0x134)]&&_0x1bd1aa(0x160)==_0x477882[_0x1bd1aa(0x186)]()[_0x1bd1aa(0x138)][_0x1bd1aa(0x134)]&&!_0x260753[_0x1bd1aa(0x167)](_0x477882[_0x1bd1aa(0x161)])){const _0x146e68=_0x56e252[_0x1bd1aa(0x189)][_0x1bd1aa(0x19c)](_0x361798[_0x1bd1aa(0x123)]);if(_0x146e68){const _0xba8a2=_0x4f04d1[_0x1bd1aa(0x163)](_0x146e68);_0x260753[_0x1bd1aa(0x171)](_0x477882[_0x1bd1aa(0x161)],_0xba8a2),_0xba8a2['on'](_0x1bd1aa(0x1a1),(_0x843cc6,_0x5e4cb1,_0x45b6e1)=>{const _0x1bac1a=_0x1bd1aa;if(_0x1bac1a(0x160)==_0xba8a2[_0x1bac1a(0x138)][_0x1bac1a(0x134)]){const _0x575859=_0x56e252[_0x1bac1a(0x189)][_0x1bac1a(0x19c)](_0x45b6e1[_0x1bac1a(0x123)]);_0x575859?(_0xba8a2[_0x1bac1a(0x153)]=_0x575859[_0x1bac1a(0x153)],_0xba8a2[_0x1bac1a(0x145)]=_0x575859[_0x1bac1a(0x145)]):(_0x260753[_0x1bac1a(0x166)](_0x477882[_0x1bac1a(0x161)]),_0xba8a2[_0x1bac1a(0x155)]());}});}}});}),_0x56e252[_0x29b3ac(0x17f)]['on'](_0x29b3ac(0x154),()=>{const _0x38a665=_0x29b3ac;_0x260753[_0x38a665(0x150)]>0x0&&_0x56e252[_0x38a665(0x16e)]({'isUndoable':!0x1},_0x45307a=>{const _0x4db5b9=_0x38a665;for(const [_0xabd887,_0x33c855]of _0x260753)_0x4db5b9(0x160)==_0x56e252[_0x4db5b9(0x179)][_0x4db5b9(0x151)](_0xabd887)[_0x4db5b9(0x186)]()[_0x4db5b9(0x138)][_0x4db5b9(0x134)]&&(re(_0xabd887[_0x4db5b9(0x18e)](':')[0x2],_0x33c855[_0x4db5b9(0x13e)](),_0x56e252,_0x45307a),_0x33c855[_0x4db5b9(0x155)]());_0x260753[_0x4db5b9(0x156)]();});});}(_0x16726d),this[_0x2699c8(0x130)][_0x2699c8(0x11e)](_0x1a162e[_0x2699c8(0x17f)],_0x2699c8(0x128),(_0x44ad38,{key:_0x18a745})=>{const _0x21594a=_0x2699c8;_0x21594a(0x19a)===_0x18a745&&function(_0xc549dc){const _0x53de8e=_0x21594a;_0xc549dc[_0x53de8e(0x18f)][_0x53de8e(0x12d)][_0x53de8e(0x154)](_0x3d763e=>{const _0x172755=_0x53de8e;for(const _0x29e14c of _0xc549dc[_0x172755(0x14c)][_0x172755(0x179)]){if(!_0x29e14c[_0x172755(0x161)][_0x172755(0x165)](_0x172755(0x13f)))continue;const _0x24b3a9=_0xc549dc[_0x172755(0x18f)][_0x172755(0x174)][_0x172755(0x13a)](_0x29e14c[_0x172755(0x161)]);if(_0x24b3a9){for(const _0xdc9cac of _0x24b3a9)_0x3d763e[_0x172755(0x17b)](_0x172755(0x17e),_0xdc9cac);}}});}(_0x16726d);},{'useCapture':!0x0});}[_0x1a01b5(0x14d)](){const _0x29adc3=_0x1a01b5,_0x16429e=this[_0x29adc3(0x176)],_0xe1154c=_0x16429e[_0x29adc3(0x142)][_0x29adc3(0x151)](_0x29adc3(0x18b));_0xe1154c&&_0x16429e[_0x29adc3(0x14c)]['on'](_0x29adc3(0x16f),(_0x3fadb9,_0x4290a8)=>{const _0xe5445c=_0x29adc3,_0x302283=_0x4290a8[0x0];if(_0xe5445c(0x183)!=_0x302283[_0xe5445c(0x12a)]||!_0x302283[_0xe5445c(0x161)][_0xe5445c(0x165)](_0xe5445c(0x162)))return;const _0x4e23fd=_0x302283[_0xe5445c(0x121)];_0xe1154c[_0xe5445c(0x12f)][_0xe5445c(0x167)](_0x4e23fd)&&(_0x302283[_0xe5445c(0x122)]=_0x302283[_0xe5445c(0x194)]?_0x16429e[_0xe5445c(0x14c)][_0xe5445c(0x199)](_0x302283[_0xe5445c(0x194)][_0xe5445c(0x153)],_0x302283[_0xe5445c(0x194)][_0xe5445c(0x145)]):null);},{'priority':_0x29adc3(0x193)});}[_0x1a01b5(0x15c)](){const _0x38d67f=_0x1a01b5;return this[_0x38d67f(0x130)][_0x38d67f(0x180)](),super[_0x38d67f(0x15c)]();}[_0x1a01b5(0x16d)](){const _0x147be0=_0x1a01b5,_0x213218=this[_0x147be0(0x176)],_0x360f1b=_0x213218[_0x147be0(0x14c)][_0x147be0(0x17f)],_0x21d758=_0x213218[_0x147be0(0x18c)][_0x147be0(0x151)](_0x49c474);_0x213218[_0x147be0(0x14c)][_0x147be0(0x16e)]({'isUndoable':!0x1},_0x3faa76=>{const _0x38b7d7=_0x147be0,_0x284250=_0x38b7d7(0x198)+_0x21d758[_0x38b7d7(0x172)],_0x2f9b8d=_0x38b7d7(0x175)+_0x21d758[_0x38b7d7(0x172)],_0x1f49b7=_0x213218[_0x38b7d7(0x14c)][_0x38b7d7(0x179)][_0x38b7d7(0x167)](_0x284250);_0x213218[_0x38b7d7(0x18f)][_0x38b7d7(0x12d)][_0x38b7d7(0x18a)]?re(_0x21d758[_0x38b7d7(0x172)],_0x360f1b[_0x38b7d7(0x149)][_0x38b7d7(0x168)](),_0x213218[_0x38b7d7(0x14c)],_0x3faa76):_0x1f49b7&&(_0x3faa76[_0x38b7d7(0x191)](_0x284250),_0x3faa76[_0x38b7d7(0x191)](_0x2f9b8d));});}}function _0x2e91(_0x204b1b,_0x1f70d2){const _0x15cb27=_0x15cb();return _0x2e91=function(_0x2e9139,_0x40ad0d){_0x2e9139=_0x2e9139-0x11e;let _0x341714=_0x15cb27[_0x2e9139];return _0x341714;},_0x2e91(_0x204b1b,_0x1f70d2);}function _0x15cb(){const _0x1c2f90=['_domEmitter','isInline','getCustomProperty','isLimit','rootName','getSelectionClass','classList','6576788jhqpDE','root','mouseleave','markerNameToElements','contenteditable','isObject','getStart','toRange','user:position','mouseenter','data-session-id','commands','add','42ezMMxe','end','5384617cieEYM','addEventListener','user:range','selection','UserMarkers','$text','model','afterInit','isSimilar','userPositionMarker','size','get','tableCell','start','change','detach','clear','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span><span\x20class=\x22ck-user__marker-tooltip\x22\x20contenteditable=\x22false\x22\x20spellcheck=\x22false\x22>','color','getUserBySessionId','markerToHighlight','createUIElement','destroy','editingDowncast','getMarkerClass','addMarker','$graveyard','name','user:','fromRange','3522CJuORY','startsWith','delete','has','getFirstRange','conversion','orderNumber','715ZthMgn','span','createUserMarkerOperations','enqueueChange','applyOperation','reconvertMarker','set','mySessionId','update:user:range','mapper','user:position:','editor','remove','</span>⁠','markers','pluginName','removeClass','updateMarker','checkChild','ck-user__marker_hovered','document','stopListening','element','6927ZerktQ','marker','754125DJXUfW','markerToElement','getRange','8nwLufA','9295sGGsiV','schema','hasDomSelection','undo','plugins','getPositions','split','editing','824364gQgmEt','removeMarker','getAttribute','highest','oldRange','render','markerRange','toDomElement','user:range:','createRange','Escape','ck-user__selection','getNearestSelectionRange','getContainedElement','306lZcaVY','innerHTML','init','change:range','listenTo','setCustomProperty','isCollapsed','batch','newRange','deletionPosition','for','501590cSSdLB','hasContent','nodeAfter','keydown','ck-user__marker\x20','type','parent','requires','view','markerName','_createdBatches'];_0x15cb=function(){return _0x1c2f90;};return _0x15cb();}function re(_0x2e0783,_0x10c827,_0x3d1c12,_0x837cad){const _0x449f2a=_0x1a01b5,_0x4625b6=_0x449f2a(0x198)+_0x2e0783,_0x26a3e4=_0x449f2a(0x175)+_0x2e0783,_0x4c443d=_0x10c827[_0x449f2a(0x19d)]();let _0x1b7781=_0x10c827[_0x449f2a(0x153)];_0x4c443d&&_0x4c443d['is'](_0x449f2a(0x181),_0x449f2a(0x152))&&(_0x1b7781=function(_0x14bf73,_0x2c938a){const _0x59169f=_0x449f2a;for(const _0x3c70e4 of _0x14bf73[_0x59169f(0x18d)]())if(_0x2c938a[_0x59169f(0x189)][_0x59169f(0x17d)](_0x3c70e4,_0x59169f(0x14b)))return _0x3c70e4;}(_0x10c827,_0x3d1c12),_0x10c827=_0x837cad[_0x449f2a(0x199)](_0x1b7781));const _0x2ad609=_0x837cad[_0x449f2a(0x199)](_0x1b7781);_0x3d1c12[_0x449f2a(0x179)][_0x449f2a(0x167)](_0x4625b6)?(_0x837cad[_0x449f2a(0x17c)](_0x4625b6,{'range':_0x10c827}),_0x837cad[_0x449f2a(0x17c)](_0x26a3e4,{'range':_0x2ad609})):(_0x837cad[_0x449f2a(0x15f)](_0x4625b6,{'range':_0x10c827,'usingOperation':!0x0}),_0x837cad[_0x449f2a(0x15f)](_0x26a3e4,{'range':_0x2ad609,'usingOperation':!0x0}));}
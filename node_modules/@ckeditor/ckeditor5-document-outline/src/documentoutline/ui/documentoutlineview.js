/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as _0x4798d5}from'ckeditor5/src/ui.js';import{scrollAncestorsToShowTarget as _0x43476c}from'ckeditor5/src/utils.js';import _0x4d4cfd from'./documentoutlineitemview.js';export default class h extends _0x4798d5{constructor(_0x431375,_0x368c7d=!0x1,_0x5ad81b){super(_0x431375);const t=_0x431375['t'];this['showEmptyHeadingText']=_0x368c7d,this['set']('activeItemIndex',-0x1),this['_documentOutlineContainer']=_0x5ad81b,this['items']=this['createCollection'](),this['items']['delegate']('click')['to'](this),this['on']('click',this['_handleItemClick']['bind'](this)),this['on']('change:activeItemIndex',(_0x5d102c,_0x51f09d,_0x917fe8,_0x3326ad)=>{this['_setActiveItem'](_0x3326ad,_0x917fe8);}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-document-outline'],'dir':_0x431375['contentLanguageDirection'],'data-document-outline-empty-placeholder':t('Editor\x20headings\x20will\x20appear\x20here\x20as\x20you\x20type.'),'tabindex':-0x1},'children':this['items']});}['sync'](_0x45318e){_0x45318e['forEach'](_0x22c378=>{'insert'==_0x22c378['type']?this['_insertItem'](_0x22c378['index'],..._0x22c378['values']):'delete'==_0x22c378['type']&&this['_deleteItem'](_0x22c378['index'],_0x22c378['howMany']);});}['_setActiveItem'](_0x21b346,_0x2ee983){if(-0x1!==_0x21b346){const _0x50c655=this['items']['get'](_0x21b346);_0x50c655&&(_0x50c655['isActive']=!0x1);}-0x1!==_0x2ee983&&(this['items']['get'](_0x2ee983)['isActive']=!0x0,this['_scrollToItem'](_0x2ee983));}['_insertItem'](_0x528adb,..._0xa053fb){const _0x2f65c1=_0xa053fb['map']((_0x17f456,_0x9e7b3d)=>{const _0x24c593=new _0x4d4cfd(this['locale'],this['showEmptyHeadingText']);return _0x24c593['text']=_0x17f456['text'],_0x24c593['level']=_0x17f456['level'],_0x528adb+_0x9e7b3d===this['activeItemIndex']&&(_0x24c593['isActive']=!0x0),_0x24c593;});this['items']['addMany'](_0x2f65c1,_0x528adb);}['_deleteItem'](_0x96d69b,_0x27f3ed){do{this['items']['remove'](_0x96d69b);}while(--_0x27f3ed);}['_handleItemClick'](_0x43eea2){const _0xc31373=this['items']['getIndex'](_0x43eea2['source']);this['fire']('itemSelected',_0xc31373);}['_scrollToItem'](_0x2b893d){_0x43476c(this['items']['get'](_0x2b893d)['element'],0x14,this['_documentOutlineContainer']);}['destroy'](){super['destroy'](),this['element']['remove']();}}
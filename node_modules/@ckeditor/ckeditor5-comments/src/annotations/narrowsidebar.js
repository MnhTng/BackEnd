/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x52b9b3=_0x14e4;(function(_0x3cc7ec,_0x1f8c57){const _0x3882a8=_0x14e4,_0x628c14=_0x3cc7ec();while(!![]){try{const _0xe52dba=-parseInt(_0x3882a8(0x13c))/0x1+parseInt(_0x3882a8(0x13f))/0x2*(-parseInt(_0x3882a8(0x191))/0x3)+parseInt(_0x3882a8(0x177))/0x4*(parseInt(_0x3882a8(0x150))/0x5)+parseInt(_0x3882a8(0x18f))/0x6+-parseInt(_0x3882a8(0x159))/0x7+parseInt(_0x3882a8(0x165))/0x8+parseInt(_0x3882a8(0x182))/0x9*(parseInt(_0x3882a8(0x1b0))/0xa);if(_0xe52dba===_0x1f8c57)break;else _0x628c14['push'](_0x628c14['shift']());}catch(_0x1f06b0){_0x628c14['push'](_0x628c14['shift']());}}}(_0x4766,0xc0e22));import{ContextPlugin as _0x73467,Context as _0x4c518a}from'ckeditor5/src/core.js';function _0x14e4(_0x519cf8,_0x43d1c9){const _0x476632=_0x4766();return _0x14e4=function(_0x14e435,_0x2914c6){_0x14e435=_0x14e435-0x138;let _0x33b7cd=_0x476632[_0x14e435];return _0x33b7cd;},_0x14e4(_0x519cf8,_0x43d1c9);}import _0x5a4d49 from'./annotationsuis.js';import _0x5b4470 from'./sidebar.js';import _0x430dbf from'./view/annotationcounterbuttonview.js';import{BalloonPanelView as _0x466bcc,BodyCollection as _0x1c03d6}from'ckeditor5/src/ui.js';import{CKEditorError as _0x313f05,DomEmitterMixin as _0x3a84a0,keyCodes as _0x41a2c2,Collection as _0x50fb93}from'ckeditor5/src/utils.js';import'../../theme/sidebar-narrow.css';import{debounce as _0x329b78}from'lodash-es';export default class i extends _0x73467{static get[_0x52b9b3(0x172)](){return[_0x5b4470,_0x5a4d49];}static get[_0x52b9b3(0x15a)](){const _0x3e51e7=_0x52b9b3;return _0x3e51e7(0x162);}constructor(_0x580412){const _0x70efc5=_0x52b9b3;super(_0x580412),this[_0x70efc5(0x1aa)]=!0x1,this[_0x70efc5(0x1a4)]=new Set(),this[_0x70efc5(0x14a)]=Object[_0x70efc5(0x19e)](_0x3a84a0),this[_0x70efc5(0x183)]=new Map(),this[_0x70efc5(0x16e)](_0x70efc5(0x171),null),this[_0x70efc5(0x146)]=null,this[_0x70efc5(0x17b)]=[],this[_0x70efc5(0x186)]=new _0x50fb93(),this[_0x70efc5(0x143)]=_0x329b78(()=>{const _0x59495c=_0x70efc5;this[_0x59495c(0x19d)]();},0xfa,{'leading':!0x1});}[_0x52b9b3(0x14e)](){const _0x4be043=_0x52b9b3;this[_0x4be043(0x16b)][_0x4be043(0x19c)][_0x4be043(0x178)](_0x5a4d49)[_0x4be043(0x1ae)](_0x4be043(0x142),this),this[_0x4be043(0x1a9)]=new _0x1c03d6(this[_0x4be043(0x16b)][_0x4be043(0x198)]),this[_0x4be043(0x156)]=new _0x466bcc(this[_0x4be043(0x16b)][_0x4be043(0x198)]),this[_0x4be043(0x1a9)][_0x4be043(0x158)](),this[_0x4be043(0x1a9)][_0x4be043(0x160)](this[_0x4be043(0x156)]);}[_0x52b9b3(0x188)](_0x17fd4e){const _0x49970b=_0x52b9b3;this[_0x49970b(0x146)]=_0x17fd4e;const _0x332244=this[_0x49970b(0x16b)][_0x49970b(0x19c)][_0x49970b(0x178)](_0x5b4470),_0x29f2d4=this[_0x49970b(0x156)];if(_0x332244[_0x49970b(0x192)]=_0x17fd4e,this[_0x49970b(0x1aa)])throw new _0x313f05(_0x49970b(0x1a3),this);this[_0x49970b(0x1aa)]=!0x0,this[_0x49970b(0x1a2)](_0x332244,_0x49970b(0x173),()=>{const _0x39bb89=_0x49970b;this[_0x39bb89(0x152)](),this[_0x39bb89(0x1a2)](_0x332244,_0x39bb89(0x1ac),_0x1070a1=>{const _0x5b4d03=_0x39bb89;_0x1070a1[_0x5b4d03(0x141)](),this[_0x5b4d03(0x188)](_0x17fd4e);});}),_0x332244[_0x49970b(0x13e)]({'viewClass':_0x49970b(0x13a),'spaceBetweenItems':0x5});const _0x303d09=_0x2b7641=>{const _0xe6c079=_0x49970b,_0x530234=new _0x430dbf(this[_0xe6c079(0x16b)][_0xe6c079(0x198)]);_0x332244[_0xe6c079(0x1ad)](_0x2b7641,_0x530234),this[_0xe6c079(0x183)][_0xe6c079(0x16e)](_0x2b7641,_0x530234),_0x530234[_0xe6c079(0x138)](_0xe6c079(0x17f),_0xe6c079(0x166),_0xe6c079(0x18d))['to'](_0x2b7641[_0xe6c079(0x164)],_0xe6c079(0x17f),_0xe6c079(0x194),_0xe6c079(0x1a0)),_0x530234['on'](_0xe6c079(0x185),()=>{const _0x4b97de=_0xe6c079;this[_0x4b97de(0x1a4)][_0x4b97de(0x157)](),_0x29f2d4[_0x4b97de(0x199)][_0x4b97de(0x16f)]!==_0x2b7641[_0x4b97de(0x164)]?(this[_0x4b97de(0x197)](_0x2b7641),_0x2b7641[_0x4b97de(0x164)][_0x4b97de(0x170)][_0x4b97de(0x15b)](),this[_0x4b97de(0x16d)](_0x2b7641)):this[_0x4b97de(0x16d)](null);});};for(const _0x5e2ba0 of _0x17fd4e)_0x303d09(_0x5e2ba0);this[_0x49970b(0x1a2)](_0x17fd4e,_0x49970b(0x160),(_0x51f069,_0x1ff6c1)=>{_0x303d09(_0x1ff6c1);}),this[_0x49970b(0x1a2)](_0x17fd4e,_0x49970b(0x13d),(_0x4be2a5,_0x4c185c,_0x2f1de5)=>{const _0x19cf90=_0x49970b;this[_0x19cf90(0x183)][_0x19cf90(0x178)](_0x4c185c)[_0x19cf90(0x18c)](),this[_0x19cf90(0x183)][_0x19cf90(0x13b)](_0x4c185c),_0x332244[_0x19cf90(0x149)]({'removedAnnotation':_0x4c185c,'previousAnnotation':_0x17fd4e[_0x19cf90(0x178)](_0x2f1de5-0x1),'nextAnnotation':_0x17fd4e[_0x19cf90(0x178)](_0x2f1de5+0x1)}),_0x4c185c===this[_0x19cf90(0x171)]&&this[_0x19cf90(0x16d)](null);},{'priority':_0x49970b(0x1a5)}),this[_0x49970b(0x1a2)](_0x17fd4e,_0x49970b(0x15b),(_0x24f1cb,_0x19ce3b)=>{const _0x5abc15=_0x49970b;this[_0x5abc15(0x16d)](_0x19ce3b);}),this[_0x49970b(0x1a2)](_0x17fd4e,_0x49970b(0x1a1),()=>{const _0x3c8385=_0x49970b;this[_0x3c8385(0x16d)](null);}),this[_0x49970b(0x14a)][_0x49970b(0x1a2)](document,_0x49970b(0x174),(_0x583276,_0x2527fb)=>{const _0x386d0b=_0x49970b;_0x2527fb[_0x386d0b(0x180)]===_0x41a2c2[_0x386d0b(0x175)]&&_0x29f2d4[_0x386d0b(0x144)]&&(this[_0x386d0b(0x1a4)][_0x386d0b(0x160)](_0x29f2d4[_0x386d0b(0x199)][_0x386d0b(0x16f)]),this[_0x386d0b(0x187)](),_0x2527fb[_0x386d0b(0x167)](),_0x2527fb[_0x386d0b(0x140)]());}),this[_0x49970b(0x14a)][_0x49970b(0x1a2)](document,_0x49970b(0x14d),(_0x5b07d3,_0x15df57)=>{const _0x49f52b=_0x49970b,_0x3f39b2=_0x15df57[_0x49f52b(0x148)];_0x29f2d4[_0x49f52b(0x144)]&&_0x29f2d4[_0x49f52b(0x170)][_0x49f52b(0x181)](_0x3f39b2)||_0x332244[_0x49f52b(0x164)][_0x49f52b(0x170)][_0x49f52b(0x181)](_0x3f39b2)||_0x5b07d3[_0x49f52b(0x196)]||this[_0x49f52b(0x171)]&&this[_0x49f52b(0x171)][_0x49f52b(0x1a6)][_0x49f52b(0x18b)](_0x3583bf=>_0x3583bf[_0x49f52b(0x181)](_0x3f39b2))||(this[_0x49f52b(0x1a4)][_0x49f52b(0x157)](),this[_0x49f52b(0x187)](),this[_0x49f52b(0x16d)](null));});const _0x4710f0=this[_0x49970b(0x16b)]instanceof _0x4c518a?this[_0x49970b(0x16b)][_0x49970b(0x1af)]:new _0x50fb93([this[_0x49970b(0x16b)]]);for(const _0x33b44a of _0x4710f0)this[_0x49970b(0x176)](_0x33b44a);this[_0x49970b(0x1a2)](_0x4710f0,_0x49970b(0x160),(_0x3d0a9c,_0x411d54)=>{const _0x52ea4a=_0x49970b;this[_0x52ea4a(0x1a2)](_0x411d54,_0x52ea4a(0x179),()=>{const _0x464bdf=_0x52ea4a;this[_0x464bdf(0x176)](_0x411d54);});}),this[_0x49970b(0x1a2)](_0x4710f0,_0x49970b(0x13d),(_0x293351,_0x536646)=>{const _0x13d7df=_0x49970b;_0x536646[_0x13d7df(0x19c)][_0x13d7df(0x18e)](_0x13d7df(0x153))&&this[_0x13d7df(0x14c)](_0x536646[_0x13d7df(0x19c)][_0x13d7df(0x178)](_0x13d7df(0x153)));}),window[_0x49970b(0x15c)](_0x49970b(0x18a),this[_0x49970b(0x143)]),this[_0x49970b(0x19d)]();}[_0x52b9b3(0x16d)](_0x3f7686){const _0xd8b155=_0x52b9b3;if(_0x3f7686===this[_0xd8b155(0x171)])return;const _0x4aae2d=this[_0xd8b155(0x16b)][_0xd8b155(0x19c)][_0xd8b155(0x178)](_0x5b4470);if(_0x4aae2d[_0xd8b155(0x17c)]({'blurredAnnotation':this[_0xd8b155(0x171)],'activatedAnnotation':_0x3f7686,'disableAnimationOnActivatedAnnotation':!0x0}),_0x3f7686)_0x4aae2d[_0xd8b155(0x168)](_0x3f7686)?this[_0xd8b155(0x197)](_0x3f7686):this[_0xd8b155(0x187)]();else this[_0xd8b155(0x187)]();this[_0xd8b155(0x171)]=_0x3f7686;}[_0x52b9b3(0x152)](){const _0x38d815=_0x52b9b3;if(!this[_0x38d815(0x1aa)])throw new _0x313f05(_0x38d815(0x19a),this);this[_0x38d815(0x16d)](null);const _0x34af36=this[_0x38d815(0x16b)][_0x38d815(0x19c)][_0x38d815(0x178)](_0x5b4470);this[_0x38d815(0x187)](),Array[_0x38d815(0x1a7)](this[_0x38d815(0x183)][_0x38d815(0x161)](),_0xbfd10b=>_0xbfd10b[_0x38d815(0x18c)]()),this[_0x38d815(0x183)][_0x38d815(0x157)](),_0x34af36[_0x38d815(0x15d)](this[_0x38d815(0x146)]),this[_0x38d815(0x16a)](),this[_0x38d815(0x14a)][_0x38d815(0x16a)](),this[_0x38d815(0x16b)]instanceof _0x4c518a&&this[_0x38d815(0x16a)](this[_0x38d815(0x16b)][_0x38d815(0x1af)]);for(const _0x1a5b2a of Array[_0x38d815(0x1a7)](this[_0x38d815(0x186)]))this[_0x38d815(0x14c)](_0x1a5b2a);window[_0x38d815(0x195)](_0x38d815(0x18a),this[_0x38d815(0x143)]),this[_0x38d815(0x143)][_0x38d815(0x14b)](),this[_0x38d815(0x17b)]=[],this[_0x38d815(0x1aa)]=!0x1,this[_0x38d815(0x146)]=null;}[_0x52b9b3(0x18c)](){const _0xd13b65=_0x52b9b3;this[_0xd13b65(0x1aa)]&&this[_0xd13b65(0x152)](),this[_0xd13b65(0x1a9)][_0xd13b65(0x14f)]();}[_0x52b9b3(0x176)](_0x3ab937){const _0x4954eb=_0x52b9b3;if(!_0x3ab937[_0x4954eb(0x19c)][_0x4954eb(0x18e)](_0x4954eb(0x153)))return;const _0x3949ba=_0x3ab937[_0x4954eb(0x19c)][_0x4954eb(0x178)](_0x4954eb(0x153)),_0x59c75e=this[_0x4954eb(0x16b)][_0x4954eb(0x19c)][_0x4954eb(0x178)](_0x5b4470),_0x3b13cc=this[_0x4954eb(0x146)],_0x244d9a=this[_0x4954eb(0x156)],_0xbeefc2=()=>{const _0x3a64d4=_0x4954eb,_0x5d0ccd=_0x3949ba[_0x3a64d4(0x147)]({'annotations':this[_0x3a64d4(0x146)],'activeAnnotation':this[_0x3a64d4(0x171)]});this[_0x3a64d4(0x151)](_0x5d0ccd),this[_0x3a64d4(0x16d)](_0x5d0ccd[0x0]||null);};this[_0x4954eb(0x1a2)](_0x3949ba,_0x4954eb(0x17c),_0xbeefc2),this[_0x4954eb(0x1a2)](_0x3949ba,_0x4954eb(0x1a1),(_0x410ba3,{isAnnotationTracked:_0x4b2a1e})=>{const _0x3b9215=_0x4954eb;this[_0x3b9215(0x171)]&&_0x4b2a1e(this[_0x3b9215(0x171)])&&(this[_0x3b9215(0x151)]([]),this[_0x3b9215(0x16d)](null));}),this[_0x4954eb(0x1a2)](_0x3949ba,_0x4954eb(0x19f),()=>{const _0x2d500e=_0x4954eb;this[_0x2d500e(0x143)]();}),this[_0x4954eb(0x1a2)](_0x3b13cc,_0x4954eb(0x1a1),_0x50f201=>{const _0x4d941c=_0x4954eb;_0x3949ba[_0x4d941c(0x169)]()&&_0x50f201[_0x4d941c(0x145)]();},{'priority':_0x4954eb(0x1b1)}),this[_0x4954eb(0x1a2)](this[_0x4954eb(0x14a)],_0x4954eb(0x14d),(_0xc616af,_0x4a5eb2)=>{const _0x3a99f0=_0x4954eb,_0xf31bf7=_0x4a5eb2[_0x3a99f0(0x148)];_0x244d9a[_0x3a99f0(0x144)]&&_0x244d9a[_0x3a99f0(0x170)][_0x3a99f0(0x181)](_0xf31bf7)||_0x59c75e[_0x3a99f0(0x164)][_0x3a99f0(0x170)][_0x3a99f0(0x181)](_0xf31bf7)||this[_0x3a99f0(0x171)]&&_0x3949ba[_0x3a99f0(0x169)]()&&(_0xbeefc2(),_0xc616af[_0x3a99f0(0x196)]=!0x0);},{'priority':_0x4954eb(0x1b1)}),this[_0x4954eb(0x186)][_0x4954eb(0x160)](_0x3949ba);}[_0x52b9b3(0x14c)](_0x2d7f3c){const _0x57288=_0x52b9b3;_0x2d7f3c&&(this[_0x57288(0x16a)](_0x2d7f3c),this[_0x57288(0x186)][_0x57288(0x13d)](_0x2d7f3c));}[_0x52b9b3(0x151)](_0x1cffe8){const _0x29bcdd=_0x52b9b3;for(const _0xec7451 of this[_0x29bcdd(0x17b)])_0x1cffe8[_0x29bcdd(0x193)](_0xec7451)||this[_0x29bcdd(0x1a4)][_0x29bcdd(0x13b)](_0xec7451[_0x29bcdd(0x164)]);this[_0x29bcdd(0x17b)]=_0x1cffe8;}[_0x52b9b3(0x19d)](){const _0x35bb4f=_0x52b9b3,_0x5f318a=this[_0x35bb4f(0x156)];this[_0x35bb4f(0x146)][_0x35bb4f(0x17a)](),_0x5f318a[_0x35bb4f(0x144)]&&this[_0x35bb4f(0x15e)]();}[_0x52b9b3(0x197)](_0x47a545){const _0x1ce3c6=_0x52b9b3;if(this[_0x1ce3c6(0x1a4)][_0x1ce3c6(0x18e)](_0x47a545[_0x1ce3c6(0x164)]))return;const _0x311604=this[_0x1ce3c6(0x156)][_0x1ce3c6(0x199)][_0x1ce3c6(0x16f)];_0x311604!==_0x47a545[_0x1ce3c6(0x164)]?(_0x311604&&this[_0x1ce3c6(0x17d)](_0x311604),this[_0x1ce3c6(0x19b)](_0x47a545[_0x1ce3c6(0x164)]),this[_0x1ce3c6(0x156)][_0x1ce3c6(0x199)][_0x1ce3c6(0x157)](),this[_0x1ce3c6(0x156)][_0x1ce3c6(0x199)][_0x1ce3c6(0x160)](_0x47a545[_0x1ce3c6(0x164)]),this[_0x1ce3c6(0x15e)]()):this[_0x1ce3c6(0x15e)]();}[_0x52b9b3(0x15e)](){const _0x52a680=_0x52b9b3,_0x5bc144=this[_0x52a680(0x156)][_0x52a680(0x199)][_0x52a680(0x16f)],_0x3c3adf=_0x5bc144&&this[_0x52a680(0x146)][_0x52a680(0x155)](_0x5bc144);if(!_0x3c3adf||!this[_0x52a680(0x183)][_0x52a680(0x18e)](_0x3c3adf))return;const _0x252945=this[_0x52a680(0x183)][_0x52a680(0x178)](_0x3c3adf)[_0x52a680(0x170)],_0x4eacf3=(function(){const _0x3413c0=_0x52a680,_0x2fc00d=_0x466bcc[_0x3413c0(0x190)];return[_0x2fc00d[_0x3413c0(0x16c)],_0x2fc00d[_0x3413c0(0x15f)],_0x2fc00d[_0x3413c0(0x154)],_0x2fc00d[_0x3413c0(0x1ab)],_0x2fc00d[_0x3413c0(0x184)],_0x2fc00d[_0x3413c0(0x139)]];}());this[_0x52a680(0x156)][_0x52a680(0x163)]({'target':_0x252945,'positions':_0x4eacf3});}[_0x52b9b3(0x187)](){const _0x1f9317=_0x52b9b3,_0x3dd9ab=this[_0x1f9317(0x156)],_0x55e3e7=_0x3dd9ab[_0x1f9317(0x199)][_0x1f9317(0x16f)];_0x55e3e7&&(this[_0x1f9317(0x17d)](_0x55e3e7),_0x3dd9ab[_0x1f9317(0x17e)](),_0x3dd9ab[_0x1f9317(0x199)][_0x1f9317(0x157)]());}[_0x52b9b3(0x19b)](_0x5820f4){const _0x14cfe5=_0x52b9b3;this[_0x14cfe5(0x1a2)](_0x5820f4,_0x14cfe5(0x189),()=>this[_0x14cfe5(0x15e)]()),this[_0x14cfe5(0x1a2)](_0x5820f4,_0x14cfe5(0x1a8),(_0xca7525,_0x1a52c6)=>{const _0x80ff96=_0x14cfe5;this[_0x80ff96(0x1a4)][_0x80ff96(0x160)](_0x5820f4),this[_0x80ff96(0x187)](),_0x1a52c6();});}[_0x52b9b3(0x17d)](_0x3adbbd){const _0x519379=_0x52b9b3;this[_0x519379(0x16a)](_0x3adbbd);}}function _0x4766(){const _0x54f0a0=['esc','_integrateWithEditorAnnotations','4bYASbJ','get','ready','refreshPositioning','_selectedAnnotations','refresh','_detachListeners','unpin','isDirty','keyCode','contains','9GCJaNk','_annotationToNarrowView','southArrowNorthWest','execute','_editorAnnotations','_hideBalloon','attach','change:height','resize','find','destroy','number','has','6054606tSljSy','defaultPositions','15wynhbV','_annotations','includes','type','removeEventListener','preventClosingBalloon','_showBalloon','locale','content','narrowsidebar-detach-not-attached','_attachListeners','plugins','_refreshPositioning','create','uiUpdate','length','blur','listenTo','narrowsidebar-attach-already-attached','_manuallyClosedAnnotationViews','low','focusableElements','from','Esc','bodyCollection','isAttached','northArrowSouth','change:container','addAnnotation','register','editors','6610900RBzwgR','high','bind','northArrowSouthWest','ck-sidebar--narrow','delete','116503WfklTX','remove','_attachToContainer','555850DtvjDV','preventDefault','off','narrowSidebar','_refreshPositioningDebounced','isVisible','stop','annotations','getOrderedSelectedAnnotations','target','rearrange','_domEmitter','cancel','_destroyEditorAnnotationsIntegration','mousedown','init','detachFromDom','818395UxEDKr','_setSelectedAnnotations','detach','EditorAnnotations','southArrowNorth','getByView','balloonPanelView','clear','attachToDom','5678449YUbBti','pluginName','focus','addEventListener','_detachFromContainer','_updateBalloonPosition','northArrowSouthEast','add','values','NarrowSidebar','pin','view','10188120fpjSLN','annotationType','stopPropagation','getSidebarItemView','hasDomSelection','stopListening','context','southArrowNorthEast','setActiveAnnotation','set','first','element','activeAnnotation','requires','set:container','keydown'];_0x4766=function(){return _0x54f0a0;};return _0x4766();}
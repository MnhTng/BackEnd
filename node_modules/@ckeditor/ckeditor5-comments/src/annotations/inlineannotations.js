/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x507347=_0x47ec;(function(_0x1b5914,_0x5e209b){const _0x5263bf=_0x47ec,_0x3b5e86=_0x1b5914();while(!![]){try{const _0x9608b5=-parseInt(_0x5263bf(0x139))/0x1*(parseInt(_0x5263bf(0x123))/0x2)+parseInt(_0x5263bf(0x154))/0x3+-parseInt(_0x5263bf(0x164))/0x4+parseInt(_0x5263bf(0x149))/0x5+parseInt(_0x5263bf(0x152))/0x6*(-parseInt(_0x5263bf(0x121))/0x7)+parseInt(_0x5263bf(0x177))/0x8+-parseInt(_0x5263bf(0x172))/0x9*(parseInt(_0x5263bf(0x17e))/0xa);if(_0x9608b5===_0x5e209b)break;else _0x3b5e86['push'](_0x3b5e86['shift']());}catch(_0x1c2200){_0x3b5e86['push'](_0x3b5e86['shift']());}}}(_0x1b6e,0xb8b09));import{Plugin as _0x46df96}from'ckeditor5/src/core.js';import _0x3cb88b from'./annotationsuis.js';import _0x570b13 from'./editorannotations.js';import{ContextualBalloon as _0x4cbb49}from'ckeditor5/src/ui.js';import{MouseObserver as _0x5a2425}from'ckeditor5/src/engine.js';function _0x47ec(_0x2b45c6,_0x246f47){const _0x1b6e60=_0x1b6e();return _0x47ec=function(_0x47ece1,_0x188bd8){_0x47ece1=_0x47ece1-0x11e;let _0x5044e1=_0x1b6e60[_0x47ece1];return _0x5044e1;},_0x47ec(_0x2b45c6,_0x246f47);}import{CKEditorError as _0x606df4,Rect as _0x5797b8}from'ckeditor5/src/utils.js';import'./../../theme/annotation-inline.css';export default class c extends _0x46df96{static get[_0x507347(0x158)](){return[_0x570b13,_0x4cbb49,_0x3cb88b];}static get[_0x507347(0x12d)](){const _0x5dc0bb=_0x507347;return _0x5dc0bb(0x12a);}constructor(_0x5477b6){const _0x512058=_0x507347;super(_0x5477b6),_0x5477b6[_0x512058(0x125)][_0x512058(0x11f)][_0x512058(0x135)](_0x5a2425),this[_0x512058(0x14e)]=!0x1,this[_0x512058(0x137)](_0x512058(0x12c),null),this[_0x512058(0x145)]=null,this[_0x512058(0x15d)]=new Set(),this[_0x512058(0x16b)]=_0x5477b6[_0x512058(0x153)][_0x512058(0x16f)](_0x4cbb49),this[_0x512058(0x130)]=new Set(),this[_0x512058(0x131)]=[],this[_0x512058(0x16c)]=!0x1;}[_0x507347(0x11e)](){const _0x30b842=_0x507347,_0x11575e=this[_0x30b842(0x14c)][_0x30b842(0x153)][_0x30b842(0x16f)](_0x3cb88b);_0x11575e[_0x30b842(0x16d)]===this[_0x30b842(0x14c)]&&(_0x11575e[_0x30b842(0x142)](_0x30b842(0x13b),this),this[_0x30b842(0x14c)][_0x30b842(0x165)][_0x30b842(0x137)](_0x30b842(0x14d),(_0x561e33,_0x4f4b38)=>{const _0x38be2b=_0x30b842,_0x409261=this[_0x38be2b(0x16b)];if(this[_0x38be2b(0x14e)]&&_0x409261[_0x38be2b(0x127)]){const _0x21ad68=this[_0x38be2b(0x145)][_0x38be2b(0x166)](_0x409261[_0x38be2b(0x127)]);_0x21ad68&&this[_0x38be2b(0x160)](_0x21ad68),_0x4f4b38();}}));}[_0x507347(0x12f)](){const _0x220987=_0x507347,_0x15b80a=this[_0x220987(0x14c)][_0x220987(0x153)][_0x220987(0x16f)](_0x3cb88b);_0x15b80a[_0x220987(0x16d)]===this[_0x220987(0x14c)]&&(_0x15b80a[_0x220987(0x157)]()||_0x15b80a[_0x220987(0x178)](_0x220987(0x13b)));}[_0x507347(0x176)](_0x20c5aa){const _0x1056f2=_0x507347;_0x20c5aa!==this[_0x1056f2(0x12c)]&&(this[_0x1056f2(0x12c)]&&(this[_0x1056f2(0x12c)][_0x1056f2(0x162)]=!0x1),_0x20c5aa&&this[_0x1056f2(0x14c)]['ui'][_0x1056f2(0x17c)][_0x1056f2(0x126)]&&(this[_0x1056f2(0x145)][_0x1056f2(0x175)](_0x20c5aa)&&this[_0x1056f2(0x16e)](_0x20c5aa,!0x0),_0x20c5aa[_0x1056f2(0x162)]=!0x0),_0x20c5aa||this[_0x1056f2(0x141)]([]),this[_0x1056f2(0x12c)]=_0x20c5aa);}[_0x507347(0x146)](_0x2b6410){const _0x209d4d=_0x507347;this[_0x209d4d(0x145)]=_0x2b6410;const _0x5c36a0=this[_0x209d4d(0x14c)][_0x209d4d(0x153)][_0x209d4d(0x16f)](_0x3cb88b),_0x4a8388=this[_0x209d4d(0x16b)];if(this[_0x209d4d(0x14e)])throw new _0x606df4(_0x209d4d(0x156),this);if(_0x5c36a0[_0x209d4d(0x16d)]!==this[_0x209d4d(0x14c)])throw new _0x606df4(_0x209d4d(0x134),this);const _0x7ea83f=this[_0x209d4d(0x14c)][_0x209d4d(0x153)][_0x209d4d(0x16f)](_0x570b13);this[_0x209d4d(0x14b)](_0x7ea83f,_0x209d4d(0x15a),()=>{const _0x5ed83f=_0x209d4d,_0xde96e8=_0x7ea83f[_0x5ed83f(0x17d)]({'annotations':this[_0x5ed83f(0x145)],'activeAnnotation':this[_0x5ed83f(0x12c)]});var _0x44b8fb,_0x3ebd4e;!this[_0x5ed83f(0x16c)]&&(_0x44b8fb=_0xde96e8,_0x3ebd4e=this[_0x5ed83f(0x131)],_0x44b8fb[_0x5ed83f(0x14a)]===_0x3ebd4e[_0x5ed83f(0x14a)]&&_0x44b8fb[_0x5ed83f(0x15b)](_0x2c24f3=>_0x3ebd4e[_0x5ed83f(0x17a)](_0x2c24f3)))||(this[_0x5ed83f(0x16c)]=!0x1,this[_0x5ed83f(0x141)](_0xde96e8),this[_0x5ed83f(0x176)](_0xde96e8[0x0]||null));}),this[_0x209d4d(0x14b)](_0x7ea83f,_0x209d4d(0x13a),(_0x397421,{isAnnotationTracked:_0x2d24e2})=>{const _0x5a411e=_0x209d4d;this[_0x5a411e(0x12c)]&&_0x2d24e2(this[_0x5a411e(0x12c)])&&(this[_0x5a411e(0x141)]([]),this[_0x5a411e(0x176)](null));}),this[_0x209d4d(0x14b)](this[_0x209d4d(0x14c)]['ui'][_0x209d4d(0x17c)],_0x209d4d(0x150),(_0x83d7d1,_0x2a69b1,_0x4ab09d)=>{const _0x376f7f=_0x209d4d;_0x4ab09d||this[_0x376f7f(0x176)](null);}),this[_0x209d4d(0x14b)](_0x2b6410,_0x209d4d(0x179),(_0x507868,_0xd80543)=>{const _0x28ab28=_0x209d4d;this[_0x28ab28(0x168)](_0xd80543),_0xd80543===this[_0x28ab28(0x12c)]&&this[_0x28ab28(0x176)](null);}),this[_0x209d4d(0x14b)](_0x4a8388,_0x209d4d(0x143),(_0x1fe9f3,_0x4f40c5,_0x306701,_0x54fa47)=>{const _0x8e8dd3=_0x209d4d;_0x54fa47&&this[_0x8e8dd3(0x136)](_0x54fa47);const _0x43a37a=_0x2b6410[_0x8e8dd3(0x166)](_0x306701);_0x306701&&_0x43a37a&&(this[_0x8e8dd3(0x14b)](_0x306701,_0x8e8dd3(0x12b),()=>{const _0x23e997=_0x8e8dd3;_0x4a8388[_0x23e997(0x129)]();}),this[_0x8e8dd3(0x14b)](_0x306701,_0x8e8dd3(0x14d),()=>{const _0x307496=_0x8e8dd3;this[_0x307496(0x160)](_0x43a37a),this[_0x307496(0x14c)][_0x307496(0x125)][_0x307496(0x11f)][_0x307496(0x17b)]();}),this[_0x8e8dd3(0x12c)]!==_0x43a37a&&this[_0x8e8dd3(0x176)](_0x43a37a));}),this[_0x209d4d(0x14b)](this[_0x209d4d(0x14c)]['ui'],_0x209d4d(0x13c),()=>{const _0x43d69f=_0x209d4d;_0x4a8388[_0x43d69f(0x127)]&&(_0x2b6410[_0x43d69f(0x166)](_0x4a8388[_0x43d69f(0x127)])&&_0x4a8388[_0x43d69f(0x129)]());}),this[_0x209d4d(0x14b)](this[_0x209d4d(0x14c)][_0x209d4d(0x125)][_0x209d4d(0x11f)][_0x209d4d(0x14f)],_0x209d4d(0x170),()=>{const _0x233bb6=_0x209d4d;this[_0x233bb6(0x16c)]=!0x0,this[_0x233bb6(0x15d)][_0x233bb6(0x171)]();}),this[_0x209d4d(0x14c)][_0x209d4d(0x125)][_0x209d4d(0x11f)][_0x209d4d(0x14f)][_0x209d4d(0x173)][_0x209d4d(0x151)]&&this[_0x209d4d(0x14c)][_0x209d4d(0x125)][_0x209d4d(0x11f)][_0x209d4d(0x17b)](),this[_0x209d4d(0x14e)]=!0x0;}[_0x507347(0x13e)](){const _0x3c9125=_0x507347;if(!this[_0x3c9125(0x14e)])throw new _0x606df4(_0x3c9125(0x147),this);this[_0x3c9125(0x176)](null);for(const _0x5d6347 of this[_0x3c9125(0x130)])this[_0x3c9125(0x168)](_0x5d6347);this[_0x3c9125(0x136)](),this[_0x3c9125(0x14e)]=!0x1,this[_0x3c9125(0x145)]=null;}[_0x507347(0x13d)](){const _0x5b60d0=_0x507347;this[_0x5b60d0(0x14e)]&&this[_0x5b60d0(0x13e)]();}[_0x507347(0x141)](_0xbbe04b){const _0x1ceaed=_0x507347;for(const _0x377fa4 of this[_0x1ceaed(0x131)])_0xbbe04b[_0x1ceaed(0x17a)](_0x377fa4)||this[_0x1ceaed(0x15d)][_0x1ceaed(0x163)](_0x377fa4);for(const _0x4de1ce of this[_0x1ceaed(0x145)])_0xbbe04b[_0x1ceaed(0x17a)](_0x4de1ce)||this[_0x1ceaed(0x168)](_0x4de1ce);if(this[_0x1ceaed(0x14c)]['ui'][_0x1ceaed(0x17c)][_0x1ceaed(0x126)]){for(const _0x180868 of _0xbbe04b)this[_0x1ceaed(0x16e)](_0x180868);}this[_0x1ceaed(0x131)]=_0xbbe04b;}[_0x507347(0x16e)](_0x3a8d67,_0x4aa51f=!0x1){const _0x5ec62e=_0x507347;this[_0x5ec62e(0x15d)][_0x5ec62e(0x175)](_0x3a8d67)||(this[_0x5ec62e(0x130)][_0x5ec62e(0x175)](_0x3a8d67)||this[_0x5ec62e(0x16b)][_0x5ec62e(0x174)](_0x3a8d67[_0x5ec62e(0x11f)])||(this[_0x5ec62e(0x130)][_0x5ec62e(0x16a)](_0x3a8d67),this[_0x5ec62e(0x16b)][_0x5ec62e(0x16a)]({'stackId':_0x3a8d67[_0x5ec62e(0x11f)]['id'],'view':_0x3a8d67[_0x5ec62e(0x11f)],'position':{'target':()=>this[_0x5ec62e(0x144)](_0x3a8d67)}})),_0x4aa51f&&this[_0x5ec62e(0x16b)][_0x5ec62e(0x15c)](_0x3a8d67[_0x5ec62e(0x11f)]['id']));}[_0x507347(0x144)](_0x98c9df){const _0x2c0536=_0x507347,_0x394428=_0x98c9df[_0x2c0536(0x167)],_0x2fe894=this[_0x2c0536(0x14c)][_0x2c0536(0x125)][_0x2c0536(0x11f)],_0x4f0f40=_0x2fe894[_0x2c0536(0x14f)][_0x2c0536(0x173)][_0x2c0536(0x148)](),_0x42299b=_0x2fe894[_0x2c0536(0x155)][_0x2c0536(0x128)](_0x4f0f40);if(_0x42299b[_0x2c0536(0x124)](!0x0),_0x394428){if(_0x394428 instanceof _0x5797b8)return _0x394428;let _0x593d2a=[];for(const _0x4a640f of _0x394428)_0x593d2a[_0x2c0536(0x13f)](...(_0x5db973=_0x4a640f[_0x2c0536(0x140)](),Array[_0x2c0536(0x15e)](_0x5db973)[_0x2c0536(0x169)](DOMRect[_0x2c0536(0x12e)])));_0x593d2a=function(_0x53dd33){const _0x60cff=_0x2c0536,_0x59bc45=[];let _0x510637=_0x53dd33[0x0];for(let _0x22c62a=0x1;_0x22c62a<_0x53dd33[_0x60cff(0x14a)];_0x22c62a++)F(_0x510637,_0x53dd33[_0x22c62a])?_0x510637[_0x60cff(0x15f)]+=_0x53dd33[_0x22c62a][_0x60cff(0x15f)]:(_0x59bc45[_0x60cff(0x13f)](_0x510637),_0x510637=_0x53dd33[_0x22c62a]);return _0x59bc45[_0x60cff(0x13f)](_0x510637),_0x59bc45;}(_0x593d2a);const _0x32c2ad=_0x42299b[_0x2c0536(0x133)]();return _0x593d2a[_0x2c0536(0x122)](_0x548c6c=>_0x548c6c[_0x2c0536(0x159)]<=_0x32c2ad[_0x2c0536(0x159)]&&_0x548c6c[_0x2c0536(0x138)]>=_0x32c2ad[_0x2c0536(0x138)]&&_0x548c6c[_0x2c0536(0x120)]<=_0x32c2ad[_0x2c0536(0x120)]&&_0x548c6c[_0x2c0536(0x132)]>=_0x32c2ad[_0x2c0536(0x132)])||_0x593d2a[0x0];}var _0x5db973;return _0x98c9df[_0x2c0536(0x161)]||_0x42299b;}[_0x507347(0x168)](_0x15e2f1){const _0x42a273=_0x507347;this[_0x42a273(0x130)][_0x42a273(0x175)](_0x15e2f1)&&this[_0x42a273(0x16b)][_0x42a273(0x174)](_0x15e2f1[_0x42a273(0x11f)])&&(this[_0x42a273(0x130)][_0x42a273(0x163)](_0x15e2f1),this[_0x42a273(0x16b)][_0x42a273(0x179)](_0x15e2f1[_0x42a273(0x11f)]));}[_0x507347(0x160)](_0xec34a5){const _0xdfa373=_0x507347;this[_0xdfa373(0x15d)][_0xdfa373(0x16a)](_0xec34a5),this[_0xdfa373(0x168)](_0xec34a5);}}function _0x1b6e(){const _0x5888db=['mousedown','clear','16866VCMzEU','selection','hasView','has','setActiveAnnotation','9252480sydSBX','switchTo','remove','includes','focus','focusTracker','getOrderedSelectedAnnotations','2270QBcuSF','init','view','left','583303MSvGFr','find','568336SjPePi','collapse','editing','isFocused','visibleView','viewRangeToDom','updatePosition','InlineAnnotations','change:height','activeAnnotation','pluginName','fromRect','afterInit','_addedAnnotations','_selectedAnnotations','right','getBoundingClientRect','inlineannotations-not-allowed-with-context','addObserver','stopListening','set','bottom','2hfRlYb','blur','inline','update','destroy','detach','push','getClientRects','_setSelectedAnnotations','register','change:visibleView','_getBalloonTargetForAnnotation','annotations','attach','inlineannotations-detach-not-attached','getFirstRange','5727025zjmoKI','length','listenTo','editor','Esc','isAttached','document','change:isFocused','editableElement','6XRVzUl','plugins','2501601IfOsWq','domConverter','inlineannotations-attach-already-attached','hasActive','requires','top','refresh','every','showStack','_manuallyClosed','from','width','_closeAnnotation','targetRect','isActive','delete','5209120RfNwVB','keystrokes','getByView','target','_removeAnnotationFromBalloon','map','add','_balloon','_forceRefresh','context','_addAnnotationToBalloon','get'];_0x1b6e=function(){return _0x5888db;};return _0x1b6e();}function F(_0x19ce20,_0xab421f){const _0x28d493=_0x507347;return _0x19ce20[_0x28d493(0x159)]===_0xab421f[_0x28d493(0x159)]&&_0x19ce20[_0x28d493(0x138)]===_0xab421f[_0x28d493(0x138)]&&_0x19ce20[_0x28d493(0x132)]===_0xab421f[_0x28d493(0x120)];}
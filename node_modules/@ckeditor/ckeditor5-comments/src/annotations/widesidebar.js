/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x352b54=_0x1d01;function _0x3956(){const _0x2e9a43=['init','isAttached','has','updateTargetRect','_annotations','wideSidebar','addAnnotation','annotations','removeEventListener','27616RTWSdO','260140cLxADr','stopListening','editors','requires','cancel','remove','container','switchTo','6XPuhrd','set','resize','_detachFromContainer','_editorAnnotations','register','add','plugins','off','1235055bUctNW','rearrange','uiUpdate','widesidebar-detach-not-attached','attach','refreshPositioning','activeAnnotation','ready','get','pluginName','14002880RkecXY','_attachToContainer','setActiveAnnotation','destroy','detach','blur','hasDomSelection','widesidebar-attach-already-attached','WideSidebar','_destroyEditorAnnotationsIntegration','EditorAnnotations','set:container','focus','addEventListener','1txXDjK','change:container','525RHeQgq','stop','getOrderedSelectedAnnotations','from','_refreshPositioningDebounced','840978gaJTBp','context','_integrateWithEditorAnnotations','ck-sidebar--wide','high','_activeAnnotation','refresh','1955964wOLKux','listenTo','254468lotsdB'];_0x3956=function(){return _0x2e9a43;};return _0x3956();}(function(_0x52068e,_0x45e292){const _0x379778=_0x1d01,_0xa3ce53=_0x52068e();while(!![]){try{const _0x2fee84=parseInt(_0x379778(0x1e1))/0x1*(parseInt(_0x379778(0x1fc))/0x2)+parseInt(_0x379778(0x1c0))/0x3*(-parseInt(_0x379778(0x1f1))/0x4)+-parseInt(_0x379778(0x1c9))/0x5+-parseInt(_0x379778(0x1ef))/0x6+parseInt(_0x379778(0x1e3))/0x7*(-parseInt(_0x379778(0x1fb))/0x8)+-parseInt(_0x379778(0x1e8))/0x9+parseInt(_0x379778(0x1d3))/0xa;if(_0x2fee84===_0x45e292)break;else _0xa3ce53['push'](_0xa3ce53['shift']());}catch(_0x4c1692){_0xa3ce53['push'](_0xa3ce53['shift']());}}}(_0x3956,0x74a51));import{ContextPlugin as _0x672e7f,Context as _0x507288}from'ckeditor5/src/core.js';import _0x51c296 from'./annotationsuis.js';import _0x33f97f from'./sidebar.js';function _0x1d01(_0x138f01,_0x271142){const _0x395641=_0x3956();return _0x1d01=function(_0x1d0101,_0x29b883){_0x1d0101=_0x1d0101-0x1be;let _0x26b13e=_0x395641[_0x1d0101];return _0x26b13e;},_0x1d01(_0x138f01,_0x271142);}import{CKEditorError as _0x55fe2f,Collection as _0xcd4742}from'ckeditor5/src/utils.js';import{debounce as _0x46ce8a}from'lodash-es';export default class n extends _0x672e7f{static get[_0x352b54(0x1ff)](){return[_0x33f97f,_0x51c296];}static get[_0x352b54(0x1d2)](){const _0x3da098=_0x352b54;return _0x3da098(0x1db);}constructor(_0x20c27f){const _0x58c880=_0x352b54;super(_0x20c27f),this[_0x58c880(0x1f3)]=!0x1,this[_0x58c880(0x1c1)](_0x58c880(0x1cf),null),this[_0x58c880(0x1f9)]=null,this[_0x58c880(0x1c4)]=new _0xcd4742(),this[_0x58c880(0x1e7)]=_0x46ce8a(()=>{const _0x44e3ad=_0x58c880;this[_0x44e3ad(0x1f9)][_0x44e3ad(0x1ce)]();},0xfa,{'leading':!0x1});}[_0x352b54(0x1f2)](){const _0x4ee837=_0x352b54,_0x24a55b=this[_0x4ee837(0x1e9)][_0x4ee837(0x1c7)][_0x4ee837(0x1d1)](_0x51c296),_0xfe414d=this[_0x4ee837(0x1e9)][_0x4ee837(0x1c7)][_0x4ee837(0x1d1)](_0x33f97f);_0x24a55b[_0x4ee837(0x1c5)](_0x4ee837(0x1f7),this),_0xfe414d[_0x4ee837(0x1be)]&&_0x24a55b[_0x4ee837(0x1bf)](_0x4ee837(0x1f7));}[_0x352b54(0x1d5)](_0x3f4ef9){const _0x56e9c7=_0x352b54;if(_0x3f4ef9===this[_0x56e9c7(0x1cf)])return;const _0x588388=this[_0x56e9c7(0x1e9)][_0x56e9c7(0x1c7)][_0x56e9c7(0x1d1)](_0x33f97f);_0x588388[_0x56e9c7(0x1ed)]=_0x3f4ef9;const _0x5d0399=this[_0x56e9c7(0x1cf)];this[_0x56e9c7(0x1cf)]=_0x3f4ef9,_0x588388[_0x56e9c7(0x1ee)]({'blurredAnnotation':_0x5d0399,'activatedAnnotation':this[_0x56e9c7(0x1cf)]});}[_0x352b54(0x1cd)](_0xffa2da){const _0x8a977f=_0x352b54;this[_0x8a977f(0x1f9)]=_0xffa2da;const _0x418245=this[_0x8a977f(0x1e9)][_0x8a977f(0x1c7)][_0x8a977f(0x1d1)](_0x33f97f);if(_0x418245[_0x8a977f(0x1f6)]=_0xffa2da,this[_0x8a977f(0x1f3)])throw new _0x55fe2f(_0x8a977f(0x1da),this);this[_0x8a977f(0x1f3)]=!0x0,this[_0x8a977f(0x1f0)](_0x418245,_0x8a977f(0x1de),()=>{const _0xa4bd1d=_0x8a977f;this[_0xa4bd1d(0x1d7)](),this[_0xa4bd1d(0x1f0)](_0x418245,_0xa4bd1d(0x1e2),_0x55ffa7=>{const _0x5a41d6=_0xa4bd1d;_0x55ffa7[_0x5a41d6(0x1c8)](),this[_0x5a41d6(0x1cd)](_0xffa2da);});}),_0x418245[_0x8a977f(0x1d4)]({'viewClass':_0x8a977f(0x1eb)});const _0x218679=_0x1b2e37=>{const _0x480e7e=_0x8a977f;_0x1b2e37[_0x480e7e(0x1f5)](),_0x418245[_0x480e7e(0x1f8)](_0x1b2e37);};for(const _0xe29bf4 of _0xffa2da)_0x218679(_0xe29bf4);this[_0x8a977f(0x1f0)](_0xffa2da,_0x8a977f(0x1c6),(_0x392d02,_0x333671)=>{_0x218679(_0x333671);}),this[_0x8a977f(0x1f0)](_0xffa2da,_0x8a977f(0x201),(_0x755625,_0x9fad0b,_0xfc28b1)=>{const _0x1cca94=_0x8a977f;_0x418245[_0x1cca94(0x1ca)]({'removedAnnotation':_0x9fad0b,'previousAnnotation':_0xffa2da[_0x1cca94(0x1d1)](_0xfc28b1-0x1),'nextAnnotation':_0xffa2da[_0x1cca94(0x1d1)](_0xfc28b1+0x1)}),_0x9fad0b===this[_0x1cca94(0x1cf)]&&this[_0x1cca94(0x1d5)](null);},{'priority':_0x8a977f(0x1ec)}),this[_0x8a977f(0x1f0)](_0xffa2da,_0x8a977f(0x1df),(_0x428e30,_0x170bd1)=>{const _0x118cec=_0x8a977f;this[_0x118cec(0x1d5)](_0x170bd1);}),this[_0x8a977f(0x1f0)](_0xffa2da,_0x8a977f(0x1d8),()=>{const _0x551730=_0x8a977f;this[_0x551730(0x1d5)](null);});const _0x136fda=this[_0x8a977f(0x1e9)]instanceof _0x507288?this[_0x8a977f(0x1e9)][_0x8a977f(0x1fe)]:new _0xcd4742([this[_0x8a977f(0x1e9)]]);for(const _0x51e125 of _0x136fda)this[_0x8a977f(0x1ea)](_0x51e125);this[_0x8a977f(0x1f0)](_0x136fda,_0x8a977f(0x1c6),(_0x342aa3,_0x3cd78e)=>{const _0x3a972d=_0x8a977f;this[_0x3a972d(0x1f0)](_0x3cd78e,_0x3a972d(0x1d0),()=>{const _0x2deadc=_0x3a972d;this[_0x2deadc(0x1ea)](_0x3cd78e);});}),this[_0x8a977f(0x1f0)](_0x136fda,_0x8a977f(0x201),(_0x1408cb,_0x4b1421)=>{const _0x10b7fd=_0x8a977f;_0x4b1421[_0x10b7fd(0x1c7)][_0x10b7fd(0x1f4)](_0x10b7fd(0x1dd))&&this[_0x10b7fd(0x1dc)](_0x4b1421[_0x10b7fd(0x1c7)][_0x10b7fd(0x1d1)](_0x10b7fd(0x1dd)));}),window[_0x8a977f(0x1e0)](_0x8a977f(0x1c2),this[_0x8a977f(0x1e7)]),this[_0x8a977f(0x1f9)][_0x8a977f(0x1ce)]();}[_0x352b54(0x1d7)](){const _0x1567af=_0x352b54;if(!this[_0x1567af(0x1f3)])throw new _0x55fe2f(_0x1567af(0x1cc),this);this[_0x1567af(0x1d5)](null);const _0x2c9afa=this[_0x1567af(0x1e9)][_0x1567af(0x1c7)][_0x1567af(0x1d1)](_0x33f97f);_0x2c9afa[_0x1567af(0x1c3)](this[_0x1567af(0x1f9)]),this[_0x1567af(0x1fd)](_0x2c9afa),this[_0x1567af(0x1fd)](this[_0x1567af(0x1f9)]),this[_0x1567af(0x1e9)]instanceof _0x507288&&this[_0x1567af(0x1fd)](this[_0x1567af(0x1e9)][_0x1567af(0x1fe)]);for(const _0x1dcfed of Array[_0x1567af(0x1e6)](this[_0x1567af(0x1c4)]))this[_0x1567af(0x1dc)](_0x1dcfed);window[_0x1567af(0x1fa)](_0x1567af(0x1c2),this[_0x1567af(0x1e7)]),this[_0x1567af(0x1e7)][_0x1567af(0x200)](),this[_0x1567af(0x1cf)]=null,this[_0x1567af(0x1f3)]=!0x1,this[_0x1567af(0x1f9)]=null;}[_0x352b54(0x1d6)](){const _0x5aa309=_0x352b54;this[_0x5aa309(0x1f3)]&&this[_0x5aa309(0x1d7)]();}[_0x352b54(0x1ea)](_0x1481bc){const _0x2b15e0=_0x352b54;if(!_0x1481bc[_0x2b15e0(0x1c7)][_0x2b15e0(0x1f4)](_0x2b15e0(0x1dd)))return;const _0x1c62ec=_0x1481bc[_0x2b15e0(0x1c7)][_0x2b15e0(0x1d1)](_0x2b15e0(0x1dd)),_0x259e10=()=>{const _0x223dda=_0x2b15e0,_0x3ce0b7=_0x1c62ec[_0x223dda(0x1e5)]({'annotations':this[_0x223dda(0x1f9)],'activeAnnotation':this[_0x223dda(0x1cf)]});this[_0x223dda(0x1d5)](_0x3ce0b7[0x0]||null);};this[_0x2b15e0(0x1f0)](_0x1c62ec,_0x2b15e0(0x1ee),_0x259e10),this[_0x2b15e0(0x1f0)](_0x1c62ec,_0x2b15e0(0x1d8),(_0x9eb2a3,{isAnnotationTracked:_0x521aef})=>{const _0x491d65=_0x2b15e0;this[_0x491d65(0x1cf)]&&_0x521aef(this[_0x491d65(0x1cf)])&&this[_0x491d65(0x1d5)](null);}),this[_0x2b15e0(0x1f0)](_0x1c62ec,_0x2b15e0(0x1cb),()=>{const _0x4911f0=_0x2b15e0;this[_0x4911f0(0x1e7)]();}),this[_0x2b15e0(0x1f0)](this[_0x2b15e0(0x1f9)],_0x2b15e0(0x1d8),_0x32f696=>{const _0x3f9e3d=_0x2b15e0;_0x1c62ec[_0x3f9e3d(0x1d9)]()&&(_0x259e10(),_0x32f696[_0x3f9e3d(0x1e4)]());},{'priority':_0x2b15e0(0x1ec)}),this[_0x2b15e0(0x1c4)][_0x2b15e0(0x1c6)](_0x1c62ec);}[_0x352b54(0x1dc)](_0x2e5df7){const _0x3d82f4=_0x352b54;this[_0x3d82f4(0x1fd)](_0x2e5df7),this[_0x3d82f4(0x1c4)][_0x3d82f4(0x201)](_0x2e5df7);}}
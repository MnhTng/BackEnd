/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xdb484e=_0x3e58;(function(_0xf76d27,_0x35e172){const _0x1495f5=_0x3e58,_0x38faf2=_0xf76d27();while(!![]){try{const _0x1485bf=parseInt(_0x1495f5(0x149))/0x1+parseInt(_0x1495f5(0x156))/0x2*(parseInt(_0x1495f5(0x143))/0x3)+-parseInt(_0x1495f5(0x14e))/0x4+parseInt(_0x1495f5(0x11c))/0x5+parseInt(_0x1495f5(0x129))/0x6*(parseInt(_0x1495f5(0x146))/0x7)+parseInt(_0x1495f5(0x13f))/0x8+-parseInt(_0x1495f5(0x14c))/0x9*(parseInt(_0x1495f5(0x14d))/0xa);if(_0x1485bf===_0x35e172)break;else _0x38faf2['push'](_0x38faf2['shift']());}catch(_0x54a625){_0x38faf2['push'](_0x38faf2['shift']());}}}(_0x2995,0xeb679));import{Plugin as _0x300f02}from'ckeditor5/src/core.js';function _0x3e58(_0x48212d,_0x28298f){const _0x299540=_0x2995();return _0x3e58=function(_0x3e5893,_0x5c8f0c){_0x3e5893=_0x3e5893-0x11c;let _0x51f8ac=_0x299540[_0x3e5893];return _0x51f8ac;},_0x3e58(_0x48212d,_0x28298f);}import _0x4da945 from'./commentsrepository.js';function _0x2995(){const _0x4507cf=['addCommentThread','innerView','low','menuBar:comment','removeCommentThread','map','has','CommentThreadInputView','hasCommentThread','add','tooltip','12696696Kaymvk','CommentsUI','view','focus','93wZTkRQ','Comment','change:activeAnnotations','9023jkiFst','CommentsListView','set','522728mOusAY','init','comment','45WxUPvD','7364750zyeLug','7356112ghPjzT','componentFactory','stop','commands','addSourceCollector','hasMarkerForId','pluginName','isEnabled','56978NKHgYc','_viewToController','focusTracker','editor','execute','9619665YzwiMT','find','requires','_createUIButton','model','isFocused','push','plugins','locale','highest','length','addComment','_threadToController','7302DgtagR','activeMarker','getAllMarkersForId','editing','getRange','comment:','listenTo','get','from','bind','getCommentThread'];_0x2995=function(){return _0x4507cf;};return _0x2995();}import _0x16820c from'./commentsediting.js';import _0x2a2af9 from'../annotations/editorannotations.js';import{ButtonView as _0x33c4af,MenuBarMenuListItemButtonView as _0x3eb8a4}from'ckeditor5/src/ui.js';import _0x535d52 from'../../theme/icons/add-comment.svg';import _0xdbfb4f from'../annotations/annotations.js';import _0x44ec7a from'./ui/view/commentslistview.js';import _0x337f20 from'./ui/view/commentthreadinputview.js';import{getTranslation as _0x3ab671}from'../utils/common-translations.js';export default class s extends _0x300f02{static get[_0xdb484e(0x154)](){const _0x2c6cb4=_0xdb484e;return _0x2c6cb4(0x140);}static get[_0xdb484e(0x11e)](){return[_0x4da945,_0x16820c,_0x2a2af9,_0xdbfb4f];}get[_0xdb484e(0x147)](){return _0x44ec7a;}get[_0xdb484e(0x13b)](){return _0x337f20;}[_0xdb484e(0x14a)](){const _0x5913f0=_0xdb484e,_0x2aafc3=this[_0x5913f0(0x159)],_0x504126=_0x2aafc3[_0x5913f0(0x123)][_0x5913f0(0x130)](_0x4da945),_0x10d28f=_0x2aafc3[_0x5913f0(0x123)][_0x5913f0(0x130)](_0x16820c),_0x149181=_0x2aafc3[_0x5913f0(0x123)][_0x5913f0(0x130)](_0xdbfb4f),_0x43c714=_0x2aafc3[_0x5913f0(0x123)][_0x5913f0(0x130)](_0x2a2af9);_0x2aafc3['ui'][_0x5913f0(0x14f)][_0x5913f0(0x13d)](_0x5913f0(0x14b),()=>{const _0x417a01=_0x5913f0,_0x4a6881=this[_0x417a01(0x11f)](_0x33c4af);return _0x4a6881[_0x417a01(0x13e)]=!0x0,_0x4a6881;}),_0x2aafc3['ui'][_0x5913f0(0x14f)][_0x5913f0(0x13d)](_0x5913f0(0x137),()=>this[_0x5913f0(0x11f)](_0x3eb8a4)),_0x43c714[_0x5913f0(0x152)](()=>{const _0x429deb=_0x5913f0,_0x446b1e=[];for(const [_0x4b3595,_0x3ad675]of _0x504126[_0x429deb(0x128)]){const _0x239015=_0x10d28f[_0x429deb(0x12b)](_0x4b3595['id']),_0xae5ffa=_0x239015[_0x429deb(0x139)](_0x3fc8cf=>_0x3fc8cf[_0x429deb(0x12d)]());_0x239015[_0x429deb(0x126)]>0x0&&_0x446b1e[_0x429deb(0x122)]([_0x3ad675[_0x429deb(0x141)],_0xae5ffa]);}return _0x446b1e;}),this[_0x5913f0(0x12f)](_0x149181,_0x5913f0(0x145),(_0x3779ab,_0x4ea504,_0x3e0ac3)=>{const _0x3b82c7=_0x5913f0,_0x26d1e6=Array[_0x3b82c7(0x131)](_0x3e0ac3)[_0x3b82c7(0x139)](_0x53e82c=>_0x53e82c[_0x3b82c7(0x135)])[_0x3b82c7(0x11d)](_0x58d369=>_0x504126[_0x3b82c7(0x157)][_0x3b82c7(0x13a)](_0x58d369));if(!_0x26d1e6)return void(_0x10d28f[_0x3b82c7(0x12a)]=null);const _0x3e8822=_0x504126[_0x3b82c7(0x157)][_0x3b82c7(0x130)](_0x26d1e6)[_0x3b82c7(0x120)]['id'],_0x16a33d=_0x3b82c7(0x12e)+_0x3e8822;_0x3e8822&&_0x10d28f[_0x3b82c7(0x153)](_0x3e8822)?_0x10d28f[_0x3b82c7(0x12a)]=_0x16a33d:_0x10d28f[_0x3b82c7(0x12a)]&&(_0x10d28f[_0x3b82c7(0x12a)]=null);}),this[_0x5913f0(0x12f)](_0x504126,_0x5913f0(0x138),(_0x1cda12,{threadId:_0x187bf7,isFromAdapter:_0xcbfbad})=>{const _0x599d8d=_0x5913f0;!_0xcbfbad&&_0x2aafc3['ui'][_0x599d8d(0x158)][_0x599d8d(0x121)]&&_0x10d28f[_0x599d8d(0x153)](_0x187bf7)&&_0x2aafc3[_0x599d8d(0x12c)][_0x599d8d(0x141)][_0x599d8d(0x142)]();},{'priority':_0x5913f0(0x125)}),this[_0x5913f0(0x12f)](_0x504126,_0x5913f0(0x127),(_0x8853f3,{threadId:_0x103e33,isFromAdapter:_0x33cd1c})=>{const _0x55e7df=_0x5913f0;if(_0x33cd1c||!_0x10d28f[_0x55e7df(0x153)](_0x103e33)||!_0x504126[_0x55e7df(0x13c)](_0x103e33))return;0x1===_0x504126[_0x55e7df(0x133)](_0x103e33)[_0x55e7df(0x126)]&&(_0x2aafc3[_0x55e7df(0x12c)][_0x55e7df(0x141)][_0x55e7df(0x142)](),_0x8853f3[_0x55e7df(0x150)]());},{'priority':_0x5913f0(0x136)});}[_0xdb484e(0x11f)](_0x25b3ea){const _0x431f3b=_0xdb484e,_0x16a383=this[_0x431f3b(0x159)],_0x4fbefa=new _0x25b3ea(_0x16a383[_0x431f3b(0x124)]),_0x3c38ec=_0x16a383[_0x431f3b(0x151)][_0x431f3b(0x130)](_0x431f3b(0x134));return _0x4fbefa[_0x431f3b(0x148)]({'label':_0x3ab671(_0x16a383[_0x431f3b(0x124)],_0x431f3b(0x144)),'icon':_0x535d52}),_0x4fbefa[_0x431f3b(0x132)](_0x431f3b(0x155))['to'](_0x3c38ec),this[_0x431f3b(0x12f)](_0x4fbefa,_0x431f3b(0x15a),()=>_0x3c38ec[_0x431f3b(0x15a)]()),_0x4fbefa;}}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{icons as _0x28ebef,Plugin as _0x2f964e}from'ckeditor5/src/core.js';import{icons as _0xd3cefa}from'ckeditor5-collaboration/src/collaboration-core.js';import{CKEditorError as _0x523f11}from'ckeditor5/src/utils.js';import'./slashcommandeditorconfig.js';export default class o extends _0x2f964e{static get['pluginName'](){return'SlashCommandConfig';}constructor(_0x52dd90){super(_0x52dd90),this['_allowedCommands']=null;}['afterInit'](){const _0x38b22c=this['editor']['config']['get']('slashCommand.removeCommands')||[],_0x16fec6=function(_0x27249a){let _0x4b602b=['heading4','heading5','heading6'];if(_0x27249a){const _0x8eb56b=_0x27249a['map'](_0x236866=>_0x236866['model']);_0x4b602b=['heading1','heading2','heading3','heading4','heading5','heading6']['filter'](_0x317cd6=>!_0x8eb56b['includes'](_0x317cd6));}return _0x4b602b;}(this['editor']['config']['get']('heading.options'));let _0x7576ed=this['getDefaultCommands']()['filter'](_0x124b9d=>!_0x16fec6['includes'](_0x124b9d['id']))['filter'](_0x8370b2=>!_0x38b22c['includes'](_0x8370b2['commandName']));const _0x594d9f=this['editor']['config']['get']('slashCommand.extraCommands');_0x594d9f&&_0x594d9f['length']&&(_0x7576ed=_0x7576ed['concat'](_0x594d9f));const _0x2cf018=this['editor']['config']['get']('template.definitions');_0x2cf018&&_0x2cf018['length']&&(_0x7576ed=_0x7576ed['concat'](function(_0x450ae3){return _0x450ae3['map'](_0x44e74d=>{const {title:_0xf3d5ea,icon:_0x426313,description:_0x23650f,data:_0x548908}=_0x44e74d,_0x466529={'id':c(_0xf3d5ea,'template'),'commandName':'insertTemplate','execute':_0x38ab28=>{_0x38ab28['execute']('insertTemplate',_0x548908);},'description':_0x23650f,'icon':_0x426313,'title':_0xf3d5ea};return _0x426313&&(_0x466529['isIconColorInherited']=!0x1),_0x466529;});}(_0x2cf018)));const _0x2c2bff=this['editor']['config']['get']('style.definitions');_0x2c2bff&&_0x2c2bff['length']&&(_0x7576ed=_0x7576ed['concat'](function(_0x67e753){return _0x67e753['map'](_0x383a3b=>({'id':c(_0x383a3b['name'],'style'),'commandName':'style','execute':_0x2225cc=>{_0x2225cc['execute']('style',{'styleName':_0x383a3b['name']});},'isEnabled':_0x55c130=>{const _0x920fcb=_0x55c130['commands']['get']('style');return _0x920fcb['isEnabled']&&_0x920fcb['enabledStyles']['includes'](_0x383a3b['name']);},'title':_0x383a3b['name']}));}(_0x2c2bff)));const _0x3978b5=_0x7576ed['filter'](_0x269d9b=>!_0x269d9b['commandName']||void 0x0!==this['editor']['commands']['get'](_0x269d9b['commandName'])),_0x54b0e9=[];for(const _0x1b4f3d of _0x3978b5)_0x54b0e9['push']({'id':_0x1b4f3d['id'],'commandName':_0x1b4f3d['commandName'],'title':'function'==typeof _0x1b4f3d['title']?_0x1b4f3d['title'](this['editor']):_0x1b4f3d['title'],'description':_0x1b4f3d['description'],'icon':_0x1b4f3d['icon'],'isIconColorInherited':_0x1b4f3d['isIconColorInherited'],'aliases':_0x1b4f3d['aliases'],'isEnabled':()=>this['_proxyIsEnabled'](_0x1b4f3d),'execute':()=>this['_proxyExecute'](_0x1b4f3d)});this['_allowedCommands']=_0x54b0e9['sort'](d);}['getAllowedCommands'](){return this['_allowedCommands'];}['getDefaultCommands'](){const t=this['editor']['t'],_0xcc6d31=this['editor']['locale']['t'];return[{'id':'aiAssistant','commandName':'showAIAssistant','icon':_0xd3cefa['robotPencil'],'title':_0xcc6d31('AI\x20Assistant'),'description':t('Open\x20the\x20AI\x20Assistant\x20to\x20generate\x20content'),'execute':_0xa01e13=>{setTimeout(()=>_0xa01e13['execute']('showAIAssistant'));}},{'id':'blockQuote','commandName':'blockQuote','icon':_0x28ebef['quote'],'title':_0xcc6d31('Block\x20quote'),'description':t('Create\x20a\x20block\x20quote')},{'id':'bulletedList','commandName':'bulletedList','icon':_0x28ebef['bulletedList'],'title':_0xcc6d31('Bulleted\x20list'),'description':t('Create\x20a\x20bulleted\x20list')},{'id':'codeBlock','commandName':'codeBlock','icon':_0x28ebef['codeBlock'],'title':_0xcc6d31('Insert\x20code\x20block'),'description':t('Create\x20a\x20code\x20block')},{'id':'ckbox','commandName':'ckbox','icon':_0x28ebef['browseFiles'],'title':_0xcc6d31('Open\x20file\x20manager'),'description':t('Open\x20file\x20manager\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckfinder','filemanager','upload']},{'id':'ckfinder','commandName':'ckfinder','icon':_0x28ebef['browseFiles'],'title':_0xcc6d31('Insert\x20image'),'description':t('Open\x20file\x20browser\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckbox','filemanager','upload']},{'id':'heading1','commandName':'heading','icon':_0x28ebef['heading1'],'title':_0xcc6d31('Heading\x201'),'description':t('Create\x20a\x20heading\x20level\x201'),'execute':_0x40c3e9=>{_0x40c3e9['execute']('heading',{'value':'heading1'});}},{'id':'heading2','commandName':'heading','icon':_0x28ebef['heading2'],'title':_0xcc6d31('Heading\x202'),'description':t('Create\x20a\x20heading\x20level\x202'),'execute':_0x3ad083=>{_0x3ad083['execute']('heading',{'value':'heading2'});}},{'id':'heading3','commandName':'heading','icon':_0x28ebef['heading3'],'title':_0xcc6d31('Heading\x203'),'description':t('Create\x20a\x20heading\x20level\x203'),'execute':_0xf0db53=>{_0xf0db53['execute']('heading',{'value':'heading3'});}},{'id':'heading4','commandName':'heading','icon':_0x28ebef['heading4'],'title':_0xcc6d31('Heading\x204'),'description':t('Create\x20a\x20heading\x20level\x204'),'execute':_0x518d95=>{_0x518d95['execute']('heading',{'value':'heading4'});}},{'id':'heading5','commandName':'heading','icon':_0x28ebef['heading5'],'title':_0xcc6d31('Heading\x205'),'description':t('Create\x20a\x20heading\x20level\x205'),'execute':_0x4b8d78=>{_0x4b8d78['execute']('heading',{'value':'heading5'});}},{'id':'heading6','commandName':'heading','icon':_0x28ebef['heading6'],'title':_0xcc6d31('Heading\x206'),'description':t('Create\x20a\x20heading\x20level\x206'),'execute':_0x2c0d6e=>{_0x2c0d6e['execute']('heading',{'value':'heading6'});}},{'id':'horizontalLine','commandName':'horizontalLine','icon':_0x28ebef['horizontalLine'],'title':_0xcc6d31('Horizontal\x20line'),'description':t('Insert\x20a\x20horizontal\x20line')},{'id':'htmlEmbed','commandName':'htmlEmbed','icon':_0x28ebef['html'],'title':_0xcc6d31('Insert\x20HTML'),'description':t('Insert\x20an\x20HTML\x20snippet')},{'id':'indent','commandName':'indent','icon':_0x28ebef['indent'],'title':_0xcc6d31('Increase\x20indent'),'description':t('Increase\x20the\x20indentation')},{'id':'insertMermaidCommand','commandName':'insertMermaidCommand','title':t('Insert\x20Mermaid\x20diagram'),'description':t('Insert\x20the\x20Mermaid\x20diagram')},{'id':'insertTable','commandName':'insertTable','icon':_0x28ebef['table'],'title':_0xcc6d31('Insert\x20table'),'description':t('Create\x20a\x20table')},{'id':'insertTableOfContents','commandName':'insertTableOfContents','icon':_0xd3cefa['tableOfContents'],'title':_0xcc6d31('Table\x20of\x20contents'),'description':t('Insert\x20table\x20of\x20contents'),'aliases':['toc']},{'id':'numberedList','commandName':'numberedList','icon':_0x28ebef['numberedList'],'title':_0xcc6d31('Numbered\x20list'),'description':t('Create\x20a\x20numbered\x20list')},{'id':'outdent','commandName':'outdent','icon':_0x28ebef['outdent'],'title':_0xcc6d31('Decrease\x20indent'),'description':t('Decrease\x20the\x20indentation')},{'id':'paragraph','commandName':'paragraph','icon':_0x28ebef['paragraph'],'title':_0xcc6d31('Paragraph'),'description':t('Insert\x20a\x20paragraph')},{'id':'todoList','commandName':'todoList','icon':_0x28ebef['todoList'],'title':_0xcc6d31('To-do\x20list'),'description':t('Create\x20a\x20to-do\x20list')}];}['_proxyIsEnabled'](_0x4ea8d5){return _0x4ea8d5['isEnabled']?_0x4ea8d5['isEnabled'](this['editor']):!_0x4ea8d5['commandName']||this['editor']['commands']['get'](_0x4ea8d5['commandName'])['isEnabled'];}['_proxyExecute'](_0xb36670){if(_0xb36670['execute'])_0xb36670['execute'](this['editor']);else{if(!_0xb36670['commandName'])throw new _0x523f11('slash-command-execute-missing',this['editor'],{'commandDefinition':_0xb36670});this['editor']['execute'](_0xb36670['commandName']);}}}function d(_0x2b72b6,_0x15956e){return _0x2b72b6['title']<_0x15956e['title']?-0x1:_0x2b72b6['title']>_0x15956e['title']?0x1:0x0;}function c(_0x40e868,_0x573775){return _0x573775+'-'+_0x40e868['toLowerCase']()['split']('\x20')['join']('-');}